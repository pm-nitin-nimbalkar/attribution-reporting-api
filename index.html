<!doctype html><html lang="en">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <title>Attribution Reporting</title>
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
  <link href="https://www.w3.org/StyleSheets/TR/2021/cg-draft" rel="stylesheet">
  <meta content="Bikeshed version 82ce88815, updated Thu Sep 7 16:33:55 2023 -0700" name="generator">
  <link href="https://wicg.github.io/attribution-reporting-api" rel="canonical">
<style>/* Boilerplate: style-autolinks */
.css.css, .property.property, .descriptor.descriptor {
    color: var(--a-normal-text);
    font-size: inherit;
    font-family: inherit;
}
.css::before, .property::before, .descriptor::before {
    content: "‘";
}
.css::after, .property::after, .descriptor::after {
    content: "’";
}
.property, .descriptor {
    /* Don't wrap property and descriptor names */
    white-space: nowrap;
}
.type { /* CSS value <type> */
    font-style: italic;
}
pre .property::before, pre .property::after {
    content: "";
}
[data-link-type="property"]::before,
[data-link-type="propdesc"]::before,
[data-link-type="descriptor"]::before,
[data-link-type="value"]::before,
[data-link-type="function"]::before,
[data-link-type="at-rule"]::before,
[data-link-type="selector"]::before,
[data-link-type="maybe"]::before {
    content: "‘";
}
[data-link-type="property"]::after,
[data-link-type="propdesc"]::after,
[data-link-type="descriptor"]::after,
[data-link-type="value"]::after,
[data-link-type="function"]::after,
[data-link-type="at-rule"]::after,
[data-link-type="selector"]::after,
[data-link-type="maybe"]::after {
    content: "’";
}

[data-link-type].production::before,
[data-link-type].production::after,
.prod [data-link-type]::before,
.prod [data-link-type]::after {
    content: "";
}

[data-link-type=element],
[data-link-type=element-attr] {
    font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
    font-size: .9em;
}
[data-link-type=element]::before { content: "<" }
[data-link-type=element]::after  { content: ">" }

[data-link-type=biblio] {
    white-space: pre;
}

@media (prefers-color-scheme: dark) {
    :root {
        --selflink-text: black;
        --selflink-bg: silver;
        --selflink-hover-text: white;
    }
}
</style>
<style>/* Boilerplate: style-colors */

/* Any --*-text not paired with a --*-bg is assumed to have a transparent bg */
:root {
    color-scheme: light dark;

    --text: black;
    --bg: white;

    --unofficial-watermark: url(https://www.w3.org/StyleSheets/TR/2016/logos/UD-watermark);

    --logo-bg: #1a5e9a;
    --logo-active-bg: #c00;
    --logo-text: white;

    --tocnav-normal-text: #707070;
    --tocnav-normal-bg: var(--bg);
    --tocnav-hover-text: var(--tocnav-normal-text);
    --tocnav-hover-bg: #f8f8f8;
    --tocnav-active-text: #c00;
    --tocnav-active-bg: var(--tocnav-normal-bg);

    --tocsidebar-text: var(--text);
    --tocsidebar-bg: #f7f8f9;
    --tocsidebar-shadow: rgba(0,0,0,.1);
    --tocsidebar-heading-text: hsla(203,20%,40%,.7);

    --toclink-text: var(--text);
    --toclink-underline: #3980b5;
    --toclink-visited-text: var(--toclink-text);
    --toclink-visited-underline: #054572;

    --heading-text: #005a9c;

    --hr-text: var(--text);

    --algo-border: #def;

    --del-text: red;
    --del-bg: transparent;
    --ins-text: #080;
    --ins-bg: transparent;

    --a-normal-text: #034575;
    --a-normal-underline: #bbb;
    --a-visited-text: var(--a-normal-text);
    --a-visited-underline: #707070;
    --a-hover-bg: rgba(75%, 75%, 75%, .25);
    --a-active-text: #c00;
    --a-active-underline: #c00;

    --blockquote-border: silver;
    --blockquote-bg: transparent;
    --blockquote-text: currentcolor;

    --issue-border: #e05252;
    --issue-bg: #fbe9e9;
    --issue-text: var(--text);
    --issueheading-text: #831616;

    --example-border: #e0cb52;
    --example-bg: #fcfaee;
    --example-text: var(--text);
    --exampleheading-text: #574b0f;

    --note-border: #52e052;
    --note-bg: #e9fbe9;
    --note-text: var(--text);
    --noteheading-text: hsl(120, 70%, 30%);
    --notesummary-underline: silver;

    --assertion-border: #aaa;
    --assertion-bg: #eee;
    --assertion-text: black;

    --advisement-border: orange;
    --advisement-bg: #fec;
    --advisement-text: var(--text);
    --advisementheading-text: #b35f00;

    --warning-border: red;
    --warning-bg: hsla(40,100%,50%,0.95);
    --warning-text: var(--text);

    --amendment-border: #330099;
    --amendment-bg: #F5F0FF;
    --amendment-text: var(--text);
    --amendmentheading-text: #220066;

    --def-border: #8ccbf2;
    --def-bg: #def;
    --def-text: var(--text);
    --defrow-border: #bbd7e9;

    --datacell-border: silver;

    --indexinfo-text: #707070;

    --indextable-hover-text: black;
    --indextable-hover-bg: #f7f8f9;

    --outdatedspec-bg: rgba(0, 0, 0, .5);
    --outdatedspec-text: black;
    --outdated-bg: maroon;
    --outdated-text: white;
    --outdated-shadow: red;

    --editedrec-bg: darkorange;
}

@media (prefers-color-scheme: dark) {
    :root {
        --text: #ddd;
        --bg: black;

        --unofficial-watermark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='%23100808' transform='translate(200 200) rotate(-45) translate(-200 -200)' stroke='%23100808' stroke-width='3'%3E%3Ctext x='50%25' y='220' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EUNOFFICIAL%3C/text%3E%3Ctext x='50%25' y='305' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EDRAFT%3C/text%3E%3C/g%3E%3C/svg%3E");

        --logo-bg: #1a5e9a;
        --logo-active-bg: #c00;
        --logo-text: white;

        --tocnav-normal-text: #999;
        --tocnav-normal-bg: var(--bg);
        --tocnav-hover-text: var(--tocnav-normal-text);
        --tocnav-hover-bg: #080808;
        --tocnav-active-text: #f44;
        --tocnav-active-bg: var(--tocnav-normal-bg);

        --tocsidebar-text: var(--text);
        --tocsidebar-bg: #080808;
        --tocsidebar-shadow: rgba(255,255,255,.1);
        --tocsidebar-heading-text: hsla(203,20%,40%,.7);

        --toclink-text: var(--text);
        --toclink-underline: #6af;
        --toclink-visited-text: var(--toclink-text);
        --toclink-visited-underline: #054572;

        --heading-text: #8af;

        --hr-text: var(--text);

        --algo-border: #456;

        --del-text: #f44;
        --del-bg: transparent;
        --ins-text: #4a4;
        --ins-bg: transparent;

        --a-normal-text: #6af;
        --a-normal-underline: #555;
        --a-visited-text: var(--a-normal-text);
        --a-visited-underline: var(--a-normal-underline);
        --a-hover-bg: rgba(25%, 25%, 25%, .2);
        --a-active-text: #f44;
        --a-active-underline: var(--a-active-text);

        --borderedblock-bg: rgba(255, 255, 255, .05);

        --blockquote-border: silver;
        --blockquote-bg: var(--borderedblock-bg);
        --blockquote-text: currentcolor;

        --issue-border: #e05252;
        --issue-bg: var(--borderedblock-bg);
        --issue-text: var(--text);
        --issueheading-text: hsl(0deg, 70%, 70%);

        --example-border: hsl(50deg, 90%, 60%);
        --example-bg: var(--borderedblock-bg);
        --example-text: var(--text);
        --exampleheading-text: hsl(50deg, 70%, 70%);

        --note-border: hsl(120deg, 100%, 35%);
        --note-bg: var(--borderedblock-bg);
        --note-text: var(--text);
        --noteheading-text: hsl(120, 70%, 70%);
        --notesummary-underline: silver;

        --assertion-border: #444;
        --assertion-bg: var(--borderedblock-bg);
        --assertion-text: var(--text);

        --advisement-border: orange;
        --advisement-bg: #222218;
        --advisement-text: var(--text);
        --advisementheading-text: #f84;

        --warning-border: red;
        --warning-bg: hsla(40,100%,20%,0.95);
        --warning-text: var(--text);

        --amendment-border: #330099;
        --amendment-bg: #080010;
        --amendment-text: var(--text);
        --amendmentheading-text: #cc00ff;

        --def-border: #8ccbf2;
        --def-bg: #080818;
        --def-text: var(--text);
        --defrow-border: #136;

        --datacell-border: silver;

        --indexinfo-text: #aaa;

        --indextable-hover-text: var(--text);
        --indextable-hover-bg: #181818;

        --outdatedspec-bg: rgba(255, 255, 255, .5);
        --outdatedspec-text: black;
        --outdated-bg: maroon;
        --outdated-text: white;
        --outdated-shadow: red;

        --editedrec-bg: darkorange;
    }
    /* In case a transparent-bg image doesn't expect to be on a dark bg,
       which is quite common in practice... */
    img { background: white; }
}
</style>
<style>/* Boilerplate: style-counters */
body {
    counter-reset: example figure issue;
}
.issue {
    counter-increment: issue;
}
.issue:not(.no-marker)::before {
    content: "Issue " counter(issue);
}

.example {
    counter-increment: example;
}
.example:not(.no-marker)::before {
    content: "Example " counter(example);
}
.invalid.example:not(.no-marker)::before,
.illegal.example:not(.no-marker)::before {
    content: "Invalid Example" counter(example);
}

figcaption {
    counter-increment: figure;
}
figcaption:not(.no-marker)::before {
    content: "Figure " counter(figure) " ";
}
</style>
<style>/* Boilerplate: style-dfn-panel */
:root {
    --dfnpanel-bg: #ddd;
    --dfnpanel-text: var(--text);
}
@media (prefers-color-scheme: dark) {
    :root {
        --dfnpanel-bg: #222;
        --dfnpanel-text: var(--text);
    }
}
.dfn-panel {
    position: absolute;
    z-index: 35;
    width: 20em;
    width: 300px;
    height: auto;
    max-height: 500px;
    overflow: auto;
    padding: 0.5em 0.75em;
    font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
    background: var(--dfnpanel-bg);
    color: var(--dfnpanel-text);
    border: outset 0.2em;
    white-space: normal; /* in case it's moved into a pre */
}
.dfn-panel:not(.on) { display: none; }
.dfn-panel * { margin: 0; padding: 0; text-indent: 0; }
.dfn-panel > b { display: block; }
.dfn-panel a { color: var(--dfnpanel-text); }
.dfn-panel a:not(:hover) { text-decoration: none !important; border-bottom: none !important; }
.dfn-panel > b + b { margin-top: 0.25em; }
.dfn-panel ul { padding: 0 0 0 1em; list-style: none; }
.dfn-panel li a {
    white-space: pre;
    display: inline-block;
    max-width: calc(300px - 1.5em - 1em);
    overflow: hidden;
    text-overflow: ellipsis;
}

.dfn-panel.activated {
    display: inline-block;
    position: fixed;
    left: .5em;
    bottom: 2em;
    margin: 0 auto;
    max-width: calc(100vw - 1.5em - .4em - .5em);
    max-height: 30vh;
}

.dfn-paneled[role="button"] { cursor: pointer; }
</style>
<style>/* Boilerplate: style-dfn-panel */
:root {
    --dfnpanel-bg: #ddd;
    --dfnpanel-text: var(--text);
}
@media (prefers-color-scheme: dark) {
    :root {
        --dfnpanel-bg: #222;
        --dfnpanel-text: var(--text);
    }
}
.dfn-panel {
    position: absolute;
    z-index: 35;
    width: 20em;
    width: 300px;
    height: auto;
    max-height: 500px;
    overflow: auto;
    padding: 0.5em 0.75em;
    font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
    background: var(--dfnpanel-bg);
    color: var(--dfnpanel-text);
    border: outset 0.2em;
    white-space: normal; /* in case it's moved into a pre */
}
.dfn-panel:not(.on) { display: none; }
.dfn-panel * { margin: 0; padding: 0; text-indent: 0; }
.dfn-panel > b { display: block; }
.dfn-panel a { color: var(--dfnpanel-text); }
.dfn-panel a:not(:hover) { text-decoration: none !important; border-bottom: none !important; }
.dfn-panel > b + b { margin-top: 0.25em; }
.dfn-panel ul { padding: 0 0 0 1em; list-style: none; }
.dfn-panel li a {
    white-space: pre;
    display: inline-block;
    max-width: calc(300px - 1.5em - 1em);
    overflow: hidden;
    text-overflow: ellipsis;
}

.dfn-panel.activated {
    display: inline-block;
    position: fixed;
    left: .5em;
    bottom: 2em;
    margin: 0 auto;
    max-width: calc(100vw - 1.5em - .4em - .5em);
    max-height: 30vh;
}

.dfn-paneled[role="button"] { cursor: pointer; }
</style>
<style>/* Boilerplate: style-issues */
a[href].issue-return {
    float: right;
    float: inline-end;
    color: var(--issueheading-text);
    font-weight: bold;
    text-decoration: none;
}
</style>
<style>/* Boilerplate: style-md-lists */
/* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
[data-md] > :first-child {
    margin-top: 0;
}
[data-md] > :last-child {
    margin-bottom: 0;
}
</style>
<style>/* Boilerplate: style-selflinks */

:root {
    --selflink-text: white;
    --selflink-bg: gray;
    --selflink-hover-text: black;
}
.heading, .issue, .note, .example, li, dt {
    position: relative;
}
a.self-link {
    position: absolute;
    top: 0;
    left: calc(-1 * (3.5rem - 26px));
    width: calc(3.5rem - 26px);
    height: 2em;
    text-align: center;
    border: none;
    transition: opacity .2s;
    opacity: .5;
}
a.self-link:hover {
    opacity: 1;
}
.heading > a.self-link {
    font-size: 83%;
}
.example > a.self-link,
.note > a.self-link,
.issue > a.self-link {
    /* These blocks are overflow:auto, so positioning outside
       doesn't work. */
    left: auto;
    right: 0;
}
li > a.self-link {
    left: calc(-1 * (3.5rem - 26px) - 2em);
}
dfn > a.self-link {
    top: auto;
    left: auto;
    opacity: 0;
    width: 1.5em;
    height: 1.5em;
    background: var(--selflink-bg);
    color: var(--selflink-text);
    font-style: normal;
    transition: opacity .2s, background-color .2s, color .2s;
}
dfn:hover > a.self-link {
    opacity: 1;
}
dfn > a.self-link:hover {
    color: var(--selflink-hover-text);
}

a.self-link::before            { content: "¶"; }
.heading > a.self-link::before { content: "§"; }
dfn > a.self-link::before      { content: "#"; }
</style>
<style>/* Boilerplate: style-syntax-highlighting */

            pre.idl.highlight {
                background: var(--borderedblock-bg, var(--def-bg));
            }
            
</style>
<style>/* Boilerplate: style-syntax-highlighting */

code.highlight { padding: .1em; border-radius: .3em; }
pre.highlight, pre > code.highlight { display: block; padding: 1em; margin: .5em 0; overflow: auto; border-radius: 0; }

.highlight:not(.idl) { background: rgba(0, 0, 0, .03); }
c-[a] { color: #990055 } /* Keyword.Declaration */
c-[b] { color: #990055 } /* Keyword.Type */
c-[c] { color: #708090 } /* Comment */
c-[d] { color: #708090 } /* Comment.Multiline */
c-[e] { color: #0077aa } /* Name.Attribute */
c-[f] { color: #669900 } /* Name.Tag */
c-[g] { color: #222222 } /* Name.Variable */
c-[k] { color: #990055 } /* Keyword */
c-[l] { color: #000000 } /* Literal */
c-[m] { color: #000000 } /* Literal.Number */
c-[n] { color: #0077aa } /* Name */
c-[o] { color: #999999 } /* Operator */
c-[p] { color: #999999 } /* Punctuation */
c-[s] { color: #a67f59 } /* Literal.String */
c-[t] { color: #a67f59 } /* Literal.String.Single */
c-[u] { color: #a67f59 } /* Literal.String.Double */
c-[cp] { color: #708090 } /* Comment.Preproc */
c-[c1] { color: #708090 } /* Comment.Single */
c-[cs] { color: #708090 } /* Comment.Special */
c-[kc] { color: #990055 } /* Keyword.Constant */
c-[kn] { color: #990055 } /* Keyword.Namespace */
c-[kp] { color: #990055 } /* Keyword.Pseudo */
c-[kr] { color: #990055 } /* Keyword.Reserved */
c-[ld] { color: #000000 } /* Literal.Date */
c-[nc] { color: #0077aa } /* Name.Class */
c-[no] { color: #0077aa } /* Name.Constant */
c-[nd] { color: #0077aa } /* Name.Decorator */
c-[ni] { color: #0077aa } /* Name.Entity */
c-[ne] { color: #0077aa } /* Name.Exception */
c-[nf] { color: #0077aa } /* Name.Function */
c-[nl] { color: #0077aa } /* Name.Label */
c-[nn] { color: #0077aa } /* Name.Namespace */
c-[py] { color: #0077aa } /* Name.Property */
c-[ow] { color: #999999 } /* Operator.Word */
c-[mb] { color: #000000 } /* Literal.Number.Bin */
c-[mf] { color: #000000 } /* Literal.Number.Float */
c-[mh] { color: #000000 } /* Literal.Number.Hex */
c-[mi] { color: #000000 } /* Literal.Number.Integer */
c-[mo] { color: #000000 } /* Literal.Number.Oct */
c-[sb] { color: #a67f59 } /* Literal.String.Backtick */
c-[sc] { color: #a67f59 } /* Literal.String.Char */
c-[sd] { color: #a67f59 } /* Literal.String.Doc */
c-[se] { color: #a67f59 } /* Literal.String.Escape */
c-[sh] { color: #a67f59 } /* Literal.String.Heredoc */
c-[si] { color: #a67f59 } /* Literal.String.Interpol */
c-[sx] { color: #a67f59 } /* Literal.String.Other */
c-[sr] { color: #a67f59 } /* Literal.String.Regex */
c-[ss] { color: #a67f59 } /* Literal.String.Symbol */
c-[vc] { color: #0077aa } /* Name.Variable.Class */
c-[vg] { color: #0077aa } /* Name.Variable.Global */
c-[vi] { color: #0077aa } /* Name.Variable.Instance */
c-[il] { color: #000000 } /* Literal.Number.Integer.Long */


@media (prefers-color-scheme: dark) {
    .highlight:not(.idl) { background: rgba(255, 255, 255, .05); }

    c-[a] { color: #d33682 } /* Keyword.Declaration */
    c-[b] { color: #d33682 } /* Keyword.Type */
    c-[c] { color: #2aa198 } /* Comment */
    c-[d] { color: #2aa198 } /* Comment.Multiline */
    c-[e] { color: #268bd2 } /* Name.Attribute */
    c-[f] { color: #b58900 } /* Name.Tag */
    c-[g] { color: #cb4b16 } /* Name.Variable */
    c-[k] { color: #d33682 } /* Keyword */
    c-[l] { color: #657b83 } /* Literal */
    c-[m] { color: #657b83 } /* Literal.Number */
    c-[n] { color: #268bd2 } /* Name */
    c-[o] { color: #657b83 } /* Operator */
    c-[p] { color: #657b83 } /* Punctuation */
    c-[s] { color: #6c71c4 } /* Literal.String */
    c-[t] { color: #6c71c4 } /* Literal.String.Single */
    c-[u] { color: #6c71c4 } /* Literal.String.Double */
    c-[ch] { color: #2aa198 } /* Comment.Hashbang */
    c-[cp] { color: #2aa198 } /* Comment.Preproc */
    c-[cpf] { color: #2aa198 } /* Comment.PreprocFile */
    c-[c1] { color: #2aa198 } /* Comment.Single */
    c-[cs] { color: #2aa198 } /* Comment.Special */
    c-[kc] { color: #d33682 } /* Keyword.Constant */
    c-[kn] { color: #d33682 } /* Keyword.Namespace */
    c-[kp] { color: #d33682 } /* Keyword.Pseudo */
    c-[kr] { color: #d33682 } /* Keyword.Reserved */
    c-[ld] { color: #657b83 } /* Literal.Date */
    c-[nc] { color: #268bd2 } /* Name.Class */
    c-[no] { color: #268bd2 } /* Name.Constant */
    c-[nd] { color: #268bd2 } /* Name.Decorator */
    c-[ni] { color: #268bd2 } /* Name.Entity */
    c-[ne] { color: #268bd2 } /* Name.Exception */
    c-[nf] { color: #268bd2 } /* Name.Function */
    c-[nl] { color: #268bd2 } /* Name.Label */
    c-[nn] { color: #268bd2 } /* Name.Namespace */
    c-[py] { color: #268bd2 } /* Name.Property */
    c-[ow] { color: #657b83 } /* Operator.Word */
    c-[mb] { color: #657b83 } /* Literal.Number.Bin */
    c-[mf] { color: #657b83 } /* Literal.Number.Float */
    c-[mh] { color: #657b83 } /* Literal.Number.Hex */
    c-[mi] { color: #657b83 } /* Literal.Number.Integer */
    c-[mo] { color: #657b83 } /* Literal.Number.Oct */
    c-[sa] { color: #6c71c4 } /* Literal.String.Affix */
    c-[sb] { color: #6c71c4 } /* Literal.String.Backtick */
    c-[sc] { color: #6c71c4 } /* Literal.String.Char */
    c-[dl] { color: #6c71c4 } /* Literal.String.Delimiter */
    c-[sd] { color: #6c71c4 } /* Literal.String.Doc */
    c-[se] { color: #6c71c4 } /* Literal.String.Escape */
    c-[sh] { color: #6c71c4 } /* Literal.String.Heredoc */
    c-[si] { color: #6c71c4 } /* Literal.String.Interpol */
    c-[sx] { color: #6c71c4 } /* Literal.String.Other */
    c-[sr] { color: #6c71c4 } /* Literal.String.Regex */
    c-[ss] { color: #6c71c4 } /* Literal.String.Symbol */
    c-[fm] { color: #268bd2 } /* Name.Function.Magic */
    c-[vc] { color: #cb4b16 } /* Name.Variable.Class */
    c-[vg] { color: #cb4b16 } /* Name.Variable.Global */
    c-[vi] { color: #cb4b16 } /* Name.Variable.Instance */
    c-[vm] { color: #cb4b16 } /* Name.Variable.Magic */
    c-[il] { color: #657b83 } /* Literal.Number.Integer.Long */
}
</style>
<style>/* Boilerplate: style-var-click-highlighting */
/*
Colors were chosen in Lab using https://nixsensor.com/free-color-converter/
D50 2deg illuminant, L in [0,100], a and b in [-128, 128]
0 = lab(85,0,85)
1 = lab(85,80,30)
2 = lab(85,-40,40)
3 = lab(85,-50,0)
4 = lab(85,5,15)
5 = lab(85,-10,-50)
6 = lab(85,35,-15)
*/
var { cursor: pointer; }
var.selected0 { background-color: #F4D200; box-shadow: 0 0 0 2px #F4D200; }
var.selected1 { background-color: #FF87A2; box-shadow: 0 0 0 2px #FF87A2; }
var.selected2 { background-color: #96E885; box-shadow: 0 0 0 2px #96E885; }
var.selected3 { background-color: #3EEED2; box-shadow: 0 0 0 2px #3EEED2; }
var.selected4 { background-color: #EACFB6; box-shadow: 0 0 0 2px #EACFB6; }
var.selected5 { background-color: #82DDFF; box-shadow: 0 0 0 2px #82DDFF; }
var.selected6 { background-color: #FFBCF2; box-shadow: 0 0 0 2px #FFBCF2; }
</style>
 <body class="h-entry">
  <div class="head">
   <p data-fill-with="logo"><a class="logo" href="https://www.w3.org/"> <img alt="W3C" height="48" src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72"> </a> </p>
   <h1 class="p-name no-ref" id="title">Attribution Reporting</h1>
   <p id="w3c-state"><a href="https://www.w3.org/standards/types#CG-DRAFT">Draft Community Group Report</a>, <time class="dt-updated" datetime="2023-09-14">14 September 2023</time></p>
   <div data-fill-with="spec-metadata">
    <dl>
     <dt>This version:
     <dd><a class="u-url" href="https://wicg.github.io/attribution-reporting-api">https://wicg.github.io/attribution-reporting-api</a>
     <dt>Issue Tracking:
     <dd><a href="https://github.com/WICG/attribution-reporting-api/issues/">GitHub</a>
     <dd><a href="#issues-index">Inline In Spec</a>
     <dt class="editor">Editors:
     <dd class="editor p-author h-card vcard"><a class="p-name fn u-email email" href="mailto:csharrison@chromium.org">Charlie Harrison</a> (<a class="p-org org" href="https://google.com">Google Inc.</a>)
     <dd class="editor p-author h-card vcard"><a class="p-name fn u-email email" href="mailto:johnidel@chromium.org">John Delaney</a> (<a class="p-org org" href="https://google.com">Google Inc.</a>)
     <dd class="editor p-author h-card vcard"><a class="p-name fn u-email email" href="mailto:apaseltiner@chromium.org">Andrew Paseltiner</a> (<a class="p-org org" href="https://google.com">Google Inc.</a>)
    </dl>
   </div>
   <div data-fill-with="warning"></div>
   <p class="copyright" data-fill-with="copyright"><a href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> © 2023 the Contributors to the Attribution Reporting Specification, published by the <a href="https://www.w3.org/community/wicg/">Web Platform Incubator Community Group</a> under the <a href="https://www.w3.org/community/about/agreements/cla/">W3C Community Contributor License Agreement (CLA)</a>.
A human-readable <a href="http://www.w3.org/community/about/agreements/cla-deed/">summary</a> is available. </p>
   <hr title="Separator for header">
  </div>
  <div class="p-summary" data-fill-with="abstract">
   <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">Abstract</span></h2>
   <p>An API to report that an event may have been caused by another cross-site event. These reports are designed to transfer little enough data between sites that the sites can’t use them to track individual users.</p>
  </div>
  <div data-fill-with="at-risk"></div>
  <h2 class="no-num no-toc no-ref heading settled" id="status"><span class="content">Status of this document</span></h2>
  <div data-fill-with="status">
   <p> This specification was published by the <a href="https://www.w3.org/community/wicg/">Web Platform Incubator Community Group</a>.
  It is not a W3C Standard nor is it on the W3C Standards Track.

  Please note that under the <a href="https://www.w3.org/community/about/agreements/cla/">W3C Community Contributor License Agreement (CLA)</a> there is a limited opt-out and other conditions apply.

  Learn more about <a href="http://www.w3.org/community/">W3C Community and Business Groups</a>. </p>
   <p></p>
  </div>
  <div data-fill-with="at-risk"></div>
  <nav data-fill-with="table-of-contents" id="toc">
   <h2 class="no-num no-toc no-ref" id="contents">Table of Contents</h2>
   <ol class="toc" role="directory">
    <li>
     <a href="#intro"><span class="secno">1</span> <span class="content">Introduction</span></a>
     <ol class="toc">
      <li><a href="#overview"><span class="secno">1.1</span> <span class="content">Overview</span></a>
     </ol>
    <li>
     <a href="#html-monkeypatches"><span class="secno">2</span> <span class="content">HTML monkeypatches</span></a>
     <ol class="toc">
      <li><a href="#monkeypatch-attributionsrc"><span class="secno">2.1</span> <span class="content">API for elements</span></a>
      <li><a href="#monkeypatch-window-open"><span class="secno">2.2</span> <span class="content">Window open steps</span></a>
      <li><a href="#navigation-monkeypatches"><span class="secno">2.3</span> <span class="content">Navigation monkeypatches</span></a>
     </ol>
    <li>
     <a href="#network-monkeypatches"><span class="secno">3</span> <span class="content">Network monkeypatches</span></a>
     <ol class="toc">
      <li><a href="#monkeypatch-fetch"><span class="secno">3.1</span> <span class="content">Fetch monkeypatches</span></a>
      <li><a href="#monkeypatch-xmlhttprequest"><span class="secno">3.2</span> <span class="content">XMLHttpRequest monkeypatches</span></a>
     </ol>
    <li><a href="#fenced-frame-monkeypatches"><span class="secno">4</span> <span class="content">Fenced Frame monkeypatches</span></a>
    <li><a href="#permission-policy-integration"><span class="secno">5</span> <span class="content">Permissions Policy integration</span></a>
    <li><a href="#clear-site-data-integration"><span class="secno">6</span> <span class="content">Clear Site Data integration</span></a>
    <li>
     <a href="#structures"><span class="secno">7</span> <span class="content">Structures</span></a>
     <ol class="toc">
      <li><a href="#trigger-state"><span class="secno">7.1</span> <span class="content">Trigger state</span></a>
      <li><a href="#randomized-response-output-configuration"><span class="secno">7.2</span> <span class="content">Randomized response output configuration</span></a>
      <li><a href="#randomized-source-response"><span class="secno">7.3</span> <span class="content">Randomized source response</span></a>
      <li><a href="#attribution-filtering"><span class="secno">7.4</span> <span class="content">Attribution filtering</span></a>
      <li><a href="#suitable-origin"><span class="secno">7.5</span> <span class="content">Suitable origin</span></a>
      <li><a href="#source-type-header"><span class="secno">7.6</span> <span class="content">Source type</span></a>
      <li><a href="#report-window-header"><span class="secno">7.7</span> <span class="content">Report window</span></a>
      <li><a href="#attribution-source"><span class="secno">7.8</span> <span class="content">Attribution source</span></a>
      <li><a href="#aggregatable-trigger-data"><span class="secno">7.9</span> <span class="content">Aggregatable trigger data</span></a>
      <li><a href="#aggregatable-dedup-key"><span class="secno">7.10</span> <span class="content">Aggregatable dedup key</span></a>
      <li><a href="#event-level-trigger-configuration"><span class="secno">7.11</span> <span class="content">Event-level trigger configuration</span></a>
      <li><a href="#aggregation-coordinator-header"><span class="secno">7.12</span> <span class="content">Aggregation coordinator</span></a>
      <li><a href="#aggregatable-source-registration-time-configuration-header"><span class="secno">7.13</span> <span class="content">Aggregatable source registration time configuration</span></a>
      <li><a href="#attribution-trigger"><span class="secno">7.14</span> <span class="content">Attribution trigger</span></a>
      <li><a href="#attribution-report"><span class="secno">7.15</span> <span class="content">Attribution report</span></a>
      <li><a href="#event-level-report"><span class="secno">7.16</span> <span class="content">Event-level report</span></a>
      <li><a href="#aggregatable-contribution"><span class="secno">7.17</span> <span class="content">Aggregatable contribution</span></a>
      <li><a href="#aggregatable-report"><span class="secno">7.18</span> <span class="content">Aggregatable report</span></a>
      <li><a href="#attribution-rate-limits"><span class="secno">7.19</span> <span class="content">Attribution rate-limits</span></a>
      <li><a href="#attribution-debug-data"><span class="secno">7.20</span> <span class="content">Attribution debug data</span></a>
      <li><a href="#attribution-debug-report"><span class="secno">7.21</span> <span class="content">Attribution debug report</span></a>
      <li><a href="#serialized-private-state-token"><span class="secno">7.22</span> <span class="content">Serialized private state token</span></a>
      <li><a href="#trigger-verification"><span class="secno">7.23</span> <span class="content">Trigger verification</span></a>
      <li><a href="#trigger-verification-metadata"><span class="secno">7.24</span> <span class="content">Trigger verification metadata</span></a>
      <li><a href="#triggering-result"><span class="secno">7.25</span> <span class="content">Triggering result</span></a>
      <li><a href="#destination-rate-limit-result"><span class="secno">7.26</span> <span class="content">Destination rate-limit result</span></a>
     </ol>
    <li><a href="#storage"><span class="secno">8</span> <span class="content">Storage</span></a>
    <li><a href="#constants"><span class="secno">9</span> <span class="content">Constants</span></a>
    <li><a href="#vendor-specific-values"><span class="secno">10</span> <span class="content">Vendor-Specific Values</span></a>
    <li>
     <a href="#general-algorithms"><span class="secno">11</span> <span class="content">General Algorithms</span></a>
     <ol class="toc">
      <li><a href="#serialize-integer"><span class="secno">11.1</span> <span class="content">Serialize an integer</span></a>
      <li><a href="#parsing-json-fields"><span class="secno">11.2</span> <span class="content">Parsing JSON fields</span></a>
      <li><a href="#serialize-destinations"><span class="secno">11.3</span> <span class="content">Serialize attribution destinations</span></a>
      <li><a href="#parsing-filter-data"><span class="secno">11.4</span> <span class="content">Parsing filter data</span></a>
      <li><a href="#parsing-filters"><span class="secno">11.5</span> <span class="content">Parsing filters</span></a>
      <li><a href="#debug-keys"><span class="secno">11.6</span> <span class="content">Cookie-based debugging</span></a>
      <li><a href="#obtaining-context-origin"><span class="secno">11.7</span> <span class="content">Obtaining context origin</span></a>
      <li><a href="#obtaining-randomized-response"><span class="secno">11.8</span> <span class="content">Obtaining a randomized response</span></a>
      <li><a href="#parsing-aggregation-key-piece"><span class="secno">11.9</span> <span class="content">Parsing aggregation key piece</span></a>
      <li><a href="#can-attribution-rate-limit-record-be-removed"><span class="secno">11.10</span> <span class="content">Can attribution rate-limit record be removed</span></a>
      <li><a href="#obtaining-and-delivering-debug-report"><span class="secno">11.11</span> <span class="content">Obtaining and delivering an attribution debug report</span></a>
      <li><a href="#making-a-background-attributionsrc-request"><span class="secno">11.12</span> <span class="content">Making a background attributionsrc request</span></a>
     </ol>
    <li>
     <a href="#source-algorithms"><span class="secno">12</span> <span class="content">Source Algorithms</span></a>
     <ol class="toc">
      <li><a href="#obtaining-randomized-source-response"><span class="secno">12.1</span> <span class="content">Obtaining a randomized source response</span></a>
      <li><a href="#computing-channel-capacity"><span class="secno">12.2</span> <span class="content">Computing channel capacity</span></a>
      <li><a href="#parsing-source-registration"><span class="secno">12.3</span> <span class="content">Parsing source-registration JSON</span></a>
      <li><a href="#processing-an-attribution-source"><span class="secno">12.4</span> <span class="content">Processing an attribution source</span></a>
     </ol>
    <li>
     <a href="#trigger-algorithms"><span class="secno">13</span> <span class="content">Triggering Algorithms</span></a>
     <ol class="toc">
      <li><a href="#attribution-trigger-creation"><span class="secno">13.1</span> <span class="content">Creating an attribution trigger</span></a>
      <li><a href="#does-filter-data-match"><span class="secno">13.2</span> <span class="content">Does filter data match</span></a>
      <li><a href="#should-block-attribution-for-attribution-limit"><span class="secno">13.3</span> <span class="content">Should attribution be blocked by attribution rate limit</span></a>
      <li><a href="#should-block-processing-for-reporting-origin-limit"><span class="secno">13.4</span> <span class="content">Should processing be blocked by reporting-origin limit</span></a>
      <li><a href="#should-block-attribution-for-rate-limits"><span class="secno">13.5</span> <span class="content">Should attribution be blocked by rate limits</span></a>
      <li><a href="#creating-aggregatable-contributions"><span class="secno">13.6</span> <span class="content">Creating aggregatable contributions</span></a>
      <li><a href="#can-source-create-aggregatable-contributions"><span class="secno">13.7</span> <span class="content">Can source create aggregatable contributions</span></a>
      <li><a href="#obtaining-trigger-debug-data"><span class="secno">13.8</span> <span class="content">Obtaining debug data on trigger registration</span></a>
      <li><a href="#triggering-event-level-attribution"><span class="secno">13.9</span> <span class="content">Triggering event-level attribution</span></a>
      <li><a href="#triggering-aggregatable-attribution"><span class="secno">13.10</span> <span class="content">Triggering aggregatable attribution</span></a>
      <li><a href="#triggering-attribution"><span class="secno">13.11</span> <span class="content">Triggering attribution</span></a>
      <li><a href="#delivery-time"><span class="secno">13.12</span> <span class="content">Establishing report delivery time</span></a>
      <li><a href="#obtaining-an-event-level-report"><span class="secno">13.13</span> <span class="content">Obtaining an event-level report</span></a>
      <li><a href="#obtaining-required-aggregatable-budget"><span class="secno">13.14</span> <span class="content">Obtaining an aggregatable report’s required budget</span></a>
      <li><a href="#obtaining-an-aggregatable-report"><span class="secno">13.15</span> <span class="content">Obtaining an aggregatable report</span></a>
      <li><a href="#generating-randomized-null-reports"><span class="secno">13.16</span> <span class="content">Generating randomized null reports</span></a>
      <li><a href="#deferring-trigger-attribution"><span class="secno">13.17</span> <span class="content">Deferring trigger attribution</span></a>
     </ol>
    <li>
     <a href="#report-delivery"><span class="secno">14</span> <span class="content">Report delivery</span></a>
     <ol class="toc">
      <li><a href="#encode-integer"><span class="secno">14.1</span> <span class="content">Encode an unsigned k-bit integer</span></a>
      <li><a href="#obtain-aggregatable-report-debug-mode"><span class="secno">14.2</span> <span class="content">Obtaining an aggregatable report’s debug mode</span></a>
      <li><a href="#obtain-aggregatable-report-shared-info"><span class="secno">14.3</span> <span class="content">Obtaining an aggregatable report’s shared info</span></a>
      <li><a href="#obtain-aggregatable-report-aggregation-service-payloads"><span class="secno">14.4</span> <span class="content">Obtaining an aggregatable report’s aggregation service payloads</span></a>
      <li><a href="#serialize-report-body"><span class="secno">14.5</span> <span class="content">Serialize attribution report body</span></a>
      <li><a href="#serialize-debug-report-body"><span class="secno">14.6</span> <span class="content">Serialize attribution debug report body</span></a>
      <li><a href="#get-report-url"><span class="secno">14.7</span> <span class="content">Get report request URL</span></a>
      <li><a href="#create-report-request"><span class="secno">14.8</span> <span class="content">Creating a report request</span></a>
      <li><a href="#get-report-headers"><span class="secno">14.9</span> <span class="content">Get report request headers</span></a>
      <li><a href="#issue-report-request"><span class="secno">14.10</span> <span class="content">Issuing a report request</span></a>
      <li><a href="#issue-debug-report-request"><span class="secno">14.11</span> <span class="content">Issuing a debug report request</span></a>
      <li><a href="#issue-verbose-debug-report-request"><span class="secno">14.12</span> <span class="content">Issuing a verbose debug request</span></a>
     </ol>
    <li><a href="#cross-app-and-web"><span class="secno">15</span> <span class="content">Cross App and Web Algorithms</span></a>
    <li>
     <a href="#report-verification"><span class="secno">16</span> <span class="content">Report Verification Algorithms</span></a>
     <ol class="toc">
      <li><a href="#initiate-trigger-verification"><span class="secno">16.1</span> <span class="content">Initiate trigger verification</span></a>
      <li><a href="#handle-trigger-verification"><span class="secno">16.2</span> <span class="content">Handle trigger verification</span></a>
     </ol>
    <li>
     <a href="#automation"><span class="secno">17</span> <span class="content">User-Agent Automation</span></a>
     <ol class="toc">
      <li><a href="#webdriver-setlocaltestingmode"><span class="secno">17.1</span> <span class="content">Set local testing mode</span></a>
     </ol>
    <li>
     <a href="#security-considerations"><span class="secno">18</span> <span class="content">Security considerations</span></a>
     <ol class="toc">
      <li><a href="#same-origin-policy"><span class="secno">18.1</span> <span class="content">Same-Origin Policy</span></a>
      <li><a href="#opting-in-to-the-api"><span class="secno">18.2</span> <span class="content">Opting in to the API</span></a>
     </ol>
    <li>
     <a href="#privacy-considerations"><span class="secno">19</span> <span class="content">Privacy considerations</span></a>
     <ol class="toc">
      <li><a href="#clearing-site-data"><span class="secno">19.1</span> <span class="content">Clearing site data</span></a>
      <li>
       <a href="#cross-site-information-disclosure"><span class="secno">19.2</span> <span class="content">Cross-site information disclosure</span></a>
       <ol class="toc">
        <li><a href="#cross-site-information-disclosure-event-level-reports"><span class="secno">19.2.1</span> <span class="content">Event-level reports</span></a>
        <li><a href="#cross-site-information-disclosure-aggregatable-reports"><span class="secno">19.2.2</span> <span class="content">Aggregatable reports</span></a>
        <li><a href="#cross-site-information-disclosure-debug-reports"><span class="secno">19.2.3</span> <span class="content">Debug reports</span></a>
       </ol>
      <li>
       <a href="#protecting-against-cross-site-recognition"><span class="secno">19.3</span> <span class="content">Protecting against cross-site recognition</span></a>
       <ol class="toc">
        <li><a href="#cross-site-recognition-event-level-reports"><span class="secno">19.3.1</span> <span class="content">Event-level reports</span></a>
        <li><a href="#cross-site-recognition-aggregatable-reports"><span class="secno">19.3.2</span> <span class="content">Aggregatable reports</span></a>
       </ol>
      <li><a href="#mitigating-against-repeated-API-use"><span class="secno">19.4</span> <span class="content">Mitigating against repeated API use</span></a>
      <li><a href="#protecting-against-browsing-history-reconstruction"><span class="secno">19.5</span> <span class="content">Protecting against browsing history reconstruction</span></a>
      <li>
       <a href="#reporting-delay-concerns"><span class="secno">19.6</span> <span class="content">Reporting-delay concerns</span></a>
       <ol class="toc">
        <li><a href="#cross-network-reporting-origin-leakage"><span class="secno">19.6.1</span> <span class="content">Cross-network reporting-origin leakage</span></a>
        <li><a href="#user-presence-tracking"><span class="secno">19.6.2</span> <span class="content">User-presence tracking</span></a>
       </ol>
     </ol>
    <li>
     <a href="#w3c-conformance"><span class="secno"></span> <span class="content">Conformance</span></a>
     <ol class="toc">
      <li><a href="#w3c-conventions"><span class="secno"></span> <span class="content">Document conventions</span></a>
     </ol>
    <li>
     <a href="#index"><span class="secno"></span> <span class="content">Index</span></a>
     <ol class="toc">
      <li><a href="#index-defined-here"><span class="secno"></span> <span class="content">Terms defined by this specification</span></a>
      <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span class="content">Terms defined by reference</span></a>
     </ol>
    <li>
     <a href="#references"><span class="secno"></span> <span class="content">References</span></a>
     <ol class="toc">
      <li><a href="#normative"><span class="secno"></span> <span class="content">Normative References</span></a>
      <li><a href="#informative"><span class="secno"></span> <span class="content">Informative References</span></a>
     </ol>
    <li><a href="#idl-index"><span class="secno"></span> <span class="content">IDL Index</span></a>
    <li><a href="#issues-index"><span class="secno"></span> <span class="content">Issues Index</span></a>
   </ol>
  </nav>
  <main>
   <h2 class="heading settled" data-level="1" id="intro"><span class="secno">1. </span><span class="content">Introduction</span><a class="self-link" href="#intro"></a></h2>
   <p><em>This section is non-normative</em></p>
   <p>This specification describes how web browsers can provide a mechanism to the
web that supports measuring and attributing conversions (e.g. purchases) to ads
a user interacted with on another site. This mechanism should remove one need
for cross-site identifiers like third-party cookies.</p>
   <h3 class="heading settled" data-level="1.1" id="overview"><span class="secno">1.1. </span><span class="content">Overview</span><a class="self-link" href="#overview"></a></h3>
   <p>Pages/embedded sites are given the ability to register <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source">attribution sources</a> and <a data-link-type="dfn" href="#attribution-trigger" id="ref-for-attribution-trigger">attribution triggers</a>, which can be linked by the User Agent to generate and
send <a data-link-type="dfn" href="#attribution-report" id="ref-for-attribution-report">attribution reports</a> containing information from both of those events.</p>
   <p>A reporter <code>https://reporter.example</code> embedded on <code>https://source.example</code> is able to
measure whether an interaction on the page lead to an action on <code>https://destination.example</code> by registering an <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source①">attribution source</a> with <a data-link-type="dfn" href="#attribution-source-attribution-destinations" id="ref-for-attribution-source-attribution-destinations">attribution destinations</a> of « <code>https://destination.example</code> ». Reporters are able to register sources through a variety
of surfaces, but ultimately the reporter is required to provide the User Agent with an
HTTP-response header which allows the source to be eligible for attribution.</p>
   <p>At a later point in time, the reporter, now embedded on <code>https://destination.example</code>,
may register an <a data-link-type="dfn" href="#attribution-trigger" id="ref-for-attribution-trigger①">attribution trigger</a>. Reporters can register triggers by sending an
HTTP-response header containing information about the action/event that occurred. Internally,
the User Agent attempts to match the trigger to previously registered source events based on
where the sources/triggers were registered and configurations provided by the reporter.</p>
   <p>If the User Agent is able to attribute the trigger to a source, it will generate and
send an <a data-link-type="dfn" href="#attribution-report" id="ref-for-attribution-report①">attribution report</a> to the reporter via an HTTP POST request at a later point
in time.</p>
   <h2 class="heading settled" data-level="2" id="html-monkeypatches"><span class="secno">2. </span><span class="content">HTML monkeypatches</span><a class="self-link" href="#html-monkeypatches"></a></h2>
   <h3 class="heading settled" data-level="2.1" id="monkeypatch-attributionsrc"><span class="secno">2.1. </span><span class="content">API for elements</span><a class="self-link" href="#monkeypatch-attributionsrc"></a></h3>
<pre class="idl highlight def"><c- b>interface</c-> <c- b>mixin</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="htmlattributionsrcelementutils"><code><c- g>HTMLAttributionSrcElementUtils</c-></code></dfn> {
    [<a class="idl-code" data-link-type="extended-attribute" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions" id="ref-for-cereactions"><c- g>CEReactions</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext"><c- g>SecureContext</c-></a>] <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="HTMLAttributionSrcElementUtils" data-dfn-type="attribute" data-export data-type="USVString" id="dom-htmlattributionsrcelementutils-attributionsrc"><code><c- g>attributionSrc</c-></code></dfn>;
};

<a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/text-level-semantics.html#htmlanchorelement" id="ref-for-htmlanchorelement"><c- n>HTMLAnchorElement</c-></a> <c- b>includes</c-> <a data-link-type="idl-name" href="#htmlattributionsrcelementutils" id="ref-for-htmlattributionsrcelementutils"><c- n>HTMLAttributionSrcElementUtils</c-></a>;
<a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/embedded-content.html#htmlimageelement" id="ref-for-htmlimageelement"><c- n>HTMLImageElement</c-></a> <c- b>includes</c-> <a data-link-type="idl-name" href="#htmlattributionsrcelementutils" id="ref-for-htmlattributionsrcelementutils①"><c- n>HTMLAttributionSrcElementUtils</c-></a>;
<a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/scripting.html#htmlscriptelement" id="ref-for-htmlscriptelement"><c- n>HTMLScriptElement</c-></a> <c- b>includes</c-> <a data-link-type="idl-name" href="#htmlattributionsrcelementutils" id="ref-for-htmlattributionsrcelementutils②"><c- n>HTMLAttributionSrcElementUtils</c-></a>;
</pre>
   <p>Add the following <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/dom.html#concept-element-attributes" id="ref-for-concept-element-attributes">content attributes</a>:</p>
   <dl>
    <dt data-md><code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-a-element" id="ref-for-the-a-element">a</a></code>
    <dd data-md>
     <p><dfn data-dfn-for="a" data-dfn-type="element-attr" data-export id="element-attrdef-a-attributionsrc"><code>attributionsrc</code><a class="self-link" href="#element-attrdef-a-attributionsrc"></a></dfn> - A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string">string</a> containing
zero or more <a data-link-type="dfn" href="https://www.w3.org/TR/pub-manifest/#dfn-url" id="ref-for-dfn-url">URLs</a> to which a background attributionsrc request will be
made when the <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-a-element" id="ref-for-the-a-element①">a</a></code> is navigated.</p>
    <dt data-md><code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/embedded-content.html#the-img-element" id="ref-for-the-img-element">img</a></code>
    <dd data-md>
     <p><dfn class="dfn-paneled" data-dfn-for="img" data-dfn-type="element-attr" data-export id="element-attrdef-img-attributionsrc"><code>attributionsrc</code></dfn> - A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string①">string</a> containing
zero or more <a data-link-type="dfn" href="https://www.w3.org/TR/pub-manifest/#dfn-url" id="ref-for-dfn-url①">URLs</a> to which a background attributionsrc request will be
made when set.</p>
    <dt data-md><code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/scripting.html#script" id="ref-for-script">script</a></code>
    <dd data-md>
     <p><dfn class="dfn-paneled" data-dfn-for="script" data-dfn-type="element-attr" data-export id="element-attrdef-script-attributionsrc"><code>attributionsrc</code></dfn> - A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string②">string</a> containing
zero or more <a data-link-type="dfn" href="https://www.w3.org/TR/pub-manifest/#dfn-url" id="ref-for-dfn-url②">URLs</a> to which a background attributionsrc request will be
made when set.</p>
   </dl>
   <p>The IDL attribute <code class="idl"><a data-link-type="idl" href="#dom-htmlattributionsrcelementutils-attributionsrc" id="ref-for-dom-htmlattributionsrcelementutils-attributionsrc">attributionSrc</a></code> must <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/common-dom-interfaces.html#reflect" id="ref-for-reflect">reflect</a> the respective content attribute of the same
name.</p>
   <p>Whenever an <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/embedded-content.html#the-img-element" id="ref-for-the-img-element①">img</a></code> or a <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/scripting.html#script" id="ref-for-script①">script</a></code> <var>element</var> is created or <var>element</var>’s <code class="idl"><a data-link-type="idl" href="#dom-htmlattributionsrcelementutils-attributionsrc" id="ref-for-dom-htmlattributionsrcelementutils-attributionsrc①">attributionSrc</a></code> attribute is set or changed,
run <a data-link-type="dfn" href="#make-background-attributionsrc-requests" id="ref-for-make-background-attributionsrc-requests">make background attributionsrc requests</a> with <var>element</var> and
"<code><a data-link-type="dfn" href="#eligibility-event-source-or-trigger" id="ref-for-eligibility-event-source-or-trigger">event-source-or-trigger</a></code>".</p>
   <p class="issue" id="issue-66e452ec"><a class="self-link" href="#issue-66e452ec"></a> More precisely specify which mutations are relevant for the
attributionsrc attribute.</p>
   <p>Modify <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/images.html#update-the-image-data" id="ref-for-update-the-image-data">update the image data</a> as follows:</p>
   <p>After the step</p>
   <blockquote>
    <p>Set <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#request-priority" id="ref-for-request-priority">priority</a> to the current state...</p>
   </blockquote>
   <p>add the step</p>
   <ol>
    <li data-md>
     <p>If the element has an <code><a data-link-type="element-sub" href="#element-attrdef-img-attributionsrc" id="ref-for-element-attrdef-img-attributionsrc">attributionsrc</a></code> attribute, set <var>request</var>’s <a data-link-type="dfn" href="#request-attribution-reporting-eligibility" id="ref-for-request-attribution-reporting-eligibility">Attribution Reporting Eligibility</a> to
"<code><a data-link-type="dfn" href="#eligibility-event-source-or-trigger" id="ref-for-eligibility-event-source-or-trigger①">event-source-or-trigger</a></code>".</p>
   </ol>
   <p>A <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#script-fetch-options" id="ref-for-script-fetch-options">script fetch options</a> has an associated <dfn class="dfn-paneled" data-dfn-for="script fetch options" data-dfn-type="dfn" data-lt="Attribution Reporting eligibility" data-noexport id="script-fetch-options-attribution-reporting-eligibility"> Attribution Reporting eligibility</dfn> (an <a data-link-type="dfn" href="#eligibility" id="ref-for-eligibility">eligibility</a>). Unless otherwise
stated it is "<code><a data-link-type="dfn" href="#eligibility-unset" id="ref-for-eligibility-unset">unset</a></code>".</p>
   <p>Modify <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/scripting.html#prepare-the-script-element" id="ref-for-prepare-the-script-element">prepare the script element</a> as follows:</p>
   <p>After the step</p>
   <blockquote>
    <p>Let <var>fetch priority</var> be the current state of <var>el</var>’s <code><a data-link-type="element-sub" href="https://html.spec.whatwg.org/multipage/scripting.html#attr-script-fetchpriority" id="ref-for-attr-script-fetchpriority">fetchpriority</a></code> content attribute.</p>
   </blockquote>
   <p>add the step</p>
   <ol>
    <li data-md>
     <p>Let <var>Attribution Reporting eligibility</var> be
"<code><a data-link-type="dfn" href="#eligibility-event-source-or-trigger" id="ref-for-eligibility-event-source-or-trigger②">event-source-or-trigger</a></code>" if <var>el</var> has an <code><a data-link-type="element-sub" href="#element-attrdef-script-attributionsrc" id="ref-for-element-attrdef-script-attributionsrc">attributionsrc</a></code> content attribute and
"<code><a data-link-type="dfn" href="#eligibility-unset" id="ref-for-eligibility-unset①">unset</a></code>" otherwise.</p>
   </ol>
   <p>Add "and <a data-link-type="dfn" href="#script-fetch-options-attribution-reporting-eligibility" id="ref-for-script-fetch-options-attribution-reporting-eligibility">Attribution Reporting eligibility</a> is <var>Attribution Reporting eligibility</var>." to the step</p>
   <blockquote>
    <p>Let <var>options</var> be a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#script-fetch-options" id="ref-for-script-fetch-options①">script fetch options</a> whose...</p>
   </blockquote>
   <p>Modify <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#set-up-the-classic-script-request" id="ref-for-set-up-the-classic-script-request">set up the classic script request</a> and <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#set-up-the-module-script-request" id="ref-for-set-up-the-module-script-request">set up the module script request</a> as follows:</p>
   <p>Add "and its <a data-link-type="dfn" href="#request-attribution-reporting-eligibility" id="ref-for-request-attribution-reporting-eligibility①">Attribution Reporting eligibility</a> is <var>options</var>’s <a data-link-type="dfn" href="#script-fetch-options-attribution-reporting-eligibility" id="ref-for-script-fetch-options-attribution-reporting-eligibility①">Attribution Reporting eligibility</a>."</p>
   <p>Modify <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/links.html#following-hyperlinks-2" id="ref-for-following-hyperlinks-2">follow the hyperlink</a> as follows:</p>
   <p>After the step</p>
   <blockquote>
    <p>If <var>subject</var>’s link types includes...</p>
   </blockquote>
   <p>add the steps</p>
   <ol>
    <li data-md>
     <p>Let <var>navigationSourceEligible</var> be false.</p>
    <li data-md>
     <p>If <var>subject</var> has an <code>attributionsrc</code> attribute:</p>
     <ol>
      <li data-md>
       <p>Set <var>navigationSourceEligible</var> to true.</p>
      <li data-md>
       <p><a data-link-type="dfn" href="#make-background-attributionsrc-requests" id="ref-for-make-background-attributionsrc-requests①">Make background attributionsrc requests</a> with <var>subject</var> and
"<code><a data-link-type="dfn" href="#eligibility-navigation-source" id="ref-for-eligibility-navigation-source">navigation-source</a></code>".</p>
     </ol>
   </ol>
   <p>Add "and <a data-link-type="dfn" href="#navigate-navigationsourceeligible" id="ref-for-navigate-navigationsourceeligible">navigationSourceEligible</a> set to <var>navigationSourceEligible</var>" to the step</p>
   <blockquote>
    <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigate" id="ref-for-navigate">Navigate</a> <var>targetNavigable</var>...</p>
   </blockquote>
   <h3 class="heading settled" data-level="2.2" id="monkeypatch-window-open"><span class="secno">2.2. </span><span class="content">Window open steps</span><a class="self-link" href="#monkeypatch-window-open"></a></h3>
   <p>Modify the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-window-open-features-tokenize" id="ref-for-concept-window-open-features-tokenize">tokenize the features argument</a> as follows:</p>
   <p>Replace the step</p>
   <blockquote>
    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#collect-a-sequence-of-code-points" id="ref-for-collect-a-sequence-of-code-points">Collect a sequence of code points</a> that are not <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#feature-separator" id="ref-for-feature-separator">feature separators</a> code
points from <var>features</var> given <var>position</var>. Set <var>value</var> to the collected code
points, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ascii-lowercase" id="ref-for-ascii-lowercase">converted to ASCII lowercase</a>.</p>
   </blockquote>
   <p>with</p>
   <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#collect-a-sequence-of-code-points" id="ref-for-collect-a-sequence-of-code-points①">Collect a sequence of code points</a> that are not <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#feature-separator" id="ref-for-feature-separator①">feature separators</a> code
points from <var>features</var> given <var>position</var>. Set <var>value</var> to the collected code
points, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ascii-lowercase" id="ref-for-ascii-lowercase①">converted to ASCII lowercase</a>. Set <var>originalCaseValue</var> to the collected code points.</p>
   <p>Replace the step</p>
   <blockquote>
    <p>If <var>name</var> is not the empty string, then set <var>tokenizedFeatures</var>[<var>name</var>] to <var>value</var>.</p>
   </blockquote>
   <p>with the steps</p>
   <ol>
    <li data-md>
     <p>If <var>name</var> is not the empty string:</p>
     <ol>
      <li data-md>
       <p>Switch on <var>name</var>:</p>
       <dl class="switch">
        <dt data-md>"<code>attributionsrc</code>"
        <dd data-md>
         <p>Run the following steps:</p>
         <ol>
          <li data-md>
           <p>If <var>tokenizedFeatures</var>[<var>name</var>] does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists">exist</a>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set">set</a> <var>tokenizedFeatures</var>[<var>name</var>] to a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list">list</a>.</p>
          <li data-md>
           <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append">Append</a> <var>originalCaseValue</var> to <var>tokenizedFeatures</var>[<var>name</var>].</p>
         </ol>
        <dt data-md>Anything else
        <dd data-md>
         <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set①">Set</a> <var>tokenizedFeatures</var>[<var>name</var>] to <var>value</var>.</p>
       </dl>
     </ol>
   </ol>
   <p>Modify the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window-open-steps" id="ref-for-window-open-steps">window open steps</a> as follows:</p>
   <p>After the step</p>
   <blockquote>
    <p>Let <var>tokenizedFeatures</var> be the result of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-window-open-features-tokenize" id="ref-for-concept-window-open-features-tokenize①">tokenizing</a> <var>features</var>.</p>
   </blockquote>
   <p>add the steps</p>
   <ol>
    <li data-md>
     <p>Let <var>navigationSourceEligible</var> be false.</p>
    <li data-md>
     <p>If <var>tokenizedFeatures</var>["<code>attributionsrc</code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①">exists</a>:</p>
     <ol>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert">Assert</a>: <var>tokenizedFeatures</var>["<code>attributionsrc</code>"] is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①">list</a>.</p>
      <li data-md>
       <p>Set <var>navigationSourceEligible</var> to true.</p>
      <li data-md>
       <p>Set <var>attributionSrcUrls</var> to a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list②">list</a>.</p>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate">For each</a> <var>value</var> of <var>tokenizedFeatures</var>["<code>attributionsrc</code>"]:</p>
       <ol>
        <li data-md>
         <p>If <var>value</var> is the empty string, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue">continue</a>.</p>
        <li data-md>
         <p>Let <var>decodedSrcBytes</var> be the result of <a data-link-type="dfn" href="https://url.spec.whatwg.org/#string-percent-decode" id="ref-for-string-percent-decode">percent-decoding</a> <var>value</var>.</p>
        <li data-md>
         <p>Let <var>decodedSrc</var> be the <a data-link-type="dfn" href="https://encoding.spec.whatwg.org/#utf-8-decode-without-bom" id="ref-for-utf-8-decode-without-bom">UTF-8 decode without BOM</a> of <var>decodedSrcBytes</var>.</p>
        <li data-md>
         <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/urls-and-fetching.html#parse-a-url" id="ref-for-parse-a-url">Parse</a> <var>decodedSrc</var> relative to
the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#entry-settings-object" id="ref-for-entry-settings-object">entry settings object</a>,
and set <var>urlRecord</var> to the resulting <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url">URL record</a>, if any. If
parsing failed, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue①">continue</a>.</p>
        <li data-md>
         <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append①">Append</a> <var>urlRecord</var> to <var>attributionSrcUrls</var>.</p>
       </ol>
     </ol>
   </ol>
   <p class="issue" id="issue-d5f595fc"><a class="self-link" href="#issue-d5f595fc"></a> Use <var>attributionSrcUrls</var> with <a data-link-type="dfn" href="#make-a-background-attributionsrc-request" id="ref-for-make-a-background-attributionsrc-request">make a background attributionsrc request</a>.</p>
   <p>In each step that calls <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigate" id="ref-for-navigate①">navigate</a>, set <a data-link-type="dfn" href="#navigate-navigationsourceeligible" id="ref-for-navigate-navigationsourceeligible①">navigationSourceEligible</a> to <var>navigationSourceEligible</var>.</p>
   <h3 class="heading settled" data-level="2.3" id="navigation-monkeypatches"><span class="secno">2.3. </span><span class="content">Navigation monkeypatches</span><a class="self-link" href="#navigation-monkeypatches"></a></h3>
   <p>Add the following item to <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params" id="ref-for-navigation-params">navigation params</a>:</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="navigation params" data-dfn-type="dfn" data-noexport id="navigation-params-navigationsourceeligible">navigationSourceEligible</dfn>
    <dd data-md>
     <p>A boolean indicating whether the navigation can register a <a data-link-type="dfn" href="#source-type-navigation" id="ref-for-source-type-navigation">navigation</a> <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source②">source</a> in its response.
Defaults to false.</p>
   </dl>
   <p>Modify <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigate" id="ref-for-navigate②">navigate</a> as follows:</p>
   <p>Add an optional boolean parameter called <dfn class="dfn-paneled" data-dfn-for="navigate" data-dfn-type="dfn" data-lt="navigationSourceEligible" data-noexport id="navigate-navigationsourceeligible"> <var>navigationSourceEligible</var></dfn>, defaulting to false.</p>
   <p>In the step</p>
   <blockquote>
    <p>Set <var>navigationParams</var> to a new <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params" id="ref-for-navigation-params①">navigation params</a> with...</p>
   </blockquote>
   <p>add the property</p>
   <dl>
    <dt data-md><a data-link-type="dfn" href="#navigation-params-navigationsourceeligible" id="ref-for-navigation-params-navigationsourceeligible">navigationSourceEligible</a>
    <dd data-md>
     <p><var>navigationSourceEligible</var></p>
   </dl>
   <p class="issue" id="issue-79ce0a88"><a class="self-link" href="#issue-79ce0a88"></a> Use/propagate <a data-link-type="dfn" href="#navigation-params-navigationsourceeligible" id="ref-for-navigation-params-navigationsourceeligible①">navigationSourceEligible</a> to the <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#navigation-request" id="ref-for-navigation-request">navigation request</a>'s <a data-link-type="dfn" href="#request-attribution-reporting-eligibility" id="ref-for-request-attribution-reporting-eligibility②">Attribution Reporting eligibility</a>.</p>
   <h2 class="heading settled" data-level="3" id="network-monkeypatches"><span class="secno">3. </span><span class="content">Network monkeypatches</span><a class="self-link" href="#network-monkeypatches"></a></h2>
<pre class="idl highlight def"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-attributionreportingrequestoptions"><code><c- g>AttributionReportingRequestOptions</c-></code></dfn> {
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean"><c- b>boolean</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="AttributionReportingRequestOptions" data-dfn-type="dict-member" data-export data-type="boolean " id="dom-attributionreportingrequestoptions-eventsourceeligible"><code><c- g>eventSourceEligible</c-></code></dfn>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean①"><c- b>boolean</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="AttributionReportingRequestOptions" data-dfn-type="dict-member" data-export data-type="boolean " id="dom-attributionreportingrequestoptions-triggereligible"><code><c- g>triggerEligible</c-></code></dfn>;
};

<c- b>partial</c-> <c- b>dictionary</c-> <a class="idl-code" data-link-type="dictionary" href="https://fetch.spec.whatwg.org/#requestinit" id="ref-for-requestinit"><c- g>RequestInit</c-></a> {
  <a data-link-type="idl-name" href="#dictdef-attributionreportingrequestoptions" id="ref-for-dictdef-attributionreportingrequestoptions"><c- n>AttributionReportingRequestOptions</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="RequestInit" data-dfn-type="dict-member" data-export data-type="AttributionReportingRequestOptions " id="dom-requestinit-attributionreporting"><code><c- g>attributionReporting</c-></code></dfn>;
};

<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://xhr.spec.whatwg.org/#xmlhttprequest" id="ref-for-xmlhttprequest"><c- g>XMLHttpRequest</c-></a> {
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext①"><c- g>SecureContext</c-></a>]
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined"><c- b>undefined</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="XMLHttpRequest" data-dfn-type="method" data-export data-lt="setAttributionReporting(options)" id="dom-xmlhttprequest-setattributionreporting"><code><c- g>setAttributionReporting</c-></code></dfn>(<a data-link-type="idl-name" href="#dictdef-attributionreportingrequestoptions" id="ref-for-dictdef-attributionreportingrequestoptions①"><c- n>AttributionReportingRequestOptions</c-></a> <dfn class="idl-code" data-dfn-for="XMLHttpRequest/setAttributionReporting(options)" data-dfn-type="argument" data-export id="dom-xmlhttprequest-setattributionreporting-options-options"><code><c- g>options</c-></code><a class="self-link" href="#dom-xmlhttprequest-setattributionreporting-options-options"></a></dfn>);
};
</pre>
   <p>A <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request" id="ref-for-concept-request">request</a> has an associated <dfn class="dfn-paneled" data-dfn-for="request" data-dfn-type="dfn" data-noexport id="request-attribution-reporting-eligibility">Attribution Reporting eligibility</dfn> (an <a data-link-type="dfn" href="#eligibility" id="ref-for-eligibility①">eligibility</a>).
Unless otherwise stated it is "<code><a data-link-type="dfn" href="#eligibility-unset" id="ref-for-eligibility-unset②">unset</a></code>".</p>
   <p>A <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request" id="ref-for-concept-request①">request</a> has an associated <dfn class="dfn-paneled" data-dfn-for="request" data-dfn-type="dfn" data-noexport id="request-trigger-verification-metadata">trigger verification metadata</dfn> which is null or a <a data-link-type="dfn" href="#trigger-verification-metadata" id="ref-for-trigger-verification-metadata">trigger verification metadata</a>.</p>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="get-an-eligibility-from-attributionreportingrequestoptions">get an eligibility from <code class="idl"><a data-link-type="idl" href="#dictdef-attributionreportingrequestoptions" id="ref-for-dictdef-attributionreportingrequestoptions②">AttributionReportingRequestOptions</a></code></dfn> given an optional <code class="idl"><a data-link-type="idl" href="#dictdef-attributionreportingrequestoptions" id="ref-for-dictdef-attributionreportingrequestoptions③">AttributionReportingRequestOptions</a></code> <var>options</var>:</p>
   <ol>
    <li data-md>
     <p>If <var>options</var> is null, return "<code><a data-link-type="dfn" href="#eligibility-unset" id="ref-for-eligibility-unset③">unset</a></code>".</p>
    <li data-md>
     <p>Let <var>eventSourceEligible</var> be <var>options</var>’s <code class="idl"><a data-link-type="idl" href="#dom-attributionreportingrequestoptions-eventsourceeligible" id="ref-for-dom-attributionreportingrequestoptions-eventsourceeligible">eventSourceEligible</a></code>.</p>
    <li data-md>
     <p>Let <var>triggerEligible</var> be <var>options</var>’s <code class="idl"><a data-link-type="idl" href="#dom-attributionreportingrequestoptions-triggereligible" id="ref-for-dom-attributionreportingrequestoptions-triggereligible">triggerEligible</a></code>.</p>
    <li data-md>
     <p>If (<var>eventSourceEligible</var>, <var>triggerEligible</var>) is:</p>
     <dl class="switch">
      <dt data-md>(false, false)
      <dd data-md>
       <p>Return "<code><a data-link-type="dfn" href="#eligibility-empty" id="ref-for-eligibility-empty">empty</a></code>".</p>
      <dt data-md>(false, true)
      <dd data-md>
       <p>Return "<code><a data-link-type="dfn" href="#eligibility-trigger" id="ref-for-eligibility-trigger">trigger</a></code>".</p>
      <dt data-md>(true, false)
      <dd data-md>
       <p>Return "<code><a data-link-type="dfn" href="#eligibility-event-source" id="ref-for-eligibility-event-source">event-source</a></code>".</p>
      <dt data-md>(true, true)
      <dd data-md>
       <p>Return "<code><a data-link-type="dfn" href="#eligibility-event-source-or-trigger" id="ref-for-eligibility-event-source-or-trigger③">event-source-or-trigger</a></code>".</p>
     </dl>
   </ol>
   <p class="issue" id="issue-8fc7b5a1"><a class="self-link" href="#issue-8fc7b5a1"></a> Check permissions policy.</p>
   <p>"<code><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="attribution-reporting-eligible">Attribution-Reporting-Eligible</dfn></code>" is a <a href="https://httpwg.org/specs/rfc8941.html#dictionary">Dictionary Structured
Header</a> set on a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request" id="ref-for-concept-request②">request</a> that indicates which registrations, if
any, are allowed on the corresponding <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response" id="ref-for-concept-response">response</a>. Its values are not specified
and its <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="eligible key" data-noexport id="eligible-key">allowed keys</dfn> are:</p>
   <dl>
    <dt data-md>"<dfn class="dfn-paneled" data-dfn-for="eligible key" data-dfn-type="dfn" data-noexport id="eligible-key-event-source"><code>event-source</code></dfn>"
    <dd data-md>
     <p>An <a data-link-type="dfn" href="#source-type-event" id="ref-for-source-type-event">event</a> <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source③">source</a> may be registered.</p>
    <dt data-md>"<dfn class="dfn-paneled" data-dfn-for="eligible key" data-dfn-type="dfn" data-noexport id="eligible-key-navigation-source"><code>navigation-source</code></dfn>"
    <dd data-md>
     <p>A <a data-link-type="dfn" href="#source-type-navigation" id="ref-for-source-type-navigation①">navigation</a> <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source④">source</a> may be registered.</p>
    <dt data-md>"<dfn class="dfn-paneled" data-dfn-for="eligible key" data-dfn-type="dfn" data-noexport id="eligible-key-trigger"><code>trigger</code></dfn>"
    <dd data-md>
     <p>A <a data-link-type="dfn" href="#attribution-trigger" id="ref-for-attribution-trigger②">trigger</a> may be registered.</p>
   </dl>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="obtain-a-dictionary-structured-header-value">obtain a dictionary structured header value</dfn> given a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list③">list</a> of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string③">strings</a> <var>keys</var> and
a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set">set</a> of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string④">strings</a> <var>allowedKeys</var>:</p>
   <ol>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate①">For each</a> <var>key</var> of <var>allowedKeys</var>, optionally <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append②">append</a> the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-concatenate" id="ref-for-string-concatenate">concatenation</a> of « "<code>not-</code>", <var>key</var> » to <var>keys</var>.</p>
    <li data-md>
     <p>Optionally, <a data-link-type="dfn" href="#shuffle-a-list" id="ref-for-shuffle-a-list">shuffle</a> <var>keys</var>.</p>
    <li data-md>
     <p>Let <var>entries</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list④">list</a>.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate②">For each</a> <var>key</var> of <var>keys</var>:</p>
     <ol>
      <li data-md>
       <p>Let <var>value</var> be true.</p>
      <li data-md>
       <p>Optionally, set <var>value</var> to a <a href="https://httpwg.org/specs/rfc8941.html#token">token</a> corresponding to one of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string⑤">strings</a> in <var>allowedKeys</var>.</p>
      <li data-md>
       <p>Let <var>params</var> be an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-is-empty" id="ref-for-map-is-empty">empty</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map">map</a>.</p>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate③">For each</a> <var>key</var> of <var>allowedKeys</var>, optionally <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set②">set</a> <var>params</var>[<var>key</var>] to an
arbitrary <a href="https://httpwg.org/specs/rfc8941.html#item">bare item</a>.</p>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append③">Append</a> a structured dictionary member with the key <var>key</var>, the
value <var>value</var>, and the parameters <var>params</var> to <var>entries</var>.</p>
     </ol>
    <li data-md>
     <p>Return a <a href="https://httpwg.org/specs/rfc8941.html#dictionary">dictionary</a> containing <var>entries</var>.</p>
   </ol>
   <p class="note" role="note"><span class="marker">Note:</span> The user agent MAY <a href="https://httpwg.org/specs/rfc8941.html#specify">"grease"</a> the
dictionary structured headers according to the preceding algorithm to help ensure that recipients
use a proper structured header parser, rather than naive string equality or <code>contains</code> operations, which makes it easier to introduce backwards-compatible
changes to the header definition in the future. Including the allowed keys
as dictionary <em>values</em> or <em>parameters</em> helps ensure that only the dictionary’s
keys are interpreted by the recipient. Likewise, shuffling the dictionary
members helps ensure that, e.g., "<code>key1, key2</code>" is treated equivalently to "<code>key2, key1</code>".</p>
   <p>In the following example, only the "<code>trigger</code>" key should be interpreted by the
recipient after the header has been parsed as a structured dictionary:</p>
<pre class="example no-marker" id="example-1c153954"><a class="self-link" href="#example-1c153954"></a><div class="marker">EXAMPLE: Greased Attribution-Reporting-Eligible header</div>Attribution-Reporting-Eligible: not-event-source, trigger=event-source;navigation-source=3
</pre>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="set-attribution-reporting-headers">set Attribution Reporting headers</dfn> given a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request" id="ref-for-concept-request③">request</a> <var>request</var> and an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin">origin</a> <var>contextOrigin</var>:</p>
   <ol>
    <li data-md>
     <p>Let <var>headers</var> be <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-header-list" id="ref-for-concept-request-header-list">header list</a>.</p>
    <li data-md>
     <p>Let <var>eligibility</var> be <var>request</var>’s <a data-link-type="dfn" href="#request-attribution-reporting-eligibility" id="ref-for-request-attribution-reporting-eligibility③">Attribution Reporting eligibility</a>.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-list-delete" id="ref-for-concept-header-list-delete">Delete</a> "<code><a data-link-type="dfn" href="#attribution-reporting-eligible" id="ref-for-attribution-reporting-eligible">Attribution-Reporting-Eligible</a></code>" from <var>headers</var>.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-list-delete" id="ref-for-concept-header-list-delete①">Delete</a> "<code><a data-link-type="dfn" href="#attribution-reporting-support" id="ref-for-attribution-reporting-support">Attribution-Reporting-Support</a></code>" from <var>headers</var>.</p>
    <li data-md>
     <p>If <var>eligibility</var> is "<code><a data-link-type="dfn" href="#eligibility-unset" id="ref-for-eligibility-unset④">unset</a></code>", return.</p>
    <li data-md>
     <p>Let <var>keys</var> be an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty">empty</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list⑤">list</a>.</p>
    <li data-md>
     <p>If <var>eligibility</var> is:</p>
     <dl class="switch">
      <dt data-md>"<code><a data-link-type="dfn" href="#eligibility-empty" id="ref-for-eligibility-empty①">empty</a></code>"
      <dd data-md>
       <p>Do nothing.</p>
      <dt data-md>"<code><a data-link-type="dfn" href="#eligibility-event-source" id="ref-for-eligibility-event-source①">event-source</a></code>"
      <dd data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append④">Append</a> "<code><a data-link-type="dfn" href="#eligible-key-event-source" id="ref-for-eligible-key-event-source">event-source</a></code>" to <var>keys</var>.</p>
      <dt data-md>"<code><a data-link-type="dfn" href="#eligibility-navigation-source" id="ref-for-eligibility-navigation-source①">navigation-source</a></code>"
      <dd data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append⑤">Append</a> "<code><a data-link-type="dfn" href="#eligible-key-navigation-source" id="ref-for-eligible-key-navigation-source">navigation-source</a></code>" to <var>keys</var>.</p>
      <dt data-md>"<code><a data-link-type="dfn" href="#eligibility-trigger" id="ref-for-eligibility-trigger①">trigger</a></code>"
      <dd data-md>
       <ol>
        <li data-md>
         <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append⑥">Append</a> "<code><a data-link-type="dfn" href="#eligible-key-trigger" id="ref-for-eligible-key-trigger">trigger</a></code>" to <var>keys</var>.</p>
       </ol>
      <dd data-md>
       <ol>
        <li data-md>
         <p><a data-link-type="dfn" href="#set-trigger-verification-request-headers" id="ref-for-set-trigger-verification-request-headers">Set trigger verification request headers</a> with <var>request</var> and <var>contextOrigin</var>.</p>
       </ol>
      <dt data-md>"<code><a data-link-type="dfn" href="#eligibility-event-source-or-trigger" id="ref-for-eligibility-event-source-or-trigger④">event-source-or-trigger</a></code>"
      <dd data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append⑦">Append</a> "<code><a data-link-type="dfn" href="#eligible-key-event-source" id="ref-for-eligible-key-event-source①">event-source</a></code>" and
"<code><a data-link-type="dfn" href="#eligible-key-trigger" id="ref-for-eligible-key-trigger①">trigger</a></code>" to <var>keys</var>.</p>
     </dl>
    <li data-md>
     <p>Let <var>dict</var> be the result of <a data-link-type="dfn" href="#obtain-a-dictionary-structured-header-value" id="ref-for-obtain-a-dictionary-structured-header-value">obtaining a dictionary structured header value</a> with <var>keys</var> and the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set①">set</a> containing all the <a data-link-type="dfn" href="#eligible-key" id="ref-for-eligible-key">eligible keys</a>.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-list-set-structured-header" id="ref-for-concept-header-list-set-structured-header">Set a structured field value</a> given
("<code><a data-link-type="dfn" href="#attribution-reporting-eligible" id="ref-for-attribution-reporting-eligible①">Attribution-Reporting-Eligible</a></code>", <var>dict</var>) in <var>headers</var>.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="#set-an-os-support-header" id="ref-for-set-an-os-support-header">Set an OS-support header</a> in <var>headers</var>.</p>
   </ol>
   <h3 class="heading settled" data-level="3.1" id="monkeypatch-fetch"><span class="secno">3.1. </span><span class="content">Fetch monkeypatches</span><a class="self-link" href="#monkeypatch-fetch"></a></h3>
   <p>Modify <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-fetch" id="ref-for-concept-fetch">fetch</a> as follows:</p>
   <p>Add a <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-document" id="ref-for-concept-document">Document</a> parameter called <var>document</var>.</p>
   <p>After the step</p>
   <blockquote>
    <p>If <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-header-list" id="ref-for-concept-request-header-list①">header list</a> does not contain <code>Accept</code>...</p>
   </blockquote>
   <p>add the step</p>
   <ol>
    <li data-md>
     <p><a data-link-type="dfn" href="#set-attribution-reporting-headers" id="ref-for-set-attribution-reporting-headers">Set Attribution Reporting headers</a> with <var>request</var> and <var>document</var>’s <a data-link-type="dfn" href="#node-context-origin" id="ref-for-node-context-origin">context origin</a>.</p>
   </ol>
   <p>Modify <code class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#dom-request" id="ref-for-dom-request">Request(input, init)</a></code> as follows:</p>
   <p>In the step</p>
   <blockquote>
    <p>Set <var>request</var> to a new <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request" id="ref-for-concept-request④">request</a> with the following properties:</p>
   </blockquote>
   <p>add the property</p>
   <dl>
    <dt data-md><a data-link-type="dfn" href="#request-attribution-reporting-eligibility" id="ref-for-request-attribution-reporting-eligibility④">Attribution Reporting eligibility</a>
    <dd data-md>
     <p><var>request</var>’s <a data-link-type="dfn" href="#request-attribution-reporting-eligibility" id="ref-for-request-attribution-reporting-eligibility⑤">Attribution Reporting eligibility</a>.</p>
   </dl>
   <p>After the step</p>
   <blockquote>
    <p>If <var>init</var>["<code>priority</code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists②">exists</a>, then:</p>
   </blockquote>
   <p>add the step</p>
   <ol>
    <li data-md>
     <p>If <var>init</var>["<code class="idl"><a data-link-type="idl" href="#dom-requestinit-attributionreporting" id="ref-for-dom-requestinit-attributionreporting">attributionReporting</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists③">exists</a>, then set <var>request</var>’s <a data-link-type="dfn" href="#request-attribution-reporting-eligibility" id="ref-for-request-attribution-reporting-eligibility⑥">Attribution Reporting eligibility</a> to the result of <a data-link-type="dfn" href="#get-an-eligibility-from-attributionreportingrequestoptions" id="ref-for-get-an-eligibility-from-attributionreportingrequestoptions">get an eligibility from AttributionReportingRequestOptions</a> with it.</p>
   </ol>
   <h3 class="heading settled" data-level="3.2" id="monkeypatch-xmlhttprequest"><span class="secno">3.2. </span><span class="content">XMLHttpRequest monkeypatches</span><a class="self-link" href="#monkeypatch-xmlhttprequest"></a></h3>
   <p>An <code class="idl"><a data-link-type="idl" href="https://xhr.spec.whatwg.org/#xmlhttprequest" id="ref-for-xmlhttprequest①">XMLHttpRequest</a></code> object has an associated <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="xmlhttprequest-eligibility">Attribution Reporting eligibility</dfn> (an <a data-link-type="dfn" href="#eligibility" id="ref-for-eligibility②">eligibility</a>). Unless otherwise stated it is
"<code><a data-link-type="dfn" href="#eligibility-unset" id="ref-for-eligibility-unset⑤">unset</a></code>".</p>
   <p>The <code class="idl"><a data-link-type="idl" href="#dom-xmlhttprequest-setattributionreporting" id="ref-for-dom-xmlhttprequest-setattributionreporting">setAttributionReporting(options)</a></code> method must run these
steps:</p>
   <ol>
    <li data-md>
     <p>If <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this">this</a>’s <a href="https://xhr.spec.whatwg.org/#concept-xmlhttprequest-state">state</a> is not <i>opened</i>, then <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw">throw</a> an
"<code class="idl"><a class="idl-code" data-link-type="exception" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror">InvalidStateError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException">DOMException</a></code>.</p>
    <li data-md>
     <p>If <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①">this</a>’s <a href="https://xhr.spec.whatwg.org/#send-flag"><code>send()</code> flag</a> is set,
then <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw①">throw</a> an "<code class="idl"><a class="idl-code" data-link-type="exception" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror①">InvalidStateError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException①">DOMException</a></code>.</p>
    <li data-md>
     <p>Set <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this②">this</a>’s <a href="#xmlhttprequest-eligibility" id="ref-for-xmlhttprequest-eligibility">Attribution Reporting
eligibility</a> to the result of <a data-link-type="dfn" href="#get-an-eligibility-from-attributionreportingrequestoptions" id="ref-for-get-an-eligibility-from-attributionreportingrequestoptions①">get an eligibility from AttributionReportingRequestOptions</a> with <var>options</var>.</p>
   </ol>
   <p>Modify <code class="idl"><a data-link-type="idl" href="https://xhr.spec.whatwg.org/#dom-xmlhttprequest-send" id="ref-for-dom-xmlhttprequest-send">send(body)</a></code> as follows:</p>
   <p>Add a <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-document" id="ref-for-concept-document①">Document</a> parameter called <var>document</var>.</p>
   <p>After the step:</p>
   <blockquote>
    <p>Let <var>req</var> be a new <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request" id="ref-for-concept-request⑤">request</a>, initialized as follows...</p>
   </blockquote>
   <p>Add the step:</p>
   <ol>
    <li data-md>
     <p>Set <var>req</var>’s <a data-link-type="dfn" href="#request-attribution-reporting-eligibility" id="ref-for-request-attribution-reporting-eligibility⑦">Attribution Reporting eligibility</a> to <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this③">this</a>’s <a href="#xmlhttprequest-eligibility" id="ref-for-xmlhttprequest-eligibility①">Attribution Reporting
eligibility</a>.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="#set-attribution-reporting-headers" id="ref-for-set-attribution-reporting-headers①">Set Attribution Reporting headers</a> with <var>req</var> and <var>document</var>’s <a data-link-type="dfn" href="#node-context-origin" id="ref-for-node-context-origin①">context origin</a>.</p>
   </ol>
   <h2 class="heading settled" data-level="4" id="fenced-frame-monkeypatches"><span class="secno">4. </span><span class="content">Fenced Frame monkeypatches</span><a class="self-link" href="#fenced-frame-monkeypatches"></a></h2>
   <p>Add the following items to <a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#fencedframetype-pending-event" id="ref-for-fencedframetype-pending-event">pending event</a>:</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="pending event" data-dfn-type="dfn" data-noexport id="pending-event-attributionreportingenabled">attributionReportingEnabled</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#boolean" id="ref-for-boolean">boolean</a></p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="pending event" data-dfn-type="dfn" data-noexport id="pending-event-contextorigin">contextOrigin</dfn>
    <dd data-md>
     <p>An <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin①">origin</a></p>
   </dl>
   <p>Modify <code class="idl"><a data-link-type="idl" href="https://wicg.github.io/fenced-frame/#dom-fence-reportevent" id="ref-for-dom-fence-reportevent">reportEvent()</a></code> as follows:</p>
   <div class="algorithm" data-algorithm="report-event-monkeypatch">
    <p>Replace the step</p>
    <blockquote>
     <p>Run <a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#report-an-event" id="ref-for-report-an-event">report an event</a> using <var>instance</var>’s <a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#fenced-frame-config-instance-fenced-frame-reporter" id="ref-for-fenced-frame-config-instance-fenced-frame-reporter">fenced frame reporter</a> with <var>destination</var>, <var>event</var>’s <code class="idl"><a data-link-type="idl" href="https://wicg.github.io/fenced-frame/#dom-fenceevent-eventtype" id="ref-for-dom-fenceevent-eventtype">eventType</a></code>, and <var>event</var>’s <code class="idl"><a data-link-type="idl" href="https://wicg.github.io/fenced-frame/#dom-fenceevent-eventdata" id="ref-for-dom-fenceevent-eventdata">eventData</a></code>.</p>
    </blockquote>
    <p>with</p>
    <p>Run <a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#report-an-event" id="ref-for-report-an-event①">report an event</a> using <var>instance</var>’s <a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#fenced-frame-config-instance-fenced-frame-reporter" id="ref-for-fenced-frame-config-instance-fenced-frame-reporter①">fenced frame reporter</a> with <var>destination</var>, <var>event</var>’s <code class="idl"><a data-link-type="idl" href="https://wicg.github.io/fenced-frame/#dom-fenceevent-eventtype" id="ref-for-dom-fenceevent-eventtype①">eventType</a></code>, <var>event</var>’s <code class="idl"><a data-link-type="idl" href="https://wicg.github.io/fenced-frame/#dom-fenceevent-eventdata" id="ref-for-dom-fenceevent-eventdata①">eventData</a></code>,
and <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this④">this</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global">relevant global object</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window" id="ref-for-concept-document-window">associated Document</a>.</p>
   </div>
   <p>Modify <a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#report-an-event" id="ref-for-report-an-event②">report an event</a> as follows:</p>
   <div class="algorithm" data-algorithm="report-an-event-monkeypatch">
    <p>Add a <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-document" id="ref-for-concept-document②">Document</a> parameter called <var>document</var>.</p>
    <p>After the step</p>
    <blockquote>
     <p>If <var>reporting map</var>[<var>destination</var>] does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists④">exist</a>, return.</p>
    </blockquote>
    <p>add the steps</p>
    <ol>
     <li data-md>
      <p>Let <var>attributionReportingEnabled</var> be the result of determining whether <var>document</var> is <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use" id="ref-for-allowed-to-use">allowed to use</a> the "<code><code class="idl"><a data-link-type="idl" href="#dom-permissionpolicy-attribution-reporting" id="ref-for-dom-permissionpolicy-attribution-reporting">attribution-reporting</a></code></code>" feature.</p>
     <li data-md>
      <p>Let <var>contextOrigin</var> be <var>document</var>’s <a data-link-type="dfn" href="#node-context-origin" id="ref-for-node-context-origin②">context origin</a>.</p>
    </ol>
    <p>In the step</p>
    <blockquote>
     <p>Let <var>newEvent</var> be a new <a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#fencedframetype-pending-event" id="ref-for-fencedframetype-pending-event①">pending event</a> with the following...</p>
    </blockquote>
    <p>add the properties</p>
    <dl>
     <dt data-md><a data-link-type="dfn" href="#pending-event-attributionreportingenabled" id="ref-for-pending-event-attributionreportingenabled">attributionReportingEnabled</a>
     <dd data-md>
      <p><var>attributionReportingEnabled</var></p>
     <dt data-md><a data-link-type="dfn" href="#pending-event-contextorigin" id="ref-for-pending-event-contextorigin">contextOrigin</a>
     <dd data-md>
      <p><var>contextOrigin</var></p>
    </dl>
    <p>Replace the step</p>
    <blockquote>
     <p><a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#send-a-beacon" id="ref-for-send-a-beacon">Send a beacon</a> with <var>reporting map</var>[<var>destination</var>], <var>eventType</var>, and <var>eventData</var>.</p>
    </blockquote>
    <p>with</p>
    <p><a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#send-a-beacon" id="ref-for-send-a-beacon①">Send a beacon</a> with <var>reporting map</var>[<var>destination</var>], <var>eventType</var>, <var>eventData</var>, <var>attributionReportingEnabled</var>, and <var>contextOrigin</var>.</p>
   </div>
   <p>Modify <a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#finalize-a-reporting-destination" id="ref-for-finalize-a-reporting-destination">finalize a reporting destination</a> as follows:</p>
   <div class="algorithm" data-algorithm="finalize-a-reporting-destination-monkeypatch">
    <p>Replace the step</p>
    <blockquote>
     <p><a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#send-a-beacon" id="ref-for-send-a-beacon②">Send a beacon</a> with <var>destination map</var>, <var>pending event</var>’s <a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#pending-event-eventtype" id="ref-for-pending-event-eventtype">eventType</a>,
and <var>pending event</var>’s <a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#pending-event-eventdata" id="ref-for-pending-event-eventdata">eventData</a>.</p>
    </blockquote>
    <p>with</p>
    <p><a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#send-a-beacon" id="ref-for-send-a-beacon③">Send a beacon</a> with <var>destination map</var>, <var>pending event</var>’s <a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#pending-event-eventtype" id="ref-for-pending-event-eventtype①">eventType</a>, <var>pending event</var>’s <a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#pending-event-eventdata" id="ref-for-pending-event-eventdata①">eventData</a>, <var>pending event</var>’s <a data-link-type="dfn" href="#pending-event-attributionreportingenabled" id="ref-for-pending-event-attributionreportingenabled①">attributionReportingEnabled</a>,
and <var>pending event</var>’s <a data-link-type="dfn" href="#pending-event-contextorigin" id="ref-for-pending-event-contextorigin①">contextOrigin</a>.</p>
   </div>
   <p>Modify <a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#send-a-beacon" id="ref-for-send-a-beacon④">send a beacon</a> as follows:</p>
   <div class="algorithm" data-algorithm="send-a-beacon-monkeypatch">
    <p>Add a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#boolean" id="ref-for-boolean①">boolean</a> parameter called <var>attributionReportingEnabled</var> and an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin②">origin</a> parameter called <var>contextOrigin</var>.</p>
    <p>After the step</p>
    <blockquote>
     <p>Let <var>destination url</var> be <var>destination map</var>[<var>eventType</var>].</p>
    </blockquote>
    <p>add the steps</p>
    <ol>
     <li data-md>
      <p>Let <var>attributionReportingEligibility</var> be "<code><a data-link-type="dfn" href="#eligibility-unset" id="ref-for-eligibility-unset⑥">unset</a></code>".</p>
     <li data-md>
      <p>Let <var>processResponse</var> be null.</p>
     <li data-md>
      <p>Let <var>useParallelQueue</var> be false.</p>
     <li data-md>
      <p>If <var>attributionReportingEnabled</var> is true and the result of <a data-link-type="dfn" href="#get-supported-registrars" id="ref-for-get-supported-registrars">getting supported registrars</a> is not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty①">empty</a> and <var>contextOrigin</var> <a data-link-type="dfn" href="#check-if-an-origin-is-suitable" id="ref-for-check-if-an-origin-is-suitable">is suitable</a>:</p>
      <ol>
       <li data-md>
        <p>Set <var>attributionReportingEligibility</var> to "<code><a data-link-type="dfn" href="#eligibility-event-source" id="ref-for-eligibility-event-source②">event-source</a></code>".</p>
       <li data-md>
        <p>Set <var>processResponse</var> to these steps given a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response" id="ref-for-concept-response①">response</a> <var>response</var>:</p>
        <ol>
         <li data-md>
          <p>Run <a data-link-type="dfn" href="#process-an-attribution-eligible-response" id="ref-for-process-an-attribution-eligible-response">process an attribution eligible response</a> with <var>contextOrigin</var>, <var>attributionReportingEligibility</var>, and <var>response</var>.</p>
        </ol>
       <li data-md>
        <p>Set <var>useParallelQueue</var> to true.</p>
      </ol>
      <p class="issue" id="issue-4c8f03e3"><a class="self-link" href="#issue-4c8f03e3"></a> Allow "<code><a data-link-type="dfn" href="#eligibility-navigation-source" id="ref-for-eligibility-navigation-source②">navigation-source</a></code>" when automatic beacon is specified.</p>
    </ol>
    <p>In the step</p>
    <blockquote>
     <p>Let <var>request</var> be a new <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request" id="ref-for-concept-request⑥">request</a> with the following properties...</p>
    </blockquote>
    <p>add the property:</p>
    <dl>
     <dt data-md><a data-link-type="dfn" href="#request-attribution-reporting-eligibility" id="ref-for-request-attribution-reporting-eligibility⑧">Attribution Reporting eligibility</a>
     <dd data-md>
      <p><var>attributionReportingEligibility</var></p>
    </dl>
    <p>Replace the step</p>
    <blockquote>
     <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-fetch" id="ref-for-concept-fetch①">Fetch</a> <var>request</var>.</p>
    </blockquote>
    <p>with</p>
    <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-fetch" id="ref-for-concept-fetch②">Fetch</a> <var>request</var> with <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#process-response" id="ref-for-process-response">processResponse</a> being <var>processResponse</var> if it is not null
and <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#fetch-useparallelqueue" id="ref-for-fetch-useparallelqueue">useParallelQueue</a> being <var>useParallelQueue</var>.</p>
   </div>
   <p class="issue" id="issue-957d18fd"><a class="self-link" href="#issue-957d18fd"></a> Move this section to <a href="https://wicg.github.io/fenced-frame/">Fenced Frame spec</a>.</p>
   <h2 class="heading settled" data-level="5" id="permission-policy-integration"><span class="secno">5. </span><span class="content">Permissions Policy integration</span><a class="self-link" href="#permission-policy-integration"></a></h2>
   <p>This specification defines a <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature" id="ref-for-policy-controlled-feature">policy-controlled feature</a> identified by the string "<code><dfn class="dfn-paneled idl-code" data-dfn-for="PermissionPolicy" data-dfn-type="enum-value" data-export id="dom-permissionpolicy-attribution-reporting"><code>attribution-reporting</code></dfn></code>".
Its <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature-default-allowlist" id="ref-for-policy-controlled-feature-default-allowlist">default allowlist</a> is <a href="https://w3c.github.io/webappsec-permissions-policy/#default-allowlist"><code>*</code></a>.</p>
   <h2 class="heading settled" data-level="6" id="clear-site-data-integration"><span class="secno">6. </span><span class="content">Clear Site Data integration</span><a class="self-link" href="#clear-site-data-integration"></a></h2>
   <p>In <a data-link-type="dfn" href="https://w3c.github.io/webappsec-clear-site-data/#abstract-opdef-clear-dom-accessible-storage-for-origin" id="ref-for-abstract-opdef-clear-dom-accessible-storage-for-origin">clear DOM-accessible storage for origin</a>, add the following step:</p>
   <blockquote>
    <ol start="7">
     <li data-md>
      <p>Run <a data-link-type="dfn" href="#clear-site-data" id="ref-for-clear-site-data">clear site data</a> with <var>origin</var>.</p>
    </ol>
   </blockquote>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="clear-site-data">clear site data</dfn> given an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin③">origin</a> <var>origin</var>:</p>
   <ol>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate④">For each</a> <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source⑤">attribution source</a> <var>source</var> of the <a data-link-type="dfn" href="#attribution-source-cache" id="ref-for-attribution-source-cache">attribution source cache</a>:</p>
     <ol>
      <li data-md>
       <p>If <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-reporting-origin" id="ref-for-attribution-source-reporting-origin">reporting origin</a> and <var>origin</var> are <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin">same origin</a>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove" id="ref-for-list-remove">remove</a> <var>source</var> from the <a data-link-type="dfn" href="#attribution-source-cache" id="ref-for-attribution-source-cache①">attribution source cache</a>.</p>
     </ol>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate⑤">For each</a> <a data-link-type="dfn" href="#event-level-report" id="ref-for-event-level-report">event-level report</a> <var>report</var> of the <a data-link-type="dfn" href="#event-level-report-cache" id="ref-for-event-level-report-cache">event-level report cache</a>:</p>
     <ol>
      <li data-md>
       <p>If <var>report</var>’s <a data-link-type="dfn" href="#attribution-report-reporting-origin" id="ref-for-attribution-report-reporting-origin">reporting origin</a> and <var>origin</var> are <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin①">same origin</a>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove" id="ref-for-list-remove①">remove</a> <var>report</var> from the <a data-link-type="dfn" href="#event-level-report-cache" id="ref-for-event-level-report-cache①">event-level report cache</a>.</p>
     </ol>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate⑥">For each</a> <a data-link-type="dfn" href="#aggregatable-report" id="ref-for-aggregatable-report">aggregatable report</a> <var>report</var> of the <a data-link-type="dfn" href="#aggregatable-report-cache" id="ref-for-aggregatable-report-cache">aggregatable report cache</a>:</p>
     <ol>
      <li data-md>
       <p>If <var>report</var>’s <a data-link-type="dfn" href="#attribution-report-reporting-origin" id="ref-for-attribution-report-reporting-origin①">reporting origin</a> and <var>origin</var> are <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin②">same origin</a>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove" id="ref-for-list-remove②">remove</a> <var>report</var> from the <a data-link-type="dfn" href="#aggregatable-report-cache" id="ref-for-aggregatable-report-cache①">aggregatable report cache</a>.</p>
     </ol>
   </ol>
   <p class="note" role="note"><span class="marker">Note:</span> We deliberately do <em>not</em> remove matching entries from the <a data-link-type="dfn" href="#attribution-rate-limit-cache" id="ref-for-attribution-rate-limit-cache">attribution rate-limit cache</a>, as doing so would allow a site to reset and
therefore exceed the intended rate limits at will.</p>
   <h2 class="heading settled" data-level="7" id="structures"><span class="secno">7. </span><span class="content">Structures</span><a class="self-link" href="#structures"></a></h2>
   <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="7.1" data-lt="Trigger state" data-noexport id="trigger-state"><span class="secno">7.1. </span><span class="content">Trigger state</span><a class="self-link" href="#trigger-state" id="ref-for-trigger-state"></a></h3>
   <p>A trigger state is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct">struct</a> with the following items:</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="trigger state" data-dfn-type="dfn" data-noexport id="trigger-state-trigger-data">trigger data</dfn>
    <dd data-md>
     <p>A non-negative 64-bit integer.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="trigger state" data-dfn-type="dfn" data-noexport id="trigger-state-report-window">report window</dfn>
    <dd data-md>
     <p>A non-negative integer.</p>
   </dl>
   <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="7.2" data-lt="Randomized response output configuration" data-noexport id="randomized-response-output-configuration"><span class="secno">7.2. </span><span class="content">Randomized response output configuration</span><a class="self-link" href="#randomized-response-output-configuration" id="ref-for-randomized-response-output-configuration"></a></h3>
   <p>A randomized response output configuration is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct①">struct</a> with the following items:</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="randomized response output configuration" data-dfn-type="dfn" data-noexport id="randomized-response-output-configuration-max-attributions-per-source">max attributions per source</dfn>
    <dd data-md>
     <p>A positive integer.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="randomized response output configuration" data-dfn-type="dfn" data-noexport id="randomized-response-output-configuration-trigger-data-cardinality">trigger data cardinality</dfn>
    <dd data-md>
     <p>A positive integer.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="randomized response output configuration" data-dfn-type="dfn" data-noexport id="randomized-response-output-configuration-num-report-windows">num report windows</dfn>
    <dd data-md>
     <p>A positive integer.</p>
   </dl>
   <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="7.3" data-lt="Randomized source response" data-noexport id="randomized-source-response"><span class="secno">7.3. </span><span class="content">Randomized source response</span><a class="self-link" href="#randomized-source-response" id="ref-for-randomized-source-response"></a></h3>
   <p>A randomized source response is null or a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set②">set</a> of <a data-link-type="dfn" href="#trigger-state" id="ref-for-trigger-state④">trigger states</a>.</p>
   <h3 class="heading settled" data-level="7.4" id="attribution-filtering"><span class="secno">7.4. </span><span class="content">Attribution filtering</span><a class="self-link" href="#attribution-filtering"></a></h3>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="filter-value">filter value</dfn> is an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set③">ordered set</a> of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string⑥">strings</a>.</p>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="filter-map">filter map</dfn> is an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map①">ordered map</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-key" id="ref-for-map-key">keys</a> are <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string⑦">strings</a> and whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-value" id="ref-for-map-value">values</a> are <a data-link-type="dfn" href="#filter-value" id="ref-for-filter-value">filter values</a>.</p>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="filter-config">filter config</dfn> is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct②">struct</a> with the following items:</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="filter config" data-dfn-type="dfn" data-noexport id="filter-config-map">map</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="#filter-map" id="ref-for-filter-map">filter map</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="filter config" data-dfn-type="dfn" data-noexport id="filter-config-lookback-window">lookback window</dfn>
    <dd data-md>
     <p>Null or a positive <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-duration" id="ref-for-dfn-duration">duration</a>.</p>
   </dl>
   <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="7.5" data-lt="Suitable origin" data-noexport id="suitable-origin"><span class="secno">7.5. </span><span class="content">Suitable origin</span><a class="self-link" href="#suitable-origin" id="ref-for-suitable-origin"></a></h3>
   <p>A suitable origin is an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin④">origin</a> that is <a data-link-type="dfn" href="#check-if-an-origin-is-suitable" id="ref-for-check-if-an-origin-is-suitable①">suitable</a>.</p>
   <h3 class="heading settled" data-level="7.6" id="source-type-header"><span class="secno">7.6. </span><span class="content">Source type</span><a class="self-link" href="#source-type-header"></a></h3>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="source-type">source type</dfn> is one of the following:</p>
   <dl>
    <dt data-md>"<dfn class="dfn-paneled" data-dfn-for="source type" data-dfn-type="dfn" data-noexport id="source-type-navigation"><code>navigation</code></dfn>"
    <dd data-md>
     <p>The source was associated with a top-level navigation.</p>
    <dt data-md>"<dfn class="dfn-paneled" data-dfn-for="source type" data-dfn-type="dfn" data-noexport id="source-type-event"><code>event</code></dfn>"
    <dd data-md>
     <p>The source was not associated with a top-level navigation.</p>
   </dl>
   <h3 class="heading settled" data-level="7.7" id="report-window-header"><span class="secno">7.7. </span><span class="content">Report window</span><a class="self-link" href="#report-window-header"></a></h3>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="report-window">report window</dfn> is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct③">struct</a> with the following items:</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="report window" data-dfn-type="dfn" data-noexport id="report-window-start">start</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-moment" id="ref-for-dfn-moment">moment</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="report window" data-dfn-type="dfn" data-noexport id="report-window-end">end</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-moment" id="ref-for-dfn-moment①">moment</a>, strictly greater than <a data-link-type="dfn" href="#report-window-start" id="ref-for-report-window-start">start</a>.</p>
   </dl>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="report-window-list">report window list</dfn> is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list⑥">list</a> of <a data-link-type="dfn" href="#report-window" id="ref-for-report-window">report windows</a>.
It has the following constraints:</p>
   <ul>
    <li data-md>
     <p>Elements are in ascending order based on their <a data-link-type="dfn" href="#report-window-start" id="ref-for-report-window-start①">start</a>.</p>
    <li data-md>
     <p>Every element’s <a data-link-type="dfn" href="#report-window-start" id="ref-for-report-window-start②">start</a> is equal to the previous element’s <a data-link-type="dfn" href="#report-window-end" id="ref-for-report-window-end">end</a>, if it exists.</p>
    <li data-md>
     <p>There is at least one element in the list.</p>
   </ul>
   <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="7.8" data-lt="Attribution source" data-noexport id="attribution-source"><span class="secno">7.8. </span><span class="content">Attribution source</span><a class="self-link" href="#attribution-source" id="ref-for-attribution-source⑦⑧"></a></h3>
   <p>An attribution source is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct④">struct</a> with the following items:</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution source" data-dfn-type="dfn" data-noexport id="attribution-source-source-identifier">source identifier</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string⑧">string</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution source" data-dfn-type="dfn" data-noexport id="attribution-source-source-origin">source origin</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="#suitable-origin" id="ref-for-suitable-origin①⑧">suitable origin</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution source" data-dfn-type="dfn" data-noexport id="attribution-source-event-id">event ID</dfn>
    <dd data-md>
     <p>A non-negative 64-bit integer.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution source" data-dfn-type="dfn" data-noexport id="attribution-source-attribution-destinations">attribution destinations</dfn>
    <dd data-md>
     <p>An <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set④">ordered set</a> of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#site" id="ref-for-site">sites</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution source" data-dfn-type="dfn" data-noexport id="attribution-source-reporting-origin">reporting origin</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="#suitable-origin" id="ref-for-suitable-origin①">suitable origin</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution source" data-dfn-type="dfn" data-noexport id="attribution-source-source-type">source type</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="#source-type" id="ref-for-source-type">source type</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution source" data-dfn-type="dfn" data-noexport id="attribution-source-expiry">expiry</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-duration" id="ref-for-dfn-duration①">duration</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution source" data-dfn-type="dfn" data-noexport id="attribution-source-event-level-report-windows">event-level report windows</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="#report-window-list" id="ref-for-report-window-list">report window list</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution source" data-dfn-type="dfn" data-noexport id="attribution-source-aggregatable-report-window">aggregatable report window</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="#report-window" id="ref-for-report-window①">report window</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution source" data-dfn-type="dfn" data-noexport id="attribution-source-priority">priority</dfn>
    <dd data-md>
     <p>A 64-bit integer.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution source" data-dfn-type="dfn" data-noexport id="attribution-source-source-time">source time</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-moment" id="ref-for-dfn-moment②">moment</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution source" data-dfn-type="dfn" data-noexport id="attribution-source-number-of-event-level-reports">number of event-level reports</dfn>
    <dd data-md>
     <p>Number of <a data-link-type="dfn" href="#event-level-report" id="ref-for-event-level-report①">event-level reports</a> created for this <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source⑥">attribution source</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution source" data-dfn-type="dfn" data-noexport id="attribution-source-max-number-of-event-level-reports">Max number of event-level reports</dfn>
    <dd data-md>
     <p>The maximum number of <a data-link-type="dfn" href="#event-level-report" id="ref-for-event-level-report②">event-level reports</a> that can be created for this <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source⑦">attribution source</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution source" data-dfn-type="dfn" data-noexport id="attribution-source-event-level-attributable">event-level attributable</dfn> (default true)
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#boolean" id="ref-for-boolean②">boolean</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution source" data-dfn-type="dfn" data-noexport id="attribution-source-dedup-keys">dedup keys</dfn>
    <dd data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set⑤">ordered set</a> of <a data-link-type="dfn" href="#event-level-trigger-configuration-dedup-key" id="ref-for-event-level-trigger-configuration-dedup-key">dedup keys</a> associated with this <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source⑧">attribution source</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution source" data-dfn-type="dfn" data-noexport id="attribution-source-randomized-response">randomized response</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="#randomized-source-response" id="ref-for-randomized-source-response①">randomized source response</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution source" data-dfn-type="dfn" data-noexport id="attribution-source-randomized-trigger-rate">randomized trigger rate</dfn>
    <dd data-md>
     <p>A number between 0 and 1 (both inclusive).</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution source" data-dfn-type="dfn" data-noexport id="attribution-source-filter-data">filter data</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="#filter-map" id="ref-for-filter-map①">filter map</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution source" data-dfn-type="dfn" data-noexport id="attribution-source-debug-key">debug key</dfn>
    <dd data-md>
     <p>Null or a non-negative 64-bit integer.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution source" data-dfn-type="dfn" data-noexport id="attribution-source-aggregation-keys">aggregation keys</dfn>
    <dd data-md>
     <p>An <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map②">ordered map</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-key" id="ref-for-map-key①">keys</a> are <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string⑨">strings</a> and whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-value" id="ref-for-map-value①">values</a> are
non-negative 128-bit integers.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution source" data-dfn-type="dfn" data-noexport id="attribution-source-aggregatable-budget-consumed">aggregatable budget consumed</dfn>
    <dd data-md>
     <p>A non-negative integer, total <a data-link-type="dfn" href="#aggregatable-contribution-value" id="ref-for-aggregatable-contribution-value">value</a> of all <a data-link-type="dfn" href="#aggregatable-contribution" id="ref-for-aggregatable-contribution">aggregatable contributions</a> created with this <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source⑨">attribution source</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution source" data-dfn-type="dfn" data-noexport id="attribution-source-aggregatable-dedup-keys">aggregatable dedup keys</dfn>
    <dd data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set⑥">ordered set</a> of <a data-link-type="dfn" href="#aggregatable-dedup-key-dedup-key" id="ref-for-aggregatable-dedup-key-dedup-key">aggregatable dedup key values</a> associated with this <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source①⓪">attribution source</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution source" data-dfn-type="dfn" data-noexport id="attribution-source-debug-reporting-enabled">debug reporting enabled</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#boolean" id="ref-for-boolean③">boolean</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution source" data-dfn-type="dfn" data-noexport id="attribution-source-number-of-aggregatable-reports">number of aggregatable reports</dfn>
    <dd data-md>
     <p>Number of <a data-link-type="dfn" href="#aggregatable-report" id="ref-for-aggregatable-report①">aggregatable reports</a> created for this <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source①①">attribution source</a>.</p>
   </dl>
   <p>An <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source①②">attribution source</a> <var>source</var>’s <dfn class="dfn-paneled" data-dfn-for="attribution source" data-dfn-type="dfn" data-noexport id="attribution-source-expiry-time">expiry time</dfn> is <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-source-time" id="ref-for-attribution-source-source-time">source time</a> + <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-expiry" id="ref-for-attribution-source-expiry">expiry</a>.</p>
   <p>An <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source①③">attribution source</a> <var>source</var>’s <dfn class="dfn-paneled" data-dfn-for="attribution source" data-dfn-type="dfn" data-noexport id="attribution-source-total-event-level-report-window">total event-level report window</dfn> is
a <a data-link-type="dfn" href="#report-window" id="ref-for-report-window②">report window</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct⑤">struct</a> with the following fields:</p>
   <dl>
    <dt data-md><a data-link-type="dfn" href="#report-window-start" id="ref-for-report-window-start③">start</a>
    <dd data-md>
     <p>The <a data-link-type="dfn" href="#report-window-start" id="ref-for-report-window-start④">start</a> of <var>source</var>’s first <a data-link-type="dfn" href="#attribution-source-event-level-report-windows" id="ref-for-attribution-source-event-level-report-windows">event-level report window</a>.</p>
    <dt data-md><a data-link-type="dfn" href="#report-window-end" id="ref-for-report-window-end①">end</a>
    <dd data-md>
     <p>The <a data-link-type="dfn" href="#report-window-end" id="ref-for-report-window-end②">end</a> of <var>source</var>’s last <a data-link-type="dfn" href="#attribution-source-event-level-report-windows" id="ref-for-attribution-source-event-level-report-windows①">event-level report window</a>.</p>
   </dl>
   <p class="note" role="note"><span class="marker">Note:</span> The <a data-link-type="dfn" href="#attribution-source-total-event-level-report-window" id="ref-for-attribution-source-total-event-level-report-window">total event-level report window</a> is conceptually a union of <a data-link-type="dfn" href="#report-window" id="ref-for-report-window③">report windows</a>, because there
are no gaps in time between any of the <a data-link-type="dfn" href="#report-window" id="ref-for-report-window④">windows</a> in <a data-link-type="dfn" href="#attribution-source-event-level-report-windows" id="ref-for-attribution-source-event-level-report-windows②">event-level report windows</a>.</p>
   <p>An <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source①④">attribution source</a> <var>source</var>’s <dfn class="dfn-paneled" data-dfn-for="attribution source" data-dfn-type="dfn" data-noexport id="attribution-source-source-site">source site</dfn> is the result
of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#obtain-a-site" id="ref-for-obtain-a-site">obtaining a site</a> from <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-source-origin" id="ref-for-attribution-source-source-origin">source origin</a>.</p>
   <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="7.9" data-lt="Aggregatable trigger data" data-noexport id="aggregatable-trigger-data"><span class="secno">7.9. </span><span class="content">Aggregatable trigger data</span><a class="self-link" href="#aggregatable-trigger-data" id="ref-for-aggregatable-trigger-data"></a></h3>
   <p>An aggregatable trigger data is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct⑥">struct</a> with the following items:</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="aggregatable trigger data" data-dfn-type="dfn" data-noexport id="aggregatable-trigger-data-key-piece">key piece</dfn>
    <dd data-md>
     <p>A non-negative 128-bit integer.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="aggregatable trigger data" data-dfn-type="dfn" data-noexport id="aggregatable-trigger-data-source-keys">source keys</dfn>
    <dd data-md>
     <p>An <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set⑦">ordered set</a> of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string①⓪">strings</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="aggregatable trigger data" data-dfn-type="dfn" data-noexport id="aggregatable-trigger-data-filters">filters</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list⑦">list</a> of <a data-link-type="dfn" href="#filter-config" id="ref-for-filter-config">filter configs</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="aggregatable trigger data" data-dfn-type="dfn" data-noexport id="aggregatable-trigger-data-negated-filters">negated filters</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list⑧">list</a> of <a data-link-type="dfn" href="#filter-config" id="ref-for-filter-config①">filter configs</a>.</p>
   </dl>
   <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="7.10" data-lt="Aggregatable dedup key" data-noexport id="aggregatable-dedup-key"><span class="secno">7.10. </span><span class="content">Aggregatable dedup key</span><a class="self-link" href="#aggregatable-dedup-key" id="ref-for-aggregatable-dedup-key"></a></h3>
   <p>An aggregatable dedup key is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct⑦">struct</a> with the following items:</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="aggregatable dedup key" data-dfn-type="dfn" data-noexport id="aggregatable-dedup-key-dedup-key">dedup key</dfn>
    <dd data-md>
     <p>Null or a non-negative 64-bit integer.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="aggregatable dedup key" data-dfn-type="dfn" data-noexport id="aggregatable-dedup-key-filters">filters</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list⑨">list</a> of <a data-link-type="dfn" href="#filter-config" id="ref-for-filter-config②">filter configs</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="aggregatable dedup key" data-dfn-type="dfn" data-noexport id="aggregatable-dedup-key-negated-filters">negated filters</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①⓪">list</a> of <a data-link-type="dfn" href="#filter-config" id="ref-for-filter-config③">filter configs</a>.</p>
   </dl>
   <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="7.11" data-lt="Event-level trigger configuration" data-noexport id="event-level-trigger-configuration"><span class="secno">7.11. </span><span class="content">Event-level trigger configuration</span><a class="self-link" href="#event-level-trigger-configuration" id="ref-for-event-level-trigger-configuration"></a></h3>
   <p>An event-level trigger configuration is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct⑧">struct</a> with the following items:</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="event-level trigger configuration" data-dfn-type="dfn" data-noexport id="event-level-trigger-configuration-trigger-data">trigger data</dfn>
    <dd data-md>
     <p>A non-negative 64-bit integer.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="event-level trigger configuration" data-dfn-type="dfn" data-noexport id="event-level-trigger-configuration-dedup-key">dedup key</dfn>
    <dd data-md>
     <p>Null or a non-negative 64-bit integer.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="event-level trigger configuration" data-dfn-type="dfn" data-noexport id="event-level-trigger-configuration-priority">priority</dfn>
    <dd data-md>
     <p>A 64-bit integer.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="event-level trigger configuration" data-dfn-type="dfn" data-noexport id="event-level-trigger-configuration-filters">filters</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①①">list</a> of <a data-link-type="dfn" href="#filter-config" id="ref-for-filter-config④">filter configs</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="event-level trigger configuration" data-dfn-type="dfn" data-noexport id="event-level-trigger-configuration-negated-filters">negated filters</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①②">list</a> of <a data-link-type="dfn" href="#filter-config" id="ref-for-filter-config⑤">filter configs</a>.</p>
   </dl>
   <h3 class="heading settled" data-level="7.12" id="aggregation-coordinator-header"><span class="secno">7.12. </span><span class="content">Aggregation coordinator</span><a class="self-link" href="#aggregation-coordinator-header"></a></h3>
   <p>An <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="aggregation-coordinator">aggregation coordinator</dfn> is one of a user-agent-determined <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set⑧">set</a> of <a data-link-type="dfn" href="#suitable-origin" id="ref-for-suitable-origin②">suitable origins</a> that specifies which aggregation service deployment to use.</p>
   <h3 class="heading settled" data-level="7.13" id="aggregatable-source-registration-time-configuration-header"><span class="secno">7.13. </span><span class="content">Aggregatable source registration time configuration</span><a class="self-link" href="#aggregatable-source-registration-time-configuration-header"></a></h3>
   <p>An <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="aggregatable-source-registration-time-configuration">aggregatable source registration time configuration</dfn> is one of the following:</p>
   <dl>
    <dt data-md>"<dfn class="dfn-paneled" data-dfn-for="aggregatable source registration time configuration" data-dfn-type="dfn" data-noexport id="aggregatable-source-registration-time-configuration-exclude"><code>exclude</code></dfn>"
    <dd data-md>
     <p>"<code>source_registration_time</code>" is excluded from an <a data-link-type="dfn" href="#aggregatable-report" id="ref-for-aggregatable-report②">aggregatable report</a>'s <a data-link-type="dfn" href="#aggregatable-report-shared-info" id="ref-for-aggregatable-report-shared-info">shared info</a>.</p>
    <dt data-md>"<dfn class="dfn-paneled" data-dfn-for="aggregatable source registration time configuration" data-dfn-type="dfn" data-noexport id="aggregatable-source-registration-time-configuration-include"><code>include</code></dfn>"
    <dd data-md>
     <p>"<code>source_registration_time</code>" is included in an <a data-link-type="dfn" href="#aggregatable-report" id="ref-for-aggregatable-report③">aggregatable report</a>'s <a data-link-type="dfn" href="#aggregatable-report-shared-info" id="ref-for-aggregatable-report-shared-info①">shared info</a>.</p>
   </dl>
   <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="7.14" data-lt="Attribution trigger" data-noexport id="attribution-trigger"><span class="secno">7.14. </span><span class="content">Attribution trigger</span><a class="self-link" href="#attribution-trigger" id="ref-for-attribution-trigger③⑤"></a></h3>
   <p>An attribution trigger is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct⑨">struct</a> with the following items:</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution trigger" data-dfn-type="dfn" data-noexport id="attribution-trigger-attribution-destination">attribution destination</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#site" id="ref-for-site①">site</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution trigger" data-dfn-type="dfn" data-noexport id="attribution-trigger-trigger-time">trigger time</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-moment" id="ref-for-dfn-moment③">moment</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution trigger" data-dfn-type="dfn" data-noexport id="attribution-trigger-reporting-origin">reporting origin</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="#suitable-origin" id="ref-for-suitable-origin③">suitable origin</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution trigger" data-dfn-type="dfn" data-noexport id="attribution-trigger-filters">filters</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①③">list</a> of <a data-link-type="dfn" href="#filter-config" id="ref-for-filter-config⑥">filter configs</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution trigger" data-dfn-type="dfn" data-noexport id="attribution-trigger-negated-filters">negated filters</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①④">list</a> of <a data-link-type="dfn" href="#filter-config" id="ref-for-filter-config⑦">filter configs</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution trigger" data-dfn-type="dfn" data-noexport id="attribution-trigger-debug-key">debug key</dfn>
    <dd data-md>
     <p>Null or a non-negative 64-bit integer.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution trigger" data-dfn-type="dfn" data-noexport id="attribution-trigger-event-level-trigger-configurations">event-level trigger configurations</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set⑨">set</a> of <a data-link-type="dfn" href="#event-level-trigger-configuration" id="ref-for-event-level-trigger-configuration⑤">event-level trigger configuration</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution trigger" data-dfn-type="dfn" data-noexport id="attribution-trigger-aggregatable-trigger-data">aggregatable trigger data</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①⑤">list</a> of <a data-link-type="dfn" href="#aggregatable-trigger-data" id="ref-for-aggregatable-trigger-data③">aggregatable trigger data</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution trigger" data-dfn-type="dfn" data-noexport id="attribution-trigger-aggregatable-values">aggregatable values</dfn>
    <dd data-md>
     <p>An <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map③">ordered map</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-key" id="ref-for-map-key②">keys</a> are <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string①①">strings</a> and whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-value" id="ref-for-map-value②">values</a> are non-negative 32-bit integers.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution trigger" data-dfn-type="dfn" data-noexport id="attribution-trigger-aggregatable-dedup-keys">aggregatable dedup keys</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①⑥">list</a> of <a data-link-type="dfn" href="#aggregatable-dedup-key" id="ref-for-aggregatable-dedup-key③">aggregatable dedup key</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution trigger" data-dfn-type="dfn" data-noexport id="attribution-trigger-verifications">verifications</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①⑦">list</a> of <a data-link-type="dfn" href="#trigger-verification" id="ref-for-trigger-verification">trigger verification</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution trigger" data-dfn-type="dfn" data-noexport id="attribution-trigger-debug-reporting-enabled">debug reporting enabled</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#boolean" id="ref-for-boolean④">boolean</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution trigger" data-dfn-type="dfn" data-noexport id="attribution-trigger-aggregation-coordinator">aggregation coordinator</dfn>
    <dd data-md>
     <p>An <a data-link-type="dfn" href="#aggregation-coordinator" id="ref-for-aggregation-coordinator">aggregation coordinator</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution trigger" data-dfn-type="dfn" data-noexport id="attribution-trigger-aggregatable-source-registration-time-configuration">aggregatable source registration time configuration</dfn>
    <dd data-md>
     <p>An <a data-link-type="dfn" href="#aggregatable-source-registration-time-configuration" id="ref-for-aggregatable-source-registration-time-configuration">aggregatable source registration time configuration</a>.</p>
   </dl>
   <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="7.15" data-lt="Attribution report" data-noexport id="attribution-report"><span class="secno">7.15. </span><span class="content">Attribution report</span><a class="self-link" href="#attribution-report" id="ref-for-attribution-report①⑦"></a></h3>
   <p>An attribution report is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct①⓪">struct</a> with the following items:</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution report, aggregatable report, event-level report" data-dfn-type="dfn" data-noexport id="attribution-report-reporting-origin">reporting origin</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="#suitable-origin" id="ref-for-suitable-origin④">suitable origin</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution report, aggregatable report, event-level report" data-dfn-type="dfn" data-noexport id="attribution-report-report-time">report time</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-moment" id="ref-for-dfn-moment④">moment</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution report, aggregatable report, event-level report" data-dfn-type="dfn" data-noexport id="attribution-report-original-report-time">original report time</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-moment" id="ref-for-dfn-moment⑤">moment</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution report, aggregatable report, event-level report" data-dfn-type="dfn" data-noexport id="attribution-report-delivered">delivered</dfn> (default false)
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#boolean" id="ref-for-boolean⑤">boolean</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution report, aggregatable report, event-level report" data-dfn-type="dfn" data-noexport id="attribution-report-report-id">report ID</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string①②">string</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution report, aggregatable report, event-level report" data-dfn-type="dfn" data-noexport id="attribution-report-source-debug-key">source debug key</dfn>
    <dd data-md>
     <p>Null or a non-negative 64-bit integer.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution report, aggregatable report, event-level report" data-dfn-type="dfn" data-noexport id="attribution-report-trigger-debug-key">trigger debug key</dfn>
    <dd data-md>
     <p>Null or a non-negative 64-bit integer.</p>
   </dl>
   <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="7.16" data-lt="Event-level report" data-noexport id="event-level-report"><span class="secno">7.16. </span><span class="content">Event-level report</span><a class="self-link" href="#event-level-report" id="ref-for-event-level-report②③"></a></h3>
   <p>An event-level report is an <a data-link-type="dfn" href="#attribution-report" id="ref-for-attribution-report②">attribution report</a> with the following additional items:</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="event-level report" data-dfn-type="dfn" data-noexport id="event-level-report-event-id">event ID</dfn>
    <dd data-md>
     <p>A non-negative 64-bit integer.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="event-level report" data-dfn-type="dfn" data-noexport id="event-level-report-source-type">source type</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="#source-type" id="ref-for-source-type①">source type</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="event-level report" data-dfn-type="dfn" data-noexport id="event-level-report-trigger-data">trigger data</dfn>
    <dd data-md>
     <p>A non-negative 64-bit integer.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="event-level report" data-dfn-type="dfn" data-noexport id="event-level-report-randomized-trigger-rate">randomized trigger rate</dfn>
    <dd data-md>
     <p>A number between 0 and 1 (both inclusive).</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="event-level report" data-dfn-type="dfn" data-noexport id="event-level-report-trigger-priority">trigger priority</dfn>
    <dd data-md>
     <p>A 64-bit integer.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="event-level report" data-dfn-type="dfn" data-noexport id="event-level-report-trigger-time">trigger time</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-moment" id="ref-for-dfn-moment⑥">moment</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="event-level report" data-dfn-type="dfn" data-noexport id="event-level-report-source-identifier">source identifier</dfn>
    <dd data-md>
     <p>A string.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="event-level report" data-dfn-type="dfn" data-noexport id="event-level-report-attribution-destinations">attribution destinations</dfn>
    <dd data-md>
     <p>An <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set①⓪">ordered set</a> of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#site" id="ref-for-site②">sites</a>.</p>
   </dl>
   <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="7.17" data-lt="Aggregatable contribution" data-noexport id="aggregatable-contribution"><span class="secno">7.17. </span><span class="content">Aggregatable contribution</span><a class="self-link" href="#aggregatable-contribution" id="ref-for-aggregatable-contribution⑥"></a></h3>
   <p>An aggregatable contribution is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct①①">struct</a> with the following items:</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="aggregatable contribution" data-dfn-type="dfn" data-noexport id="aggregatable-contribution-key">key</dfn>
    <dd data-md>
     <p>A non-negative 128-bit integer.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="aggregatable contribution" data-dfn-type="dfn" data-noexport id="aggregatable-contribution-value">value</dfn>
    <dd data-md>
     <p>A non-negative 32-bit integer.</p>
   </dl>
   <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="7.18" data-lt="Aggregatable report" data-noexport id="aggregatable-report"><span class="secno">7.18. </span><span class="content">Aggregatable report</span><a class="self-link" href="#aggregatable-report" id="ref-for-aggregatable-report③②"></a></h3>
   <p>An aggregatable report is an <a data-link-type="dfn" href="#attribution-report" id="ref-for-attribution-report③">attribution report</a> with the following additional items:</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="aggregatable report" data-dfn-type="dfn" data-noexport id="aggregatable-report-source-time">source time</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-moment" id="ref-for-dfn-moment⑦">moment</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="aggregatable report" data-dfn-type="dfn" data-noexport id="aggregatable-report-contributions">contributions</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①⑧">list</a> of <a data-link-type="dfn" href="#aggregatable-contribution" id="ref-for-aggregatable-contribution①">aggregatable contributions</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="aggregatable report" data-dfn-type="dfn" data-noexport id="aggregatable-report-effective-attribution-destination">effective attribution destination</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#site" id="ref-for-site③">site</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="aggregatable report" data-dfn-type="dfn" data-noexport id="aggregatable-report-serialized-private-state-token">serialized private state token</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="#serialized-private-state-token" id="ref-for-serialized-private-state-token">serialized private state token</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="aggregatable report" data-dfn-type="dfn" data-noexport id="aggregatable-report-aggregation-coordinator">aggregation coordinator</dfn>
    <dd data-md>
     <p>An <a data-link-type="dfn" href="#aggregation-coordinator" id="ref-for-aggregation-coordinator①">aggregation coordinator</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="aggregatable report" data-dfn-type="dfn" data-noexport id="aggregatable-report-source-registration-time-configuration">source registration time configuration</dfn>
    <dd data-md>
     <p>An <a data-link-type="dfn" href="#aggregatable-source-registration-time-configuration" id="ref-for-aggregatable-source-registration-time-configuration①">aggregatable source registration time configuration</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="aggregatable report" data-dfn-type="dfn" data-noexport id="aggregatable-report-is-null-report">is null report</dfn> (default false)
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#boolean" id="ref-for-boolean⑥">boolean</a>.</p>
   </dl>
   <h3 class="heading settled" data-level="7.19" id="attribution-rate-limits"><span class="secno">7.19. </span><span class="content">Attribution rate-limits</span><a class="self-link" href="#attribution-rate-limits"></a></h3>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="rate-limit-scope">rate-limit scope</dfn> is one of the following:</p>
   <ul>
    <li>"<dfn class="dfn-paneled" data-dfn-for="rate-limit scope" data-dfn-type="dfn" data-noexport id="rate-limit-scope-source"><code>source</code></dfn>" 
    <li>"<dfn class="dfn-paneled" data-dfn-for="rate-limit scope" data-dfn-type="dfn" data-noexport id="rate-limit-scope-attribution"><code>attribution</code></dfn>" 
   </ul>
   <p>An <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="attribution-rate-limit-record">attribution rate-limit record</dfn> is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct①②">struct</a> with the following items:</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution rate-limit record" data-dfn-type="dfn" data-noexport id="attribution-rate-limit-record-scope">scope</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="#rate-limit-scope" id="ref-for-rate-limit-scope">rate-limit scope</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution rate-limit record" data-dfn-type="dfn" data-noexport id="attribution-rate-limit-record-source-site">source site</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#site" id="ref-for-site④">site</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution rate-limit record" data-dfn-type="dfn" data-noexport id="attribution-rate-limit-record-attribution-destination">attribution destination</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#site" id="ref-for-site⑤">site</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution rate-limit record" data-dfn-type="dfn" data-noexport id="attribution-rate-limit-record-reporting-origin">reporting origin</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="#suitable-origin" id="ref-for-suitable-origin⑤">suitable origin</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution rate-limit record" data-dfn-type="dfn" data-noexport id="attribution-rate-limit-record-time">time</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-moment" id="ref-for-dfn-moment⑧">moment</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution rate-limit record" data-dfn-type="dfn" data-noexport id="attribution-rate-limit-record-expiry-time">expiry time</dfn>
    <dd data-md>
     <p>Null or a <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-moment" id="ref-for-dfn-moment⑨">moment</a>.</p>
   </dl>
   <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="7.20" data-lt="Attribution debug data" data-noexport id="attribution-debug-data"><span class="secno">7.20. </span><span class="content">Attribution debug data</span><a class="self-link" href="#attribution-debug-data" id="ref-for-attribution-debug-data"></a></h3>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="debug-data-type">debug data type</dfn> is a non-empty string that specifies the set of data that is
contained in the <a data-link-type="dfn" href="#attribution-debug-data-body" id="ref-for-attribution-debug-data-body">body</a> of an <a data-link-type="dfn" href="#attribution-debug-data" id="ref-for-attribution-debug-data⑨">attribution debug data</a>.</p>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="source-debug-data-type">source debug data type</dfn> is a <a data-link-type="dfn" href="#debug-data-type" id="ref-for-debug-data-type">debug data type</a> for source registrations.
Possible values are:</p>
   <ul>
    <li>"<dfn class="dfn-paneled" data-dfn-for="source debug data type" data-dfn-type="dfn" data-noexport id="source-debug-data-type-source-destination-limit"><code>source-destination-limit</code></dfn>" 
    <li>"<dfn class="dfn-paneled" data-dfn-for="source debug data type" data-dfn-type="dfn" data-noexport id="source-debug-data-type-source-destination-rate-limit"><code>source-destination-rate-limit</code></dfn>" 
    <li>"<dfn class="dfn-paneled" data-dfn-for="source debug data type" data-dfn-type="dfn" data-noexport id="source-debug-data-type-source-noised"><code>source-noised</code></dfn>" 
    <li>"<dfn class="dfn-paneled" data-dfn-for="source debug data type" data-dfn-type="dfn" data-noexport id="source-debug-data-type-source-storage-limit"><code>source-storage-limit</code></dfn>" 
    <li>"<dfn class="dfn-paneled" data-dfn-for="source debug data type" data-dfn-type="dfn" data-noexport id="source-debug-data-type-source-success"><code>source-success</code></dfn>" 
    <li>"<dfn class="dfn-paneled" data-dfn-for="source debug data type" data-dfn-type="dfn" data-noexport id="source-debug-data-type-source-unknown-error"><code>source-unknown-error</code></dfn>" 
   </ul>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="trigger-debug-data-type">trigger debug data type</dfn> is a <a data-link-type="dfn" href="#debug-data-type" id="ref-for-debug-data-type①">debug data type</a> for trigger registrations.
Possible values are:</p>
   <ul>
    <li>"<dfn class="dfn-paneled" data-dfn-for="trigger debug data type" data-dfn-type="dfn" data-noexport id="trigger-debug-data-type-trigger-aggregate-deduplicated"><code>trigger-aggregate-deduplicated</code></dfn>" 
    <li>"<dfn class="dfn-paneled" data-dfn-for="trigger debug data type" data-dfn-type="dfn" data-noexport id="trigger-debug-data-type-trigger-aggregate-excessive-reports"><code>trigger-aggregate-excessive-reports</code></dfn>" 
    <li>"<dfn class="dfn-paneled" data-dfn-for="trigger debug data type" data-dfn-type="dfn" data-noexport id="trigger-debug-data-type-trigger-aggregate-no-contributions"><code>trigger-aggregate-no-contributions</code></dfn>" 
    <li>"<dfn class="dfn-paneled" data-dfn-for="trigger debug data type" data-dfn-type="dfn" data-noexport id="trigger-debug-data-type-trigger-aggregate-insufficient-budget"><code>trigger-aggregate-insufficient-budget</code></dfn>" 
    <li>"<dfn class="dfn-paneled" data-dfn-for="trigger debug data type" data-dfn-type="dfn" data-noexport id="trigger-debug-data-type-trigger-aggregate-storage-limit"><code>trigger-aggregate-storage-limit</code></dfn>" 
    <li>"<dfn class="dfn-paneled" data-dfn-for="trigger debug data type" data-dfn-type="dfn" data-noexport id="trigger-debug-data-type-trigger-aggregate-report-window-passed"><code>trigger-aggregate-report-window-passed</code></dfn>" 
    <li>"<dfn class="dfn-paneled" data-dfn-for="trigger debug data type" data-dfn-type="dfn" data-noexport id="trigger-debug-data-type-trigger-attributions-per-source-destination-limit"><code>trigger-attributions-per-source-destination-limit</code></dfn>" 
    <li>"<dfn class="dfn-paneled" data-dfn-for="trigger debug data type" data-dfn-type="dfn" data-noexport id="trigger-debug-data-type-trigger-event-deduplicated"><code>trigger-event-deduplicated</code></dfn>" 
    <li>"<dfn class="dfn-paneled" data-dfn-for="trigger debug data type" data-dfn-type="dfn" data-noexport id="trigger-debug-data-type-trigger-event-excessive-reports"><code>trigger-event-excessive-reports</code></dfn>" 
    <li>"<dfn class="dfn-paneled" data-dfn-for="trigger debug data type" data-dfn-type="dfn" data-noexport id="trigger-debug-data-type-trigger-event-low-priority"><code>trigger-event-low-priority</code></dfn>" 
    <li>"<dfn class="dfn-paneled" data-dfn-for="trigger debug data type" data-dfn-type="dfn" data-noexport id="trigger-debug-data-type-trigger-event-no-matching-configurations"><code>trigger-event-no-matching-configurations</code></dfn>" 
    <li>"<dfn class="dfn-paneled" data-dfn-for="trigger debug data type" data-dfn-type="dfn" data-noexport id="trigger-debug-data-type-trigger-event-noise"><code>trigger-event-noise</code></dfn>" 
    <li>"<dfn class="dfn-paneled" data-dfn-for="trigger debug data type" data-dfn-type="dfn" data-noexport id="trigger-debug-data-type-trigger-event-report-window-not-started"><code>trigger-event-report-window-not-started</code></dfn>" 
    <li>"<dfn class="dfn-paneled" data-dfn-for="trigger debug data type" data-dfn-type="dfn" data-noexport id="trigger-debug-data-type-trigger-event-report-window-passed"><code>trigger-event-report-window-passed</code></dfn>" 
    <li>"<dfn class="dfn-paneled" data-dfn-for="trigger debug data type" data-dfn-type="dfn" data-noexport id="trigger-debug-data-type-trigger-event-storage-limit"><code>trigger-event-storage-limit</code></dfn>" 
    <li>"<dfn class="dfn-paneled" data-dfn-for="trigger debug data type" data-dfn-type="dfn" data-noexport id="trigger-debug-data-type-trigger-no-matching-source"><code>trigger-no-matching-source</code></dfn>" 
    <li>"<dfn class="dfn-paneled" data-dfn-for="trigger debug data type" data-dfn-type="dfn" data-noexport id="trigger-debug-data-type-trigger-no-matching-filter-data"><code>trigger-no-matching-filter-data</code></dfn>" 
    <li>"<dfn class="dfn-paneled" data-dfn-for="trigger debug data type" data-dfn-type="dfn" data-noexport id="trigger-debug-data-type-trigger-reporting-origin-limit"><code>trigger-reporting-origin-limit</code></dfn>" 
    <li>"<dfn data-dfn-for="trigger debug data type" data-dfn-type="dfn" data-noexport id="trigger-debug-data-type-trigger-unknown-error"><code>trigger-unknown-error</code><a class="self-link" href="#trigger-debug-data-type-trigger-unknown-error"></a></dfn>" 
   </ul>
   <p>An <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="os-debug-data-type">OS debug data type</dfn> is a <a data-link-type="dfn" href="#debug-data-type" id="ref-for-debug-data-type②">debug data type</a> for OS registrations.
Possible values are:</p>
   <ul>
    <li>"<dfn class="dfn-paneled" data-dfn-for="OS debug data type" data-dfn-type="dfn" data-noexport id="os-debug-data-type-os-source-delegated"><code>os-source-delegated</code></dfn>" 
    <li>"<dfn class="dfn-paneled" data-dfn-for="OS debug data type" data-dfn-type="dfn" data-noexport id="os-debug-data-type-os-trigger-delegated"><code>os-trigger-delegated</code></dfn>" 
   </ul>
   <p>An attribution debug data is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct①③">struct</a> with the following items:</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution debug data" data-dfn-type="dfn" data-noexport id="attribution-debug-data-data-type">data type</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="#debug-data-type" id="ref-for-debug-data-type③">debug data type</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution debug data" data-dfn-type="dfn" data-noexport id="attribution-debug-data-body">body</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map④">map</a> whose fields are determined by the <a data-link-type="dfn" href="#attribution-debug-data-data-type" id="ref-for-attribution-debug-data-data-type">data type</a>.</p>
   </dl>
   <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="7.21" data-lt="Attribution debug report" data-noexport id="attribution-debug-report"><span class="secno">7.21. </span><span class="content">Attribution debug report</span><a class="self-link" href="#attribution-debug-report" id="ref-for-attribution-debug-report"></a></h3>
   <p>An attribution debug report is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct①④">struct</a> with the following items:</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution debug report" data-dfn-type="dfn" data-noexport id="attribution-debug-report-data">data</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①⑨">list</a> of <a data-link-type="dfn" href="#attribution-debug-data" id="ref-for-attribution-debug-data①">attribution debug data</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="attribution debug report" data-dfn-type="dfn" data-noexport id="attribution-debug-report-reporting-origin">reporting origin</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="#suitable-origin" id="ref-for-suitable-origin⑥">suitable origin</a>.</p>
   </dl>
   <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="7.22" data-lt="Serialized private state token" data-noexport id="serialized-private-state-token"><span class="secno">7.22. </span><span class="content">Serialized private state token</span><a class="self-link" href="#serialized-private-state-token" id="ref-for-serialized-private-state-token③"></a></h3>
   <p>A serialized private state token is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#forgiving-base64-encode" id="ref-for-forgiving-base64-encode">forgiving-base64 encoding</a> of a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence" id="ref-for-byte-sequence">byte sequence</a>.</p>
   <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="7.23" data-lt="Trigger verification" data-noexport id="trigger-verification"><span class="secno">7.23. </span><span class="content">Trigger verification</span><a class="self-link" href="#trigger-verification" id="ref-for-trigger-verification③"></a></h3>
   <p>A trigger verification is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct①⑤">struct</a> with the following items:</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="trigger verification" data-dfn-type="dfn" data-noexport id="trigger-verification-token">token</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="#serialized-private-state-token" id="ref-for-serialized-private-state-token①">serialized private state token</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="trigger verification" data-dfn-type="dfn" data-noexport id="trigger-verification-id">id</dfn>
    <dd data-md>
     <p>The result of <a data-link-type="dfn" href="https://wicg.github.io/uuid/#dfn-generate-a-random-uuid" id="ref-for-dfn-generate-a-random-uuid">generating a random UUID</a> over which the <a data-link-type="dfn" href="#trigger-verification-token" id="ref-for-trigger-verification-token">token</a> is signed.</p>
   </dl>
   <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="7.24" data-lt="Trigger verification metadata" data-noexport id="trigger-verification-metadata"><span class="secno">7.24. </span><span class="content">Trigger verification metadata</span><a class="self-link" href="#trigger-verification-metadata" id="ref-for-trigger-verification-metadata②"></a></h3>
   <p>A trigger verification metadata is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct①⑥">struct</a> with the following items:</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="trigger verification metadata" data-dfn-type="dfn" data-noexport id="trigger-verification-metadata-pretokens">pretokens</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence" id="ref-for-byte-sequence①">byte sequence</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="trigger verification metadata" data-dfn-type="dfn" data-noexport id="trigger-verification-metadata-ids">IDs</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list②⓪">list</a> of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string①③">string</a> generated using <a data-link-type="dfn" href="https://wicg.github.io/uuid/#dfn-generate-a-random-uuid" id="ref-for-dfn-generate-a-random-uuid①">generating a random UUID</a>.</p>
   </dl>
   <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="7.25" data-lt="Triggering result" data-noexport id="triggering-result"><span class="secno">7.25. </span><span class="content">Triggering result</span><a class="self-link" href="#triggering-result" id="ref-for-triggering-result"></a></h3>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="triggering-status">triggering status</dfn> is one of the following:</p>
   <ul>
    <li>"<dfn class="dfn-paneled" data-dfn-for="triggering status" data-dfn-type="dfn" data-noexport id="triggering-status-dropped"><code>dropped</code></dfn>" 
    <li>"<dfn class="dfn-paneled" data-dfn-for="triggering status" data-dfn-type="dfn" data-noexport id="triggering-status-noised"><code>noised</code></dfn>" 
    <li>"<dfn class="dfn-paneled" data-dfn-for="triggering status" data-dfn-type="dfn" data-noexport id="triggering-status-attributed"><code>attributed</code></dfn>" 
   </ul>
   <p class="note" role="note"><span class="marker">Note:</span> "<code><a data-link-type="dfn" href="#triggering-status-noised" id="ref-for-triggering-status-noised">noised</a></code>" only applies for <a data-link-type="dfn" href="#trigger-event-level-attribution" id="ref-for-trigger-event-level-attribution">triggering event-level attribution</a> when it is attributed
successfully but dropped as the noise was applied to the source.</p>
   <p>A triggering result is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#tuple" id="ref-for-tuple">tuple</a> with the following items:</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="triggering result" data-dfn-type="dfn" data-noexport id="triggering-result-status">status</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="#triggering-status" id="ref-for-triggering-status">triggering status</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="triggering result" data-dfn-type="dfn" data-noexport id="triggering-result-debug-data">debug data</dfn>
    <dd data-md>
     <p>Null or an <a data-link-type="dfn" href="#attribution-debug-data" id="ref-for-attribution-debug-data②">attribution debug data</a>.</p>
   </dl>
   <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="7.26" data-lt="Destination rate-limit result" data-noexport id="destination-rate-limit-result"><span class="secno">7.26. </span><span class="content">Destination rate-limit result</span><a class="self-link" href="#destination-rate-limit-result" id="ref-for-destination-rate-limit-result"></a></h3>
   <p>A destination rate-limit result is one of the following:</p>
   <ul>
    <li>"<dfn class="dfn-paneled" data-dfn-for="destination rate-limit result" data-dfn-type="dfn" data-noexport id="destination-rate-limit-result-allowed"><code>allowed</code></dfn>" 
    <li>"<dfn class="dfn-paneled" data-dfn-for="destination rate-limit result" data-dfn-type="dfn" data-noexport id="destination-rate-limit-result-hit-global-limit"><code>hit global limit</code></dfn>" 
    <li>"<dfn class="dfn-paneled" data-dfn-for="destination rate-limit result" data-dfn-type="dfn" data-noexport id="destination-rate-limit-result-hit-reporting-limit"><code>hit reporting limit</code></dfn>" 
   </ul>
   <h2 class="heading settled" data-level="8" id="storage"><span class="secno">8. </span><span class="content">Storage</span><a class="self-link" href="#storage"></a></h2>
   <p>A user agent holds an <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="attribution-source-cache">attribution source cache</dfn>, which is an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set①①">ordered set</a> of <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source①⑤">attribution sources</a>.</p>
   <p>A user agent holds an <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="event-level-report-cache">event-level report cache</dfn>, which is an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set①②">ordered set</a> of <a data-link-type="dfn" href="#event-level-report" id="ref-for-event-level-report③">event-level reports</a>.</p>
   <p>A user agent holds an <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="aggregatable-report-cache">aggregatable report cache</dfn>, which is an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set①③">ordered set</a> of <a data-link-type="dfn" href="#aggregatable-report" id="ref-for-aggregatable-report④">aggregatable reports</a>.</p>
   <p>A user agent holds an <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="attribution-rate-limit-cache">attribution rate-limit cache</dfn>, which is an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set①④">ordered set</a> of <a data-link-type="dfn" href="#attribution-rate-limit-record" id="ref-for-attribution-rate-limit-record">attribution rate-limit records</a>.</p>
   <p>The above caches are collectively known as the <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="attribution-caches">attribution caches</dfn>. The <a data-link-type="dfn" href="#attribution-caches" id="ref-for-attribution-caches">attribution caches</a> are
shared among all <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object" id="ref-for-environment-settings-object">environment settings objects</a>.</p>
   <p class="note" role="note"><span class="marker">Note:</span> This would ideally use <a data-link-type="dfn" href="https://storage.spec.whatwg.org/#storage-bottle" id="ref-for-storage-bottle">storage bottles</a> to provide access to the attribution caches.
However attribution data is inherently cross-site, and operations on storage would need to span across all storage bottle maps.</p>
   <h2 class="heading settled" data-level="9" id="constants"><span class="secno">9. </span><span class="content">Constants</span><a class="self-link" href="#constants"></a></h2>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="valid-source-expiry-range">Valid source expiry range</dfn> is a 2-tuple of positive <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-duration" id="ref-for-dfn-duration②">durations</a> that controls the
minimum and maximum value that can be used as an <a data-link-type="dfn" href="#attribution-source-expiry" id="ref-for-attribution-source-expiry①">expiry</a>, respectively.
Its value is (1 day, 30 days).</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="min-report-window">Min report window</dfn> is a positive <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-duration" id="ref-for-dfn-duration③">duration</a> that controls the
minimum <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-duration-from" id="ref-for-dfn-duration-from">duration from</a> an <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source①⑥">attribution source’s</a> <a data-link-type="dfn" href="#attribution-source-source-time" id="ref-for-attribution-source-source-time①">source time</a> and any <a data-link-type="dfn" href="#report-window-end" id="ref-for-report-window-end③">end</a> in <a data-link-type="dfn" href="#attribution-source-aggregatable-report-window" id="ref-for-attribution-source-aggregatable-report-window">aggregatable report window</a> or <a data-link-type="dfn" href="#attribution-source-event-level-report-windows" id="ref-for-attribution-source-event-level-report-windows③">event-level report windows</a>.
Its value is 1 hour.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="max-entries-per-filter-data">Max entries per filter data</dfn> is a positive integer that controls the
maximum <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-size" id="ref-for-map-size">size</a> of an <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source①⑦">attribution source</a>'s <a data-link-type="dfn" href="#attribution-source-filter-data" id="ref-for-attribution-source-filter-data">filter data</a>.
Its value is 50.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="max-values-per-filter-data-entry">Max values per filter data entry</dfn> is a positive integer that
controls the maximum <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-size" id="ref-for-list-size">size</a> of each <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-value" id="ref-for-map-value③">value</a> of an <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source①⑧">attribution source</a>'s <a data-link-type="dfn" href="#attribution-source-filter-data" id="ref-for-attribution-source-filter-data①">filter data</a>. Its value is 50.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="attribution-rate-limit-window">Attribution rate-limit window</dfn> is a positive <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-duration" id="ref-for-dfn-duration④">duration</a> that
controls the rate-limiting window for attribution. Its value is 30 days.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="max-destinations-per-source">Max destinations per source</dfn> is a positive integer that controls the
maximum <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-size" id="ref-for-list-size①">size</a> of an <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source①⑨">attribution source</a>'s <a data-link-type="dfn" href="#attribution-source-attribution-destinations" id="ref-for-attribution-source-attribution-destinations①">attribution destinations</a>. Its value is 3.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="max-settable-event-level-attributions-per-source">Max settable event-level attributions per source</dfn> is a positive integer that
controls the maximum value of <a data-link-type="dfn" href="#attribution-source-max-number-of-event-level-reports" id="ref-for-attribution-source-max-number-of-event-level-reports">max number of event-level reports</a>.
Its value is 20.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="max-settable-event-level-report-windows">Max settable event-level report windows</dfn> is a positive integer that
controls the maximum <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-size" id="ref-for-list-size②">size</a> of <a data-link-type="dfn" href="#attribution-source-event-level-report-windows" id="ref-for-attribution-source-event-level-report-windows④">event-level report windows</a>.
Its value is 5.</p>
   <h2 class="heading settled" data-level="10" id="vendor-specific-values"><span class="secno">10. </span><span class="content">Vendor-Specific Values</span><a class="self-link" href="#vendor-specific-values"></a></h2>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="max-aggregation-keys-per-attribution">Max aggregation keys per attribution</dfn> is a positive integer that
controls the maximum <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-size" id="ref-for-map-size①">size</a> of an <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source②⓪">attribution source</a>'s <a data-link-type="dfn" href="#attribution-source-aggregation-keys" id="ref-for-attribution-source-aggregation-keys">aggregation keys</a>, the maximum <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-size" id="ref-for-list-size③">size</a> of an <a data-link-type="dfn" href="#aggregatable-trigger-data" id="ref-for-aggregatable-trigger-data①">aggregatable trigger data</a>'s <a data-link-type="dfn" href="#aggregatable-trigger-data-source-keys" id="ref-for-aggregatable-trigger-data-source-keys">source keys</a>,
and the maximum <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-size" id="ref-for-map-size②">size</a> of an <a data-link-type="dfn" href="#attribution-trigger" id="ref-for-attribution-trigger③">attribution trigger</a>'s <a data-link-type="dfn" href="#attribution-trigger-aggregatable-values" id="ref-for-attribution-trigger-aggregatable-values">aggregatable values</a>.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="max-pending-sources-per-source-origin">Max pending sources per source origin</dfn> is a positive integer that
controls how many <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source②①">attribution sources</a> can be in the <a data-link-type="dfn" href="#attribution-source-cache" id="ref-for-attribution-source-cache②">attribution source cache</a> per <a data-link-type="dfn" href="#attribution-source-source-origin" id="ref-for-attribution-source-source-origin①">source origin</a>.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="default-trigger-data-cardinality">Default trigger data cardinality</dfn> is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map⑤">map</a> that
controls the valid range of <a data-link-type="dfn" href="#event-level-trigger-configuration-trigger-data" id="ref-for-event-level-trigger-configuration-trigger-data">trigger data</a>.
The keys are «<a data-link-type="dfn" href="#source-type-navigation" id="ref-for-source-type-navigation②">navigation</a>, <a data-link-type="dfn" href="#source-type-event" id="ref-for-source-type-event①">event</a>». The values are positive integers.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="randomized-response-epsilon">Randomized response epsilon</dfn> is a non-negative double that controls
the randomized response probability of an <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source②②">attribution source</a>. If <a data-link-type="dfn" href="#automation-local-testing-mode" id="ref-for-automation-local-testing-mode">automation local testing mode</a> is true,
this is <code>∞</code>.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="randomized-null-report-rate-excluding-source-registration-time">Randomized null report rate excluding source registration time</dfn> is a
double between 0 and 1 (both inclusive) that controls the randomized number of null reports
generated for an <a data-link-type="dfn" href="#attribution-trigger" id="ref-for-attribution-trigger④">attribution trigger</a> whose [attribution trigger/aggregatable source registration time configuration]
is "<code><a data-link-type="dfn" href="#aggregatable-source-registration-time-configuration-exclude" id="ref-for-aggregatable-source-registration-time-configuration-exclude">exclude</a></code>". If <a data-link-type="dfn" href="#automation-local-testing-mode" id="ref-for-automation-local-testing-mode①">automation local testing mode</a> is true,
this is 0.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="randomized-null-report-rate-including-source-registration-time">Randomized null report rate including source registration time</dfn> is a
double between 0 and 1 (both inclusive) that controls the randomized number of null reports
generated for an <a data-link-type="dfn" href="#attribution-trigger" id="ref-for-attribution-trigger⑤">attribution trigger</a> whose [attribution trigger/aggregatable source registration time configuration]
is "<code><a data-link-type="dfn" href="#aggregatable-source-registration-time-configuration-include" id="ref-for-aggregatable-source-registration-time-configuration-include">include</a></code>". If <a data-link-type="dfn" href="#automation-local-testing-mode" id="ref-for-automation-local-testing-mode②">automation local testing mode</a> is true,
this is 0.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="max-event-level-reports-per-attribution-destination">Max event-level reports per attribution destination</dfn> is a positive integer that
controls how many <a data-link-type="dfn" href="#event-level-report" id="ref-for-event-level-report④">event-level reports</a> can be in the <a data-link-type="dfn" href="#event-level-report-cache" id="ref-for-event-level-report-cache②">event-level report cache</a> per <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#site" id="ref-for-site⑥">site</a> in <a data-link-type="dfn" href="#event-level-report-attribution-destinations" id="ref-for-event-level-report-attribution-destinations">attribution destinations</a>.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="max-aggregatable-reports-per-attribution-destination">Max aggregatable reports per attribution destination</dfn> is a positive integer that controls how
many <a data-link-type="dfn" href="#aggregatable-report" id="ref-for-aggregatable-report⑤">aggregatable reports</a> can be in the <a data-link-type="dfn" href="#aggregatable-report-cache" id="ref-for-aggregatable-report-cache②">aggregatable report cache</a> per <a data-link-type="dfn" href="#aggregatable-report-effective-attribution-destination" id="ref-for-aggregatable-report-effective-attribution-destination">effective attribution destination</a>.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="default-event-level-attributions-per-source">Default event-level attributions per source</dfn> is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map⑥">map</a> that
controls how many times a single <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source②③">attribution source</a> can create an <a data-link-type="dfn" href="#event-level-report" id="ref-for-event-level-report⑤">event-level report</a> by default.
The keys are «<a data-link-type="dfn" href="#source-type-navigation" id="ref-for-source-type-navigation③">navigation</a>, <a data-link-type="dfn" href="#source-type-event" id="ref-for-source-type-event②">event</a>». The values are non-negative integers.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="max-event-level-channel-capacity-per-source">Max event-level channel capacity per source</dfn> is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map⑦">map</a> that
controls how many bits of information can be exposed associated with a single <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source②④">attribution source</a>.
The keys are «<a data-link-type="dfn" href="#source-type-navigation" id="ref-for-source-type-navigation④">navigation</a>, <a data-link-type="dfn" href="#source-type-event" id="ref-for-source-type-event③">event</a>». The values are non-negative integers.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="max-aggregatable-reports-per-source">Max aggregatable reports per source</dfn> is a positive integer that controls how many <a data-link-type="dfn" href="#aggregatable-report" id="ref-for-aggregatable-report⑥">aggregatable reports</a> can be created by <a data-link-type="dfn" href="#attribution-trigger" id="ref-for-attribution-trigger⑥">attribution triggers</a> attributed to a single <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source②⑤">attribution source</a>.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="max-destinations-covered-by-unexpired-sources">Max destinations covered by unexpired sources</dfn> is a positive
integer that controls the maximum number of distinct <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#site" id="ref-for-site⑦">sites</a> across all <a data-link-type="dfn" href="#attribution-source-attribution-destinations" id="ref-for-attribution-source-attribution-destinations②">attribution destinations</a> for unexpired <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source②⑥">attribution sources</a> with a given (<a data-link-type="dfn" href="#attribution-source-source-site" id="ref-for-attribution-source-source-site">source site</a>, <a data-link-type="dfn" href="#attribution-source-reporting-origin" id="ref-for-attribution-source-reporting-origin①">reporting origin</a> <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#site" id="ref-for-site⑧">site</a>).</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="destination-rate-limit-window">Destination rate-limit window</dfn> is a positive <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-duration" id="ref-for-dfn-duration⑤">duration</a> that
controls the rate-limiting window for destinations.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="max-destinations-per-rate-limit-window">Max destinations per rate-limit window</dfn> is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#tuple" id="ref-for-tuple①">tuple</a> consisting of two integers. The first
controls the maximum number of distinct <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#site" id="ref-for-site⑨">sites</a> across all <a data-link-type="dfn" href="#attribution-source-attribution-destinations" id="ref-for-attribution-source-attribution-destinations③">attribution destinations</a> for <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source②⑦">attribution sources</a> with a given <a data-link-type="dfn" href="#attribution-source-source-site" id="ref-for-attribution-source-source-site①">source site</a> per <a data-link-type="dfn" href="#destination-rate-limit-window" id="ref-for-destination-rate-limit-window">destination rate-limit window</a>.
The second controls the maximum number of distinct <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#site" id="ref-for-site①⓪">sites</a> across all <a data-link-type="dfn" href="#attribution-source-attribution-destinations" id="ref-for-attribution-source-attribution-destinations④">attribution destinations</a> for <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source②⑧">attribution sources</a> with a given (<a data-link-type="dfn" href="#attribution-source-source-site" id="ref-for-attribution-source-source-site②">source site</a>, <a data-link-type="dfn" href="#attribution-source-reporting-origin" id="ref-for-attribution-source-reporting-origin②">reporting origin</a> <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#site" id="ref-for-site①①">site</a>)
per <a data-link-type="dfn" href="#destination-rate-limit-window" id="ref-for-destination-rate-limit-window①">destination rate-limit window</a>.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="max-source-reporting-origins-per-rate-limit-window">Max source reporting origins per rate-limit window</dfn> is a positive
integer that controls the maximum number of distinct <a data-link-type="dfn" href="#attribution-source-reporting-origin" id="ref-for-attribution-source-reporting-origin③">reporting origins</a> for a
(<a data-link-type="dfn" href="#attribution-rate-limit-record-source-site" id="ref-for-attribution-rate-limit-record-source-site">source site</a>, <a data-link-type="dfn" href="#attribution-rate-limit-record-attribution-destination" id="ref-for-attribution-rate-limit-record-attribution-destination">attribution destination</a>) that can create <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source②⑨">attribution sources</a> per <a data-link-type="dfn" href="#attribution-rate-limit-window" id="ref-for-attribution-rate-limit-window">attribution rate-limit window</a>.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="max-source-reporting-origins-per-source-reporting-site">Max source reporting origins per source reporting site</dfn> is a positive
integer that controls the maximum number of distinct <a data-link-type="dfn" href="#attribution-source-reporting-origin" id="ref-for-attribution-source-reporting-origin④">reporting origins</a> for a
(<a data-link-type="dfn" href="#attribution-rate-limit-record-source-site" id="ref-for-attribution-rate-limit-record-source-site①">source site</a>, <a data-link-type="dfn" href="#attribution-rate-limit-record-reporting-origin" id="ref-for-attribution-rate-limit-record-reporting-origin">reporting origin</a> <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#site" id="ref-for-site①②">site</a>) that can create <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source③⓪">attribution sources</a> per <a data-link-type="dfn" href="#origin-rate-limit-window" id="ref-for-origin-rate-limit-window">origin rate-limit window</a>.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="origin-rate-limit-window">Origin rate-limit window</dfn> is a positive <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-duration" id="ref-for-dfn-duration⑥">duration</a> that
controls the rate-limiting window for <a data-link-type="dfn" href="#max-source-reporting-origins-per-source-reporting-site" id="ref-for-max-source-reporting-origins-per-source-reporting-site">max source reporting origins per source reporting site</a>.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="max-attribution-reporting-origins-per-rate-limit-window">Max attribution reporting origins per rate-limit window</dfn> is a
positive integer that controls the maximum number of distinct <a data-link-type="dfn" href="#attribution-trigger-reporting-origin" id="ref-for-attribution-trigger-reporting-origin">reporting origins</a> for a
(<a data-link-type="dfn" href="#attribution-rate-limit-record-source-site" id="ref-for-attribution-rate-limit-record-source-site②">source site</a>, <a data-link-type="dfn" href="#attribution-rate-limit-record-attribution-destination" id="ref-for-attribution-rate-limit-record-attribution-destination①">attribution destination</a>) that can create <a data-link-type="dfn" href="#event-level-report" id="ref-for-event-level-report⑥">event-level reports</a> per <a data-link-type="dfn" href="#attribution-rate-limit-window" id="ref-for-attribution-rate-limit-window①">attribution rate-limit window</a>.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="max-attributions-per-rate-limit-window">Max attributions per rate-limit window</dfn> is a positive integer that
controls the maximum number of attributions for a
(<a data-link-type="dfn" href="#attribution-rate-limit-record-source-site" id="ref-for-attribution-rate-limit-record-source-site③">source site</a>, <a data-link-type="dfn" href="#attribution-rate-limit-record-attribution-destination" id="ref-for-attribution-rate-limit-record-attribution-destination②">attribution destination</a>, <a data-link-type="dfn" href="#attribution-rate-limit-record-reporting-origin" id="ref-for-attribution-rate-limit-record-reporting-origin①">reporting origin</a> <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#site" id="ref-for-site①③">site</a>) per <a data-link-type="dfn" href="#attribution-rate-limit-window" id="ref-for-attribution-rate-limit-window②">attribution rate-limit window</a>.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="allowed-aggregatable-budget-per-source">Allowed aggregatable budget per source</dfn> is a positive integer that controls the total <a data-link-type="dfn" href="#aggregatable-report-required-aggregatable-budget" id="ref-for-aggregatable-report-required-aggregatable-budget">required aggregatable budget</a> of all <a data-link-type="dfn" href="#aggregatable-report" id="ref-for-aggregatable-report⑦">aggregatable reports</a> created for
an <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source③①">attribution source</a>.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="randomized-aggregatable-report-delay">Randomized aggregatable report delay</dfn> is a positive <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-duration" id="ref-for-dfn-duration⑦">duration</a> that controls the
random delay to deliver an <a data-link-type="dfn" href="#aggregatable-report" id="ref-for-aggregatable-report⑧">aggregatable report</a>. If <a data-link-type="dfn" href="#automation-local-testing-mode" id="ref-for-automation-local-testing-mode③">automation local testing mode</a> is true,
this is 0.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="default-aggregation-coordinator">Default aggregation coordinator</dfn> is the <a data-link-type="dfn" href="#aggregation-coordinator" id="ref-for-aggregation-coordinator②">aggregation coordinator</a> that controls how to
obtain the public key for encrypting an <a data-link-type="dfn" href="#aggregatable-report" id="ref-for-aggregatable-report⑨">aggregatable report</a> by default.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="verification-tokens-per-trigger">Verification tokens per trigger</dfn> is a positive integer that controls the number of
encoded masked messages sent for signature when <a data-link-type="dfn" href="#set-trigger-verification-request-headers" id="ref-for-set-trigger-verification-request-headers①">initiating trigger verification</a> and the maximum number of <a data-link-type="dfn" href="#serialized-private-state-token" id="ref-for-serialized-private-state-token②">serialized private state tokens</a> that can be attached to an <a data-link-type="dfn" href="#attribution-trigger" id="ref-for-attribution-trigger⑦">attribution trigger</a>.</p>
   <h2 class="heading settled" data-level="11" id="general-algorithms"><span class="secno">11. </span><span class="content">General Algorithms</span><a class="self-link" href="#general-algorithms"></a></h2>
   <h3 class="heading settled" data-level="11.1" id="serialize-integer"><span class="secno">11.1. </span><span class="content">Serialize an integer</span><a class="self-link" href="#serialize-integer"></a></h3>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="serialize-an-integer">serialize an integer</dfn>, represent it as a string of the shortest possible decimal number.</p>
   <p class="issue" id="issue-ccb90c6c"><a class="self-link" href="#issue-ccb90c6c"></a> This would ideally be replaced by a more descriptive algorithm in Infra. See <a href="https://github.com/whatwg/infra/issues/201">infra/201</a></p>
   <h3 class="heading settled" data-level="11.2" id="parsing-json-fields"><span class="secno">11.2. </span><span class="content">Parsing JSON fields</span><a class="self-link" href="#parsing-json-fields"></a></h3>
   <p class="note" role="note"><span class="marker">Note:</span> The "<code>Attribution-Reporting-Register-Source</code>" and
"<code>Attribution-Reporting-Register-Trigger</code>" response headers contain JSON-encoded
data, rather than <a href="https://httpwg.org/specs/rfc8941.html">structured
values</a>, because of limitations on nesting in the latter. The recursive
nature of JSON makes it more amenable to future extensions.</p>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="parse-an-optional-64-bit-signed-integer">parse an optional 64-bit signed integer</dfn> given a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map⑧">map</a> <var>map</var>, a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string①④">string</a> <var>key</var>, and a possibly null 64-bit signed integer <var>default</var>:</p>
   <ol>
    <li data-md>
     <p>If <var>map</var>[<var>key</var>] does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑤">exist</a>, return <var>default</var>.</p>
    <li data-md>
     <p>If <var>map</var>[<var>key</var>] is not a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string①⑤">string</a>, return an error.</p>
    <li data-md>
     <p>Let <var>value</var> be the result of applying the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/common-microsyntaxes.html#rules-for-parsing-integers" id="ref-for-rules-for-parsing-integers">rules for parsing integers</a> to <var>map</var>[<var>key</var>].</p>
    <li data-md>
     <p>If <var>value</var> is an error, return an error.</p>
    <li data-md>
     <p>If <var>value</var> cannot be represented by a 64-bit signed integer, return an error.</p>
    <li data-md>
     <p>Return <var>value</var>.</p>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="parse-an-optional-64-bit-unsigned-integer">parse an optional 64-bit unsigned integer</dfn> given a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map⑨">map</a> <var>map</var>,
a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string①⑥">string</a> <var>key</var>, and a possibly null 64-bit unsigned integer <var>default</var>:</p>
   <ol>
    <li data-md>
     <p>If <var>map</var>[<var>key</var>] does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑥">exist</a>, return <var>default</var>.</p>
    <li data-md>
     <p>If <var>map</var>[<var>key</var>] is not a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string①⑦">string</a>, return an error.</p>
    <li data-md>
     <p>Return the result of applying the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/common-microsyntaxes.html#rules-for-parsing-non-negative-integers" id="ref-for-rules-for-parsing-non-negative-integers">rules for parsing non-negative integers</a> to <var>map</var>[<var>key</var>].</p>
    <li data-md>
     <p>If <var>value</var> is an error, return an error.</p>
    <li data-md>
     <p>If <var>value</var> cannot be represented by a 64-bit unsigned integer, return an
error.</p>
    <li data-md>
     <p>Return <var>value</var>.</p>
   </ol>
   <h3 class="heading settled" data-level="11.3" id="serialize-destinations"><span class="secno">11.3. </span><span class="content">Serialize attribution destinations</span><a class="self-link" href="#serialize-destinations"></a></h3>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="serialize-attribution-destinations">serialize <a data-link-type="dfn" href="#event-level-report-attribution-destinations" id="ref-for-event-level-report-attribution-destinations①">attribution destinations</a></dfn> <var>destinations</var>, run the following steps:</p>
   <ol>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert①">Assert</a>: <var>destinations</var> is not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty②">empty</a>.</p>
    <li data-md>
     <p>Let <var>destinationStrings</var> be a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list②①">list</a>.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate⑦">For each</a> <var>destination</var> in <var>destinations</var>:</p>
     <ol>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert②">Assert</a>: <var>destination</var> is not the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-opaque" id="ref-for-concept-origin-opaque">opaque origin</a>.</p>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append⑧">Append</a> <var>destination</var> <a href="https://html.spec.whatwg.org/multipage/origin.html#serialization-of-a-site">serialized</a> to <var>destinationStrings</var>.</p>
     </ol>
    <li data-md>
     <p>If <var>destinationStrings</var>’s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-size" id="ref-for-list-size④">size</a> is equal to 1, return <var>destinationStrings</var>[0].</p>
    <li data-md>
     <p>Return <var>destinationStrings</var>.</p>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="check-if-a-scheme-is-suitable">check if a scheme is suitable</dfn> given a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string①⑧">string</a> <var>scheme</var>:</p>
   <ol>
    <li data-md>
     <p>If <var>scheme</var> is "<code>http</code>" or "<code>https</code>", return true.</p>
    <li data-md>
     <p>Return false.</p>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="check-if-an-origin-is-suitable">check if an origin is suitable</dfn> given an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin⑤">origin</a> <var>origin</var>:</p>
   <ol>
    <li data-md>
     <p>If <var>origin</var> is not a <a data-link-type="dfn" href="https://w3c.github.io/webappsec-secure-contexts/#potentially-trustworthy-origin" id="ref-for-potentially-trustworthy-origin">potentially trustworthy origin</a>, return false.</p>
    <li data-md>
     <p>If <var>origin</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-scheme" id="ref-for-concept-origin-scheme">scheme</a> is not <a data-link-type="dfn" href="#check-if-a-scheme-is-suitable" id="ref-for-check-if-a-scheme-is-suitable">suitable</a>, return false.</p>
    <li data-md>
     <p>Return true.</p>
   </ol>
   <h3 class="heading settled" data-level="11.4" id="parsing-filter-data"><span class="secno">11.4. </span><span class="content">Parsing filter data</span><a class="self-link" href="#parsing-filter-data"></a></h3>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="parse-filter-values">parse filter values</dfn> given a <var>value</var>:</p>
   <ol>
    <li data-md>
     <p>If <var>value</var> is not a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map①⓪">map</a>, return null.</p>
    <li data-md>
     <p>Let <var>result</var> be a new <a data-link-type="dfn" href="#filter-map" id="ref-for-filter-map②">filter map</a>.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate">For each</a> <var>filter</var> → <var>data</var> of <var>value</var>:</p>
     <ol>
      <li data-md>
       <p>If <var>filter</var> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-starts-with" id="ref-for-string-starts-with">starts with</a> "<code>_</code>", return null.</p>
      <li data-md>
       <p>If <var>data</var> is not a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list②②">list</a>, return null.</p>
      <li data-md>
       <p>Let <var>set</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set①⑤">ordered set</a>.</p>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate⑧">For each</a> <var>d</var> of <var>data</var>:</p>
       <ol>
        <li data-md>
         <p>If <var>d</var> is not a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string①⑨">string</a>, return null.</p>
        <li data-md>
         <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-append" id="ref-for-set-append">Append</a> <var>d</var> to <var>set</var>.</p>
       </ol>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set③">Set</a> <var>result</var>[<var>filter</var>] to <var>set</var>.</p>
     </ol>
    <li data-md>
     <p>Return <var>result</var>.</p>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="parse-filter-data">parse filter data</dfn> given a <var>value</var>:</p>
   <ol>
    <li data-md>
     <p>Let <var>map</var> be the result of running <a data-link-type="dfn" href="#parse-filter-values" id="ref-for-parse-filter-values">parse filter values</a> with <var>value</var>.</p>
    <li data-md>
     <p>If <var>map</var> is null, return null.</p>
    <li data-md>
     <p>If <var>map</var>’s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-size" id="ref-for-map-size③">size</a> is greater than the <a data-link-type="dfn" href="#max-entries-per-filter-data" id="ref-for-max-entries-per-filter-data">max entries per filter data</a>,
return null.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate①">For each</a> <var>filter</var> → <var>set</var> of <var>map</var>:</p>
     <ol>
      <li data-md>
       <p>If <var>set</var>’s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-size" id="ref-for-list-size⑤">size</a> is greater than the <a data-link-type="dfn" href="#max-values-per-filter-data-entry" id="ref-for-max-values-per-filter-data-entry">max values per filter data entry</a>, return null.</p>
     </ol>
    <li data-md>
     <p>Return <var>map</var>.</p>
   </ol>
   <p class="issue" id="issue-5c232164"><a class="self-link" href="#issue-5c232164"></a> Determine whether to limit <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-length" id="ref-for-string-length">length</a> or <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-code-point-length" id="ref-for-string-code-point-length">code point length</a> for <var>filter</var> and <var>d</var> above.</p>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="parse-filter-config">parse filter config</dfn> given a <var>value</var>:</p>
   <ol>
    <li data-md>
     <p>If <var>value</var> is not a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map①①">map</a>, return null.</p>
    <li data-md>
     <p>Let <var>lookbackWindow</var> be null.</p>
    <li data-md>
     <p>If <var>value</var>["<code>_lookback_window</code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑦">exists</a>:</p>
     <ol>
      <li data-md>
       <p>If <var>value</var>["<code>_lookback_window</code>"] is not a positive integer, return null.</p>
      <li data-md>
       <p>Set <var>lookbackWindow</var> to the <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-duration" id="ref-for-dfn-duration⑧">duration</a> of <var>value</var>["<code>_lookback_window</code>"] seconds.</p>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-remove" id="ref-for-map-remove">Remove</a> <var>value</var>["<code>_lookback_window</code>"].</p>
     </ol>
    <li data-md>
     <p>Let <var>map</var> be the result of running <a data-link-type="dfn" href="#parse-filter-values" id="ref-for-parse-filter-values①">parse filter values</a> with <var>value</var>.</p>
    <li data-md>
     <p>If <var>map</var> is null, return null.</p>
    <li data-md>
     <p>Let <var>filter</var> be a <a data-link-type="dfn" href="#filter-config" id="ref-for-filter-config⑧">filter config</a> with the items:</p>
     <dl>
      <dt data-md><a data-link-type="dfn" href="#filter-config-map" id="ref-for-filter-config-map">map</a>
      <dd data-md>
       <p><var>map</var></p>
      <dt data-md><a data-link-type="dfn" href="#filter-config-lookback-window" id="ref-for-filter-config-lookback-window">lookback window</a>
      <dd data-md>
       <p><var>lookbackWindow</var></p>
     </dl>
    <li data-md>
     <p>Return <var>filter</var>.</p>
   </ol>
   <h3 class="heading settled" data-level="11.5" id="parsing-filters"><span class="secno">11.5. </span><span class="content">Parsing filters</span><a class="self-link" href="#parsing-filters"></a></h3>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="parse-filters">parse filters</dfn> given a <var>value</var>:</p>
   <ol>
    <li data-md>
     <p>Let <var>filtersList</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list②③">list</a>.</p>
    <li data-md>
     <p>If <var>value</var> is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map①②">map</a>, then:</p>
     <ol>
      <li data-md>
       <p>Let <var>filterConfig</var> be the result of running <a data-link-type="dfn" href="#parse-filter-config" id="ref-for-parse-filter-config">parse filter config</a> with <var>value</var>.</p>
      <li data-md>
       <p>If <var>filterConfig</var> is null, return null.</p>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append⑨">Append</a> <var>filterConfig</var> to <var>filtersList</var>.</p>
      <li data-md>
       <p>Return <var>filtersList</var>.</p>
     </ol>
    <li data-md>
     <p>If <var>value</var> is not a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list②④">list</a>, return null.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate⑨">For each</a> <var>data</var> of <var>value</var>:</p>
     <ol>
      <li data-md>
       <p>Let <var>filterConfig</var> be the result of running <a data-link-type="dfn" href="#parse-filter-config" id="ref-for-parse-filter-config①">parse filter config</a> with <var>data</var>.</p>
      <li data-md>
       <p>If <var>filterConfig</var> is null, return null.</p>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append①⓪">Append</a> <var>filterConfig</var> to <var>filtersList</var>.</p>
     </ol>
    <li data-md>
     <p>Return <var>filtersList</var>.</p>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="parse-a-filter-pair">parse a filter pair</dfn> given a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map①③">map</a> <var>map</var>:</p>
   <ol>
    <li data-md>
     <p>Let <var>positive</var> be a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list②⑤">list</a> of <a data-link-type="dfn" href="#filter-config" id="ref-for-filter-config⑨">filter configs</a>, initially empty.</p>
    <li data-md>
     <p>If <var>map</var>["<code>filters</code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑧">exists</a>, set <var>positive</var> to the result of running <a data-link-type="dfn" href="#parse-filters" id="ref-for-parse-filters">parse filters</a> with <var>map</var>["<code>filters</code>"].</p>
    <li data-md>
     <p>If <var>positive</var> is null, return null.</p>
    <li data-md>
     <p>Let <var>negative</var> be a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list②⑥">list</a> of <a data-link-type="dfn" href="#filter-config" id="ref-for-filter-config①⓪">filter configs</a>, initially empty.</p>
    <li data-md>
     <p>If <var>map</var>["<code>not_filters</code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑨">exists</a>, set <var>negative</var> to the result of
running <a data-link-type="dfn" href="#parse-filters" id="ref-for-parse-filters①">parse filters</a> with <var>map</var>["<code>not_filters</code>"].</p>
    <li data-md>
     <p>If <var>negative</var> is null, return null.</p>
    <li data-md>
     <p>Return the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#tuple" id="ref-for-tuple②">tuple</a> (<var>positive</var>, <var>negative</var>).</p>
   </ol>
   <h3 class="heading settled" data-level="11.6" id="debug-keys"><span class="secno">11.6. </span><span class="content">Cookie-based debugging</span><a class="self-link" href="#debug-keys"></a></h3>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="check-if-cookie-based-debugging-is-allowed">check if cookie-based debugging is allowed</dfn> given a <a data-link-type="dfn" href="#suitable-origin" id="ref-for-suitable-origin⑦">suitable origin</a> <var>reportingOrigin</var>:</p>
   <ol>
    <li data-md>
     <p>Let <var>domain</var> be the <a href="https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-rfc6265bis#name-canonicalized-host-names">canonicalized domain name</a> of <var>reportingOrigin</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-host" id="ref-for-concept-origin-host">host</a>.</p>
    <li data-md>
     <p>For each <var>cookie</var> of the user agent’s <a href="https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-rfc6265bis#name-storage-model">cookie store</a>:</p>
     <ol>
      <li data-md>
       <p>If <var>cookie</var>’s name is not "<code>ar_debug</code>", <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue②">continue</a>.</p>
      <li data-md>
       <p>If <var>cookie</var>’s http-only-flag is false, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue③">continue</a>.</p>
      <li data-md>
       <p>If <var>cookie</var>’s secure-flag is false, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue④">continue</a>.</p>
      <li data-md>
       <p>If <var>cookie</var>’s same-site-flag is not "<code>None</code>", <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue⑤">continue</a>.</p>
      <li data-md>
       <p>If <var>cookie</var>’s host-only-flag is true and <var>domain</var> is not
identical to <var>cookie</var>’s domain, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue⑥">continue</a>.</p>
      <li data-md>
       <p>If <var>cookie</var>’s host-only-flag is false and <var>domain</var> does not <a href="https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-rfc6265bis#name-domain-matching">domain-match</a> <var>cookie</var>’s domain, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue⑦">continue</a>.</p>
      <li data-md>
       <p>If "<code>/</code>" does not <a href="https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-rfc6265bis#name-paths-and-path-match">path-match</a> <var>cookie</var>’s path, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue⑧">continue</a>.</p>
      <li data-md>
       <p>Return <strong>allowed</strong>.</p>
     </ol>
    <li data-md>
     <p>Return <strong>blocked</strong>.</p>
   </ol>
   <p class="issue" id="issue-6b554b5d"><a class="self-link" href="#issue-6b554b5d"></a> Ideally this would use the <a href="https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-rfc6265bis#name-retrieval-algorithm">cookie-retrieval algorithm</a>,
but it cannot: There is no way to consider <em>only</em> cookies whose http-only-flag
is true and whose same-site-flag is "<code>None</code>"; there is no way to prevent the
last-access-time from being modified; and the return value is a string that
would have to be further processed to check for the "<code>ar_debug</code>" cookie.</p>
   <h3 class="heading settled algorithm" data-algorithm="Obtaining context origin" data-level="11.7" id="obtaining-context-origin"><span class="secno">11.7. </span><span class="content">Obtaining context origin</span><a class="self-link" href="#obtaining-context-origin"></a></h3>
   <p>To obtain the <dfn class="dfn-paneled" data-dfn-for="node" data-dfn-type="dfn" data-noexport id="node-context-origin">context origin</dfn> of a <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-node" id="ref-for-concept-node">node</a> <var>node</var>, return <var>node</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#node-navigable" id="ref-for-node-navigable">node navigable</a>'s <a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#navigable-unfenced-container-document" id="ref-for-navigable-unfenced-container-document">unfenced container document</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin⑥">origin</a>.</p>
   <h3 class="heading settled" data-level="11.8" id="obtaining-randomized-response"><span class="secno">11.8. </span><span class="content">Obtaining a randomized response</span><a class="self-link" href="#obtaining-randomized-response"></a></h3>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="obtain-a-randomized-response">obtain a randomized response</dfn> given <var>trueValue</var>, a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set①⑥">set</a> <var>possibleValues</var>, and a
double <var>randomPickRate</var>:</p>
   <ol>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert③">Assert</a>: <var>randomPickRate</var> is between 0 and 1 (both inclusive).</p>
    <li data-md>
     <p>Let <var>r</var> be a random double between 0 (inclusive) and 1 (exclusive) with uniform probability.</p>
    <li data-md>
     <p>If <var>r</var> is less than <var>randomPickRate</var>, return a random item from <var>possibleValues</var> with uniform
probability.</p>
    <li data-md>
     <p>Otherwise, return <var>trueValue</var>.</p>
   </ol>
   <h3 class="heading settled algorithm" data-algorithm="Parsing aggregation key piece" data-level="11.9" id="parsing-aggregation-key-piece"><span class="secno">11.9. </span><span class="content">Parsing aggregation key piece</span><a class="self-link" href="#parsing-aggregation-key-piece"></a></h3>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="parse-an-aggregation-key-piece">parse an aggregation key piece</dfn> given a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string②⓪">string</a> <var>input</var>, perform the following steps.
This algorithm will return either a non-negative 128-bit integer or an error.</p>
   <ol>
    <li data-md>
     <p>If <var>input</var>’s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-code-point-length" id="ref-for-string-code-point-length①">code point length</a> is not between 3 and 34 (both inclusive), return an error.</p>
    <li data-md>
     <p>If the first character is not a U+0030 DIGIT ZERO (0), return an error.</p>
    <li data-md>
     <p>If the second character is not a U+0058 LATIN CAPITAL LETTER X character (X) and not a
U+0078 LATIN SMALL LETTER X character (x), return an error.</p>
    <li data-md>
     <p>Let <var>value</var> be the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#code-point-substring" id="ref-for-code-point-substring">code point substring</a> from 2 to the end of <var>input</var>.</p>
    <li data-md>
     <p>If the characters within <var>value</var> are not all <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ascii-hex-digit" id="ref-for-ascii-hex-digit">ASCII hex digits</a>, return an error.</p>
    <li data-md>
     <p>Interpret <var>value</var> as a hexadecimal number and return as a non-negative 128-bit integer.</p>
   </ol>
   <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="11.10" data-lt="Can attribution rate-limit record be removed" data-noexport id="can-attribution-rate-limit-record-be-removed"><span class="secno">11.10. </span><span class="content">Can attribution rate-limit record be removed</span><a class="self-link" href="#can-attribution-rate-limit-record-be-removed" id="ref-for-can-attribution-rate-limit-record-be-removed"></a></h3>
   <p>Given an <a data-link-type="dfn" href="#attribution-rate-limit-record" id="ref-for-attribution-rate-limit-record①">attribution rate-limit record</a> <var>record</var> and a <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-moment" id="ref-for-dfn-moment①⓪">moment</a> <var>now</var>:</p>
   <ol>
    <li data-md>
     <p>If the <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-duration-from" id="ref-for-dfn-duration-from①">duration from</a> <var>record</var>’s <a data-link-type="dfn" href="#attribution-rate-limit-record" id="ref-for-attribution-rate-limit-record②">time</a> and <var>now</var> is &lt;= <a data-link-type="dfn" href="#attribution-rate-limit-window" id="ref-for-attribution-rate-limit-window③">attribution rate-limit window</a> , return false.</p>
    <li data-md>
     <p>If <var>record</var>’s <a data-link-type="dfn" href="#attribution-rate-limit-record-scope" id="ref-for-attribution-rate-limit-record-scope">scope</a> is "<code><a data-link-type="dfn" href="#rate-limit-scope-attribution" id="ref-for-rate-limit-scope-attribution">attribution</a></code>", return true.</p>
    <li data-md>
     <p>If <var>record</var>’s <a data-link-type="dfn" href="#attribution-rate-limit-record-expiry-time" id="ref-for-attribution-rate-limit-record-expiry-time">expiry time</a> is after <var>now</var>, return false.</p>
    <li data-md>
     <p>Return true.</p>
   </ol>
   <h3 class="heading settled" data-level="11.11" id="obtaining-and-delivering-debug-report"><span class="secno">11.11. </span><span class="content">Obtaining and delivering an attribution debug report</span><a class="self-link" href="#obtaining-and-delivering-debug-report"></a></h3>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="obtain-and-deliver-a-debug-report">obtain and deliver a debug report</dfn> given a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list②⑦">list</a> of <a data-link-type="dfn" href="#attribution-debug-data" id="ref-for-attribution-debug-data③">attribution debug data</a> <var>data</var> and a <a data-link-type="dfn" href="#suitable-origin" id="ref-for-suitable-origin⑧">suitable origin</a> <var>reportingOrigin</var>:</p>
   <ol>
    <li data-md>
     <p>Let <var>debugReport</var> be an <a data-link-type="dfn" href="#attribution-debug-report" id="ref-for-attribution-debug-report⑦">attribution debug report</a> with the items:</p>
     <dl>
      <dt data-md><a data-link-type="dfn" href="#attribution-debug-report-data" id="ref-for-attribution-debug-report-data">data</a>
      <dd data-md>
       <p><var>data</var></p>
      <dt data-md><a data-link-type="dfn" href="#attribution-debug-report-reporting-origin" id="ref-for-attribution-debug-report-reporting-origin">reporting origin</a>
      <dd data-md>
       <p><var>reportingOrigin</var></p>
     </dl>
    <li data-md>
     <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task">Queue a task</a> to <a data-link-type="dfn" href="#attempt-to-deliver-a-verbose-debug-report" id="ref-for-attempt-to-deliver-a-verbose-debug-report">attempt to deliver a verbose debug report</a> with <var>debugReport</var>.</p>
   </ol>
   <h3 class="heading settled" data-level="11.12" id="making-a-background-attributionsrc-request"><span class="secno">11.12. </span><span class="content">Making a background attributionsrc request</span><a class="self-link" href="#making-a-background-attributionsrc-request"></a></h3>
   <p>An <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="eligibility">eligibility</dfn> is one of the following:</p>
   <dl>
    <dt data-md>"<dfn class="dfn-paneled" data-dfn-for="eligibility" data-dfn-type="dfn" data-noexport id="eligibility-unset"><code>unset</code></dfn>"
    <dd data-md>
     <p>Depending on context, a <a data-link-type="dfn" href="#attribution-trigger" id="ref-for-attribution-trigger⑧">trigger</a> may or may not be
registered.</p>
    <dt data-md>"<dfn class="dfn-paneled" data-dfn-for="eligibility" data-dfn-type="dfn" data-noexport id="eligibility-empty"><code>empty</code></dfn>"
    <dd data-md>
     <p>Neither a <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source③②">source</a> nor a <a data-link-type="dfn" href="#attribution-trigger" id="ref-for-attribution-trigger⑨">trigger</a> may be registered.</p>
    <dt data-md>"<dfn class="dfn-paneled" data-dfn-for="eligibility" data-dfn-type="dfn" data-noexport id="eligibility-event-source"><code>event-source</code></dfn>"
    <dd data-md>
     <p>An <a data-link-type="dfn" href="#source-type-event" id="ref-for-source-type-event④">event</a> <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source③③">source</a> may be registered.</p>
    <dt data-md>"<dfn class="dfn-paneled" data-dfn-for="eligibility" data-dfn-type="dfn" data-noexport id="eligibility-navigation-source"><code>navigation-source</code></dfn>"
    <dd data-md>
     <p>A <a data-link-type="dfn" href="#source-type-navigation" id="ref-for-source-type-navigation⑤">navigation</a> <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source③④">source</a> may be registered.</p>
    <dt data-md>"<dfn class="dfn-paneled" data-dfn-for="eligibility" data-dfn-type="dfn" data-noexport id="eligibility-trigger"><code>trigger</code></dfn>"
    <dd data-md>
     <p>A <a data-link-type="dfn" href="#attribution-trigger" id="ref-for-attribution-trigger①⓪">trigger</a> may be registered.</p>
    <dt data-md>"<dfn class="dfn-paneled" data-dfn-for="eligibility" data-dfn-type="dfn" data-noexport id="eligibility-event-source-or-trigger"><code>event-source-or-trigger</code></dfn>"
    <dd data-md>
     <p>An <a data-link-type="dfn" href="#source-type-event" id="ref-for-source-type-event⑤">event</a> <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source③⑤">source</a> or a <a data-link-type="dfn" href="#attribution-trigger" id="ref-for-attribution-trigger①①">trigger</a> may be registered.</p>
   </dl>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="registrar">registrar</dfn> is one of the following:</p>
   <dl>
    <dt data-md>"<dfn class="dfn-paneled" data-dfn-for="registrar" data-dfn-type="dfn" data-noexport id="registrar-web"><code>web</code></dfn>"
    <dd data-md>
     <p>The user agent supports web registrations.</p>
    <dt data-md>"<dfn class="dfn-paneled" data-dfn-for="registrar" data-dfn-type="dfn" data-noexport id="registrar-os"><code>os</code></dfn>"
    <dd data-md>
     <p>The user agent supports OS registrations.</p>
   </dl>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="validate-a-background-attributionsrc-eligibility">validate a background attributionsrc eligibility</dfn> given an <a data-link-type="dfn" href="#eligibility" id="ref-for-eligibility③">eligibility</a> <var>eligibility</var>:</p>
   <ol>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert④">Assert</a>: <var>eligibility</var> is
"<code><a data-link-type="dfn" href="#eligibility-navigation-source" id="ref-for-eligibility-navigation-source③">navigation-source</a></code>" or
"<code><a data-link-type="dfn" href="#eligibility-event-source-or-trigger" id="ref-for-eligibility-event-source-or-trigger⑤">event-source-or-trigger</a></code>".</p>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="make-a-background-attributionsrc-request">make a background attributionsrc request</dfn> given a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url①">URL</a> <var>url</var>, an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin⑦">origin</a> <var>contextOrigin</var>, an <a data-link-type="dfn" href="#eligibility" id="ref-for-eligibility④">eligibility</a> <var>eligibility</var>, and a <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document">Document</a></code> <var>document</var>:</p>
   <ol>
    <li data-md>
     <p><a data-link-type="dfn" href="#validate-a-background-attributionsrc-eligibility" id="ref-for-validate-a-background-attributionsrc-eligibility">Validate</a> <var>eligibility</var>.</p>
    <li data-md>
     <p>If <var>url</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-scheme" id="ref-for-concept-url-scheme">scheme</a> is not <a data-link-type="dfn" href="#check-if-a-scheme-is-suitable" id="ref-for-check-if-a-scheme-is-suitable①">suitable</a>,
return.</p>
    <li data-md>
     <p>If <var>contextOrigin</var> is not <a data-link-type="dfn" href="#check-if-an-origin-is-suitable" id="ref-for-check-if-an-origin-is-suitable②">suitable</a>, return.</p>
    <li data-md>
     <p>Let <var>context</var> be <var>document</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object">relevant settings object</a>.</p>
    <li data-md>
     <p>If <var>context</var> is not a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#secure-context" id="ref-for-secure-context">secure context</a>, return.</p>
    <li data-md>
     <p>If <var>document</var> is not <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use" id="ref-for-allowed-to-use①">allowed to use</a> the "<code><code class="idl"><a data-link-type="idl" href="#dom-permissionpolicy-attribution-reporting" id="ref-for-dom-permissionpolicy-attribution-reporting①">attribution-reporting</a></code></code>" feature, return.</p>
    <li data-md>
     <p>Let <var>supportedRegistrars</var> be the result of <a data-link-type="dfn" href="#get-supported-registrars" id="ref-for-get-supported-registrars①">getting supported registrars</a>.</p>
    <li data-md>
     <p>If <var>supportedRegistrars</var> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty③">is empty</a>, return.</p>
    <li data-md>
     <p>Let <var>request</var> be a new <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request" id="ref-for-concept-request⑦">request</a> with the following properties:</p>
     <dl>
      <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-method" id="ref-for-concept-request-method">method</a>
      <dd data-md>
       <p>"<code>GET</code>"</p>
      <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-url" id="ref-for-concept-request-url">URL</a>
      <dd data-md>
       <p><var>url</var></p>
      <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#request-keepalive-flag" id="ref-for-request-keepalive-flag">keepalive</a>
      <dd data-md>
       <p>true</p>
      <dt data-md><a data-link-type="dfn" href="#request-attribution-reporting-eligibility" id="ref-for-request-attribution-reporting-eligibility⑨">Attribution Reporting eligibility</a>
      <dd data-md>
       <p><var>eligibility</var></p>
     </dl>
    <li data-md>
     <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-fetch" id="ref-for-concept-fetch③">Fetch</a> <var>request</var> with <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#process-response" id="ref-for-process-response①">processResponse</a> being <a data-link-type="dfn" href="#process-an-attributionsrc-response" id="ref-for-process-an-attributionsrc-response">process an attributionsrc response</a> with <var>contextOrigin</var>, <var>eligibility</var>,
and <var>request</var>’s <a data-link-type="dfn" href="#request-trigger-verification-metadata" id="ref-for-request-trigger-verification-metadata">trigger verification metadata</a>.</p>
   </ol>
   <p class="issue" id="issue-add794c8"><a class="self-link" href="#issue-add794c8"></a> Audit other properties on <var>request</var> and set them properly.</p>
   <p class="issue" id="issue-ff91107a"><a class="self-link" href="#issue-ff91107a"></a> Support header-processing on redirects. Due to <a href="https://fetch.spec.whatwg.org/#atomic-http-redirect-handling">atomic HTTP redirect handling</a>,
we cannot process registrations through integration with <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-fetch" id="ref-for-concept-fetch④">fetch</a>. <a href="https://github.com/WICG/attribution-reporting-api/issues/839">[Issue #839]</a></p>
   <p class="issue" id="issue-528e1624"><a class="self-link" href="#issue-528e1624"></a> Check for transient activation with "<code><a data-link-type="dfn" href="#eligibility-navigation-source" id="ref-for-eligibility-navigation-source④">navigation-source</a></code>".</p>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="make-background-attributionsrc-requests">make background attributionsrc requests</dfn> given an <code class="idl"><a data-link-type="idl" href="#htmlattributionsrcelementutils" id="ref-for-htmlattributionsrcelementutils③">HTMLAttributionSrcElementUtils</a></code> <var>element</var> and an <a data-link-type="dfn" href="#eligibility" id="ref-for-eligibility⑤">eligibility</a> <var>eligibility</var>:</p>
   <ol>
    <li data-md>
     <p>Let <var>attributionSrc</var> be <var>element</var>’s <code class="idl"><a data-link-type="idl" href="#dom-htmlattributionsrcelementutils-attributionsrc" id="ref-for-dom-htmlattributionsrcelementutils-attributionsrc②">attributionSrc</a></code>.</p>
    <li data-md>
     <p>Let <var>tokens</var> be the result of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#split-on-ascii-whitespace" id="ref-for-split-on-ascii-whitespace">splitting</a> <var>attributionSrc</var> on ASCII
whitespace.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate①⓪">For each</a> <var>token</var> of <var>tokens</var>:</p>
     <ol>
      <li data-md>
       <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/urls-and-fetching.html#parse-a-url" id="ref-for-parse-a-url①">Parse</a> <var>token</var>, relative to <var>element</var>’s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-node-document" id="ref-for-concept-node-document">node document</a>. If that is not successful, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue⑨">continue</a>. Otherwise, let <var>url</var> be the resulting <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url②">URL record</a>.</p>
      <li data-md>
       <p>Run <a data-link-type="dfn" href="#make-a-background-attributionsrc-request" id="ref-for-make-a-background-attributionsrc-request①">make a background attributionsrc request</a> with <var>url</var>, <var>element</var>’s <a data-link-type="dfn" href="#node-context-origin" id="ref-for-node-context-origin③">context origin</a>, <var>eligibility</var>, and <var>element</var>’s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-node-document" id="ref-for-concept-node-document①">node document</a>.</p>
     </ol>
   </ol>
   <p class="issue" id="issue-4cc8b8aa"><a class="self-link" href="#issue-4cc8b8aa"></a> Consider allowing the user agent to limit the size of <var>tokens</var>.</p>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="process-an-attributionsrc-response">process an attributionsrc response</dfn> given a <a data-link-type="dfn" href="#suitable-origin" id="ref-for-suitable-origin⑨">suitable origin</a> <var>contextOrigin</var>,
an <a data-link-type="dfn" href="#eligibility" id="ref-for-eligibility⑥">eligibility</a> <var>eligibility</var>, a <a data-link-type="dfn" href="#request-trigger-verification-metadata" id="ref-for-request-trigger-verification-metadata①">trigger verification metadata</a> <var>triggerVerificationMetadata</var>,
and a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response" id="ref-for-concept-response②">response</a> <var>response</var>:</p>
   <ol>
    <li data-md>
     <p><a data-link-type="dfn" href="#validate-a-background-attributionsrc-eligibility" id="ref-for-validate-a-background-attributionsrc-eligibility①">Validate</a> <var>eligibility</var>.</p>
    <li data-md>
     <p>Run <a data-link-type="dfn" href="#process-an-attribution-eligible-response" id="ref-for-process-an-attribution-eligible-response①">process an attribution eligible response</a> with <var>contextOrigin</var>, <var>eligibility</var>, and <var>response</var>.</p>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="process-an-attribution-eligible-response">process an attribution eligible response</dfn> given a <a data-link-type="dfn" href="#suitable-origin" id="ref-for-suitable-origin①⓪">suitable origin</a> <var>contextOrigin</var>, an <a data-link-type="dfn" href="#eligibility" id="ref-for-eligibility⑦">eligibility</a> <var>eligibility</var>, and a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response" id="ref-for-concept-response③">response</a> <var>response</var>:</p>
   <ol>
    <li data-md>
     <p>The user-agent MAY ignore the response; if so, return.</p>
     <p class="note" role="note"><span class="marker">Note:</span> The user-agent may prevent attribution for a number of reasons, such as user opt-out. In these
cases, it is preferred to abort the API flow at response time rather than at request time so this
state is not immediately detectable. Attribution may also be blocked if the reporting origin is not <a href="https://github.com/privacysandbox/attestation">enrolled</a>.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert⑤">Assert</a>: <var>eligibility</var> is
"<code><a data-link-type="dfn" href="#eligibility-navigation-source" id="ref-for-eligibility-navigation-source⑤">navigation-source</a></code>" or
"<code><a data-link-type="dfn" href="#eligibility-event-source" id="ref-for-eligibility-event-source③">event-source</a></code>" or
"<code><a data-link-type="dfn" href="#eligibility-event-source-or-trigger" id="ref-for-eligibility-event-source-or-trigger⑥">event-source-or-trigger</a></code>".</p>
    <li data-md>
     <p>Let <var>reportingOrigin</var> be <var>response</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-url" id="ref-for-concept-response-url">URL</a>'s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-origin" id="ref-for-concept-url-origin">origin</a>.</p>
    <li data-md>
     <p>If <var>reportingOrigin</var> is not <a data-link-type="dfn" href="#check-if-an-origin-is-suitable" id="ref-for-check-if-an-origin-is-suitable③">suitable</a>, return.</p>
    <li data-md>
     <p>Let <var>sourceHeader</var> be the result of <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-list-get" id="ref-for-concept-header-list-get">getting</a> "<code>Attribution-Reporting-Register-Source</code>" from <var>response</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-header-list" id="ref-for-concept-response-header-list">header list</a>.</p>
    <li data-md>
     <p>Let <var>triggerHeader</var> be the result of <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-list-get" id="ref-for-concept-header-list-get①">getting</a> "<code>Attribution-Reporting-Register-Trigger</code>" from <var>response</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-header-list" id="ref-for-concept-response-header-list①">header list</a>.</p>
    <li data-md>
     <p>Let <var>osSourceRegistrations</var> be the result of <a data-link-type="dfn" href="#get-os-registrations-from-a-header-list" id="ref-for-get-os-registrations-from-a-header-list">getting OS registrations</a> from <var>response</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-header-list" id="ref-for-concept-response-header-list②">header list</a> with
"<code>Attribution-Reporting-Register-OS-Source</code>".</p>
    <li data-md>
     <p>Let <var>osTriggerRegistrations</var> be the result of <a data-link-type="dfn" href="#get-os-registrations-from-a-header-list" id="ref-for-get-os-registrations-from-a-header-list①">getting OS registrations</a> from <var>response</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-header-list" id="ref-for-concept-response-header-list③">header list</a> with
"<code>Attribution-Reporting-Register-OS-Trigger</code>".</p>
    <li data-md>
     <p>If <var>eligibility</var> is:</p>
     <dl class="switch">
      <dt data-md>"<code><a data-link-type="dfn" href="#eligibility-navigation-source" id="ref-for-eligibility-navigation-source⑥">navigation-source</a></code>"
      <dt data-md>"<code><a data-link-type="dfn" href="#eligibility-event-source" id="ref-for-eligibility-event-source④">event-source</a></code>"
      <dd data-md>
       <p>Run the following steps:</p>
       <ol>
        <li data-md>
         <p>If <var>sourceHeader</var> and <var>osSourceRegistrations</var> are both null or both not
null, return.</p>
        <li data-md>
         <p>If <var>sourceHeader</var> is not null:</p>
         <ol>
          <li data-md>
           <p>Let <var>sourceType</var> be "<code><a data-link-type="dfn" href="#source-type-navigation" id="ref-for-source-type-navigation⑥">navigation</a></code>".</p>
          <li data-md>
           <p>If <var>eligibility</var> is "<code><a data-link-type="dfn" href="#eligibility-event-source" id="ref-for-eligibility-event-source⑤">event-source</a></code>",
set <var>sourceType</var> to "<code><a data-link-type="dfn" href="#source-type-event" id="ref-for-source-type-event⑥">event</a></code>".</p>
          <li data-md>
           <p>Let <var>source</var> be the result of running <a data-link-type="dfn" href="#parse-source-registration-json" id="ref-for-parse-source-registration-json">parse source-registration JSON</a> with <var>sourceHeader</var>, <var>contextOrigin</var>, <var>reportingOrigin</var>, <var>sourceType</var>, and <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-current-wall-time" id="ref-for-dfn-current-wall-time">current wall time</a>.</p>
          <li data-md>
           <p>If <var>source</var> is not null, <a data-link-type="dfn" href="#process-an-attribution-source" id="ref-for-process-an-attribution-source">process</a> <var>source</var>.</p>
         </ol>
        <li data-md>
         <p>If <var>osSourceRegistrations</var> is not null and the user agent supports OS
registrations:</p>
         <ol>
          <li data-md>
           <p>Process <var>osSourceRegistrations</var> according to an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#implementation-defined" id="ref-for-implementation-defined">implementation-defined</a> algorithm.</p>
          <li data-md>
           <p>Run <a data-link-type="dfn" href="#obtain-and-deliver-debug-reports-on-os-registrations" id="ref-for-obtain-and-deliver-debug-reports-on-os-registrations">obtain and deliver debug reports on OS registrations</a> with
  "<code><a data-link-type="dfn" href="#os-debug-data-type-os-source-delegated" id="ref-for-os-debug-data-type-os-source-delegated">os-source-delegated</a></code>", <var>osSourceRegistrations</var>,
  and <var>contextOrigin</var>.</p>
         </ol>
       </ol>
      <dt data-md>"<code><a data-link-type="dfn" href="#eligibility-event-source-or-trigger" id="ref-for-eligibility-event-source-or-trigger⑦">event-source-or-trigger</a></code>"
      <dd data-md>
       <p>Run the following steps:</p>
       <ol>
        <li data-md>
         <p>If the number of non-null entries in «<var>sourceHeader</var>, <var>triggerHeader</var>, <var>osSourceRegistrations</var>, <var>osTriggerRegistrations</var>» is not 1, return.</p>
        <li data-md>
         <p>If <var>sourceHeader</var> is not null:</p>
         <ol>
          <li data-md>
           <p>Let <var>source</var> be the result of running <a data-link-type="dfn" href="#parse-source-registration-json" id="ref-for-parse-source-registration-json①">parse source-registration JSON</a> with <var>sourceHeader</var>, <var>contextOrigin</var>, <var>reportingOrigin</var>,
"<code><a data-link-type="dfn" href="#source-type-event" id="ref-for-source-type-event⑦">event</a></code>", and <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-current-wall-time" id="ref-for-dfn-current-wall-time①">current wall time</a>.</p>
          <li data-md>
           <p>If <var>source</var> is not null, <a data-link-type="dfn" href="#process-an-attribution-source" id="ref-for-process-an-attribution-source①">process</a> <var>source</var>.</p>
         </ol>
        <li data-md>
         <p>If <var>triggerHeader</var> is not null:</p>
         <ol>
          <li data-md>
           <p>Let <var>destinationSite</var> be the result of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#obtain-a-site" id="ref-for-obtain-a-site①">obtaining a site</a> from <var>contextOrigin</var>.</p>
          <li data-md>
           <p>Let <var>triggerVerifications</var> be the result of <a data-link-type="dfn" href="#receive-trigger-verification-tokens" id="ref-for-receive-trigger-verification-tokens">receiving trigger verification tokens</a> with <var>response</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-url" id="ref-for-concept-response-url①">URL</a>'s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-origin" id="ref-for-concept-url-origin①">origin</a>, <var>response</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-header-list" id="ref-for-concept-response-header-list④">header list</a>,
and <var>triggerVerificationMetadata</var>.</p>
          <li data-md>
           <p>Let <var>trigger</var> be the result of running <a data-link-type="dfn" href="#create-an-attribution-trigger" id="ref-for-create-an-attribution-trigger">create an attribution trigger</a> with <var>triggerHeader</var> <var>destinationSite</var>, <var>reportingOrigin</var>, <var>triggerVerifications</var>, and <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-current-wall-time" id="ref-for-dfn-current-wall-time②">current wall time</a>.</p>
          <li data-md>
           <p>If <var>trigger</var> is not null:</p>
           <ol>
            <li data-md>
             <p><a data-link-type="dfn" href="#maybe-defer-and-then-complete-trigger-attribution" id="ref-for-maybe-defer-and-then-complete-trigger-attribution">Maybe defer and then complete trigger attribution</a> with <var>trigger</var>.</p>
           </ol>
         </ol>
        <li data-md>
         <p>If <var>osSourceRegistrations</var> is not null and the user agent supports OS
registrations:</p>
         <ol>
          <li data-md>
           <p>Process <var>osSourceRegistrations</var> according to an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#implementation-defined" id="ref-for-implementation-defined①">implementation-defined</a> algorithm.</p>
          <li data-md>
           <p>Run <a data-link-type="dfn" href="#obtain-and-deliver-debug-reports-on-os-registrations" id="ref-for-obtain-and-deliver-debug-reports-on-os-registrations①">obtain and deliver debug reports on OS registrations</a> with
  "<code><a data-link-type="dfn" href="#os-debug-data-type-os-source-delegated" id="ref-for-os-debug-data-type-os-source-delegated①">os-source-delegated</a></code>", <var>osSourceRegistrations</var>,
  and <var>contextOrigin</var>.</p>
         </ol>
        <li data-md>
         <p>If <var>osTriggerRegistrations</var> is not null and the user agent supports OS
registrations:</p>
         <ol>
          <li data-md>
           <p>Process <var>osTriggerRegistrations</var> according to an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#implementation-defined" id="ref-for-implementation-defined②">implementation-defined</a> algorithm.</p>
          <li data-md>
           <p>Run <a data-link-type="dfn" href="#obtain-and-deliver-debug-reports-on-os-registrations" id="ref-for-obtain-and-deliver-debug-reports-on-os-registrations②">obtain and deliver debug reports on OS registrations</a> with
  "<code><a data-link-type="dfn" href="#os-debug-data-type-os-trigger-delegated" id="ref-for-os-debug-data-type-os-trigger-delegated">os-trigger-delegated</a></code>", <var>osTriggerRegistrations</var>,
  and <var>contextOrigin</var>.</p>
         </ol>
       </ol>
     </dl>
   </ol>
   <h2 class="heading settled" data-level="12" id="source-algorithms"><span class="secno">12. </span><span class="content">Source Algorithms</span><a class="self-link" href="#source-algorithms"></a></h2>
   <h3 class="heading settled algorithm" data-algorithm="Obtaining a randomized source response" data-level="12.1" id="obtaining-randomized-source-response"><span class="secno">12.1. </span><span class="content">Obtaining a randomized source response</span><a class="self-link" href="#obtaining-randomized-source-response"></a></h3>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="obtain-a-set-of-possible-trigger-states">obtain a set of possible trigger states</dfn> given a <a data-link-type="dfn" href="#randomized-response-output-configuration" id="ref-for-randomized-response-output-configuration⑤">randomized response output configuration</a> <var>config</var>:</p>
   <ol>
    <li data-md>
     <p>Let <var>possibleTriggerStates</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty④">empty</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set①⑦">set</a>.</p>
    <li data-md>
     <p>For each integer <var>triggerData</var> between 0 (inclusive) and <var>config</var>’s <a data-link-type="dfn" href="#randomized-response-output-configuration-trigger-data-cardinality" id="ref-for-randomized-response-output-configuration-trigger-data-cardinality">trigger data cardinality</a> (exclusive):</p>
     <ol>
      <li data-md>
       <p>For each integer <var>reportWindow</var> between 0 (inclusive) and <var>config</var>’s <a data-link-type="dfn" href="#randomized-response-output-configuration-num-report-windows" id="ref-for-randomized-response-output-configuration-num-report-windows">num report windows</a> (exclusive):</p>
       <ol>
        <li data-md>
         <p>Let <var>state</var> be a new <a data-link-type="dfn" href="#trigger-state" id="ref-for-trigger-state①">trigger state</a> with the items:</p>
         <dl>
          <dt data-md><a data-link-type="dfn" href="#trigger-state-trigger-data" id="ref-for-trigger-state-trigger-data">trigger data</a>
          <dd data-md>
           <p><var>triggerData</var></p>
          <dt data-md><a data-link-type="dfn" href="#trigger-state-report-window" id="ref-for-trigger-state-report-window">report window</a>
          <dd data-md>
           <p><var>reportWindow</var></p>
         </dl>
        <li data-md>
         <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-append" id="ref-for-set-append①">Append</a> <var>state</var> to <var>possibleTriggerStates</var>.</p>
       </ol>
     </ol>
    <li data-md>
     <p>Let <var>possibleValues</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty⑤">empty</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set①⑧">set</a>.</p>
    <li data-md>
     <p>For each integer <var>attributions</var> between 0 (inclusive) and |config’s| <a data-link-type="dfn" href="#randomized-response-output-configuration-max-attributions-per-source" id="ref-for-randomized-response-output-configuration-max-attributions-per-source">max attributions per source</a> (inclusive):</p>
     <ol>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-append" id="ref-for-set-append②">Append</a> to <var>possibleValues</var> all distinct <var>attributions</var>-length combinations of <var>possibleTriggerStates</var>.</p>
     </ol>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="obtain-a-randomized-source-response-pick-rate">obtain a randomized source response pick rate</dfn> given a <a data-link-type="dfn" href="#randomized-response-output-configuration" id="ref-for-randomized-response-output-configuration①">randomized response output configuration</a> <var>config</var> and a double <var>epsilon</var>:</p>
   <ol>
    <li data-md>
     <p>Let <var>possibleValues</var> be the result of <a data-link-type="dfn" href="#obtain-a-set-of-possible-trigger-states" id="ref-for-obtain-a-set-of-possible-trigger-states">obtaining a set of possible trigger states</a> with <var>config</var>.</p>
    <li data-md>
     <p>Let <var>numPossibleValues</var> be the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-size" id="ref-for-list-size⑥">size</a> of <var>possibleValues</var>.</p>
    <li data-md>
     <p>Return <var>numPossibleValues</var> / (<var>numPossibleValues</var> - 1 + e<sup><var>epsilon</var></sup>).</p>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="obtain-a-randomized-source-response">obtain a randomized source response</dfn> given a <a data-link-type="dfn" href="#randomized-response-output-configuration" id="ref-for-randomized-response-output-configuration②">randomized response output configuration</a> <var>config</var> and a double <var>epsilon</var>:</p>
   <ol>
    <li data-md>
     <p>Let <var>possibleValues</var> be the result of <a data-link-type="dfn" href="#obtain-a-set-of-possible-trigger-states" id="ref-for-obtain-a-set-of-possible-trigger-states①">obtaining a set of possible trigger states</a> with <var>config</var>.</p>
    <li data-md>
     <p>Let <var>pickRate</var> be the result of <a data-link-type="dfn" href="#obtain-a-randomized-source-response-pick-rate" id="ref-for-obtain-a-randomized-source-response-pick-rate">obtaining a randomized source response pick rate</a> with <var>config</var> and <var>epsilon</var>.</p>
    <li data-md>
     <p>Return the result of <a data-link-type="dfn" href="#obtain-a-randomized-response" id="ref-for-obtain-a-randomized-response">obtaining a randomized response</a> with null, <var>possibleValues</var>, and <var>pickRate</var>.</p>
   </ol>
   <h3 class="heading settled algorithm" data-algorithm="Computing channel capacity" data-level="12.2" id="computing-channel-capacity"><span class="secno">12.2. </span><span class="content">Computing channel capacity</span><a class="self-link" href="#computing-channel-capacity"></a></h3>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="compute-the-channel-capacity-of-a-source">compute the channel capacity of a source</dfn> given a <a data-link-type="dfn" href="#randomized-response-output-configuration" id="ref-for-randomized-response-output-configuration③">randomized response output configuration</a> <var>config</var> and a double <var>epsilon</var>:</p>
   <ol>
    <li data-md>
     <p>Let <var>pickRate</var> be the <a data-link-type="dfn" href="#obtain-a-randomized-source-response-pick-rate" id="ref-for-obtain-a-randomized-source-response-pick-rate①">randomized response pick rate</a> with <var>config</var> and <var>epsilon</var>.</p>
    <li data-md>
     <p>Let <var>states</var> be the <a data-link-type="dfn" href="#obtain-a-set-of-possible-trigger-states" id="ref-for-obtain-a-set-of-possible-trigger-states②">number of possible trigger states</a> with <var>config</var>.</p>
    <li data-md>
     <p>Let <var>p</var> be <var>pickRate</var> * (<var>states</var> - 1) / <var>states</var>.</p>
    <li data-md>
     <p>Return log2(<var>states</var>) - h(<var>p</var>) - <var>p</var> * log2(<var>states</var> - 1) where h is the binary entropy function <a data-link-type="biblio" href="#biblio-bin-ent" title="Binary entropy function">[BIN-ENT]</a>.</p>
   </ol>
   <p class="note" role="note"><span class="marker">Note:</span> This algorithm computes the channel capacity <a data-link-type="biblio" href="#biblio-chan" title="Channel capacity">[CHAN]</a> of a q-ary symmetric channel <a data-link-type="biblio" href="#biblio-q-sc" title="q-ary symmetric channel">[Q-SC]</a>.</p>
   <h3 class="heading settled algorithm" data-algorithm="Parsing source-registration JSON" data-level="12.3" id="parsing-source-registration"><span class="secno">12.3. </span><span class="content">Parsing source-registration JSON</span><a class="self-link" href="#parsing-source-registration"></a></h3>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="parse-an-attribution-destination">parse an attribution destination</dfn> from a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string②①">string</a> <var>str</var>:</p>
   <ol>
    <li data-md>
     <p>Let <var>url</var> be the result of running the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-parser" id="ref-for-concept-url-parser">URL parser</a> on the value of
the <var>str</var>.</p>
    <li data-md>
     <p>If <var>url</var> is failure or null, return null.</p>
    <li data-md>
     <p>If <var>url</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-origin" id="ref-for-concept-url-origin②">origin</a> is not <a data-link-type="dfn" href="#check-if-an-origin-is-suitable" id="ref-for-check-if-an-origin-is-suitable④">suitable</a>,
return null.</p>
    <li data-md>
     <p>Return the result of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#obtain-a-site" id="ref-for-obtain-a-site②">obtaining a site</a> from <var>url</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-origin" id="ref-for-concept-url-origin③">origin</a>.</p>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="parse-attribution-destinations">parse attribution destinations</dfn> from a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map①④">map</a> <var>map</var>:</p>
   <ol>
    <li data-md>
     <p>If <var>map</var>["<code>destination</code>"] does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①⓪">exist</a>, return null.</p>
    <li data-md>
     <p>Let <var>val</var> be <var>map</var>["<code>destination</code>"].</p>
    <li data-md>
     <p>If <var>val</var> is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string②②">string</a>, set <var>val</var> to « <var>val</var> ».</p>
    <li data-md>
     <p>If <var>val</var> is not a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list②⑧">list</a>, return null.</p>
    <li data-md>
     <p>Let <var>result</var> be an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set①⑨">ordered set</a>.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate①①">For each</a> <var>value</var> of <var>val</var>:</p>
     <ol>
      <li data-md>
       <p>If <var>value</var> is not a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string②③">string</a>, return null.</p>
      <li data-md>
       <p>Let <var>destination</var> be the result of <a data-link-type="dfn" href="#parse-an-attribution-destination" id="ref-for-parse-an-attribution-destination">parse an attribution destination</a> with <var>value</var>.</p>
      <li data-md>
       <p>If <var>destination</var> is null, return null.</p>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-append" id="ref-for-set-append③">Append</a> <var>destination</var> to <var>result</var>.</p>
     </ol>
    <li data-md>
     <p>If <var>result</var> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty⑥">is empty</a> or its <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-size" id="ref-for-list-size⑦">size</a> is greater than the <a data-link-type="dfn" href="#max-destinations-per-source" id="ref-for-max-destinations-per-source">max destinations per source</a>, return null.</p>
    <li data-md>
     <p>Return <var>result</var>.</p>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="parse-a-duration">parse a duration</dfn> given a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map①⑤">map</a> <var>map</var>, a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string②④">string</a> <var>key</var>, and a
tuple of <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-duration" id="ref-for-dfn-duration⑨">durations</a> (<var>clampStart</var>, <var>clampEnd</var>):</p>
   <ol>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert⑥">Assert</a>: <var>clampStart</var> &lt; <var>clampEnd</var>.</p>
    <li data-md>
     <p>Let <var>seconds</var> be null.</p>
    <li data-md>
     <p>If <var>map</var>[<var>key</var>] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①①">exists</a> and is a non-negative integer, set <var>seconds</var> to <var>map</var>[<var>key</var>].</p>
    <li data-md>
     <p>Otherwise, set <var>seconds</var> to the result of running <a data-link-type="dfn" href="#parse-an-optional-64-bit-unsigned-integer" id="ref-for-parse-an-optional-64-bit-unsigned-integer">parse an optional 64-bit unsigned integer</a> with <var>map</var>, <var>key</var>, and null.</p>
    <li data-md>
     <p>If <var>seconds</var> is an error, return an error.</p>
    <li data-md>
     <p>If <var>seconds</var> is null, return <var>clampEnd</var>.</p>
    <li data-md>
     <p>Let <var>duration</var> be the <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-duration" id="ref-for-dfn-duration①⓪">duration</a> of <var>seconds</var> seconds.</p>
    <li data-md>
     <p>If <var>duration</var> is less than <var>clampStart</var>, return <var>clampStart</var>.</p>
    <li data-md>
     <p>If <var>duration</var> is greater than <var>clampEnd</var>, return <var>clampEnd</var>.</p>
    <li data-md>
     <p>Return <var>duration</var>.</p>
   </ol>
   <p class="issue" id="issue-df972bd5"><a class="self-link" href="#issue-df972bd5"></a> Consider rejecting out-of-bounds values instead of silently clamping.</p>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="parse-aggregation-keys">parse aggregation keys</dfn> given an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map①⑥">ordered map</a> <var>map</var>:</p>
   <ol>
    <li data-md>
     <p>Let <var>aggregationKeys</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map①⑦">ordered map</a>.</p>
    <li data-md>
     <p>If <var>map</var>["<code>aggregation_keys</code>"] does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①②">exist</a>, return <var>aggregationKeys</var>.</p>
    <li data-md>
     <p>Let <var>values</var> be <var>map</var>["<code>aggregation_keys</code>"].</p>
    <li data-md>
     <p>If <var>values</var> is not an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map①⑧">ordered map</a>, return null.</p>
    <li data-md>
     <p>If <var>values</var>’s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-size" id="ref-for-map-size④">size</a> is greater than the user agent’s <a data-link-type="dfn" href="#max-aggregation-keys-per-attribution" id="ref-for-max-aggregation-keys-per-attribution">max aggregation keys per attribution</a>, return null.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate②">For each</a> <var>key</var> → <var>value</var> of <var>values</var>:</p>
     <ol>
      <li data-md>
       <p>If <var>value</var> is not a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string②⑤">string</a>, return null.</p>
      <li data-md>
       <p>Let <var>keyPiece</var> be the result of running <a data-link-type="dfn" href="#parse-an-aggregation-key-piece" id="ref-for-parse-an-aggregation-key-piece">parse an aggregation key piece</a> with <var>value</var>.</p>
      <li data-md>
       <p>If <var>keyPiece</var> is an error, return null.</p>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set④">Set</a> <var>aggregationKeys</var>[<var>key</var>] to <var>keyPiece</var>.</p>
     </ol>
    <li data-md>
     <p>Return <var>aggregationKeys</var>.</p>
   </ol>
   <p class="issue" id="issue-f31c9d0c"><a class="self-link" href="#issue-f31c9d0c"></a> Determine whether to limit <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-length" id="ref-for-string-length①">length</a> or <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-code-point-length" id="ref-for-string-code-point-length②">code point length</a> for <var>key</var> above.</p>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="obtain-default-effective-windows">obtain default effective windows</dfn> given a <a data-link-type="dfn" href="#source-type" id="ref-for-source-type②">source type</a> <var>sourceType</var>,
a <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-moment" id="ref-for-dfn-moment①①">moment</a> <var>sourceTime</var>, and a <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-duration" id="ref-for-dfn-duration①①">duration</a> <var>eventReportWindow</var>:</p>
   <ol>
    <li data-md>
     <p>Let <var>deadlines</var> be «» if <var>sourceType</var> is "<code><a data-link-type="dfn" href="#source-type-event" id="ref-for-source-type-event⑧">event</a></code>", else « 2 days, 7 days ».</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove" id="ref-for-list-remove③">Remove</a> all elements in <var>deadlines</var> that are greater than or equal to <var>eventReportWindow</var>.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append①①">Append</a> <var>eventReportWindow</var> to <var>deadlines</var>.</p>
    <li data-md>
     <p>Let <var>lastEnd</var> be <var>sourceTime</var>.</p>
    <li data-md>
     <p>Let <var>windows</var> be «».</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate①②">For each</a> <var>deadline</var> of <var>deadlines</var>:</p>
     <ol>
      <li data-md>
       <p>Let <var>window</var> be a new <a data-link-type="dfn" href="#report-window" id="ref-for-report-window⑤">report window</a> whose items are</p>
       <dl>
        <dt data-md><a data-link-type="dfn" href="#report-window-start" id="ref-for-report-window-start⑤">start</a>
        <dd data-md>
         <p><var>lastEnd</var></p>
        <dt data-md><a data-link-type="dfn" href="#report-window-end" id="ref-for-report-window-end④">end</a>
        <dd data-md>
         <p><var>lastEnd</var> + <var>deadline</var></p>
       </dl>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append①②">Append</a> <var>window</var> to <var>windows</var>.</p>
      <li data-md>
       <p>Set <var>lastEnd</var> to <var>lastEnd</var> + <var>deadline</var>.</p>
     </ol>
    <li data-md>
     <p>Return <var>windows</var>.</p>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="parse-report-windows">parse report windows</dfn> given a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map①⑨">map</a> <var>map</var>, a <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-moment" id="ref-for-dfn-moment①②">moment</a> <var>sourceTime</var>,
and a <a data-link-type="dfn" href="#report-window-list" id="ref-for-report-window-list①">report window list</a> <var>default</var>:</p>
   <ol>
    <li data-md>
     <p>If <var>map</var>["<code>event_report_windows</code>"] does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①③">exist</a>, return <var>default</var>.</p>
    <li data-md>
     <p>Let <var>values</var> be <var>map</var>["<code>event_report_windows</code>"].</p>
    <li data-md>
     <p>If <var>values</var> is not a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map②⓪">map</a>, return an error.</p>
    <li data-md>
     <p>Let <var>defaultEndDuration</var> be the <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-duration-from" id="ref-for-dfn-duration-from②">duration from</a> <var>sourceTime</var> and the <a data-link-type="dfn" href="#report-window-end" id="ref-for-report-window-end⑤">end</a> of the last element of <var>default</var>.</p>
    <li data-md>
     <p>Let <var>startDuration</var> be 0 seconds.</p>
    <li data-md>
     <p>If <var>map</var>["<code>start_time</code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①④">exists</a>:</p>
     <ol>
      <li data-md>
       <p>Let <var>start</var> be <var>map</var>["<code>start_time</code>"].</p>
      <li data-md>
       <p>If <var>start</var> is not a non-negative integer, return an error.</p>
      <li data-md>
       <p>Set <var>startDuration</var> to <var>start</var> seconds.</p>
      <li data-md>
       <p>If <var>startDuration</var> is greater than <var>defaultEndDuration</var>, return an error.</p>
     </ol>
    <li data-md>
     <p>If <var>values</var>["<code>end_times</code>"] does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①⑤">exist</a> or is not a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list②⑨">list</a>, return an error.</p>
    <li data-md>
     <p>Let <var>endDurations</var> be <var>values</var>["<code>end_times</code>"].</p>
    <li data-md>
     <p>If the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-size" id="ref-for-list-size⑧">size</a> of <var>endDurations</var> is greater than <a data-link-type="dfn" href="#max-settable-event-level-report-windows" id="ref-for-max-settable-event-level-report-windows">max settable event-level report windows</a>, return an error.</p>
    <li data-md>
     <p>If <var>endDurations</var> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty⑦">is empty</a>, return an error.</p>
    <li data-md>
     <p>Let <var>windows</var> be an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty⑧">empty</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list③⓪">list</a>.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate①③">For each</a> <var>end</var> of <var>endDurations</var>:</p>
     <ol>
      <li data-md>
       <p>If <var>end</var> is not a positive integer, return an error.</p>
      <li data-md>
       <p>Let <var>endDuration</var> be <var>end</var> seconds.</p>
      <li data-md>
       <p>If <var>endDuration</var> is greater than <var>defaultEndDuration</var>, set <var>endDuration</var> to <var>defaultEndDuration</var>.</p>
      <li data-md>
       <p>If <var>endDuration</var> is less than <a data-link-type="dfn" href="#min-report-window" id="ref-for-min-report-window">min report window</a>, set <var>endDuration</var> to <a data-link-type="dfn" href="#min-report-window" id="ref-for-min-report-window①">min report window</a>.</p>
      <li data-md>
       <p>If <var>endDuration</var> is less than or equal to <var>startDuration</var>, return an error.</p>
      <li data-md>
       <p>Let <var>window</var> be a new <a data-link-type="dfn" href="#report-window" id="ref-for-report-window⑥">report window</a> whose items are</p>
       <dl>
        <dt data-md><a data-link-type="dfn" href="#report-window-start" id="ref-for-report-window-start⑥">start</a>
        <dd data-md>
         <p><var>sourceTime</var> + <var>startDuration</var></p>
        <dt data-md><a data-link-type="dfn" href="#report-window-end" id="ref-for-report-window-end⑥">end</a>
        <dd data-md>
         <p><var>sourceTime</var> + <var>endDuration</var></p>
       </dl>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append①③">Append</a> <var>window</var> to <var>windows</var>.</p>
      <li data-md>
       <p>Set <var>startDuration</var> to <var>endDuration</var>.</p>
     </ol>
    <li data-md>
     <p>Return <var>windows</var>.</p>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="parse-source-registration-json">parse source-registration JSON</dfn> given a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence" id="ref-for-byte-sequence②">byte sequence</a> <var>json</var>, a <a data-link-type="dfn" href="#suitable-origin" id="ref-for-suitable-origin①①">suitable origin</a> <var>sourceOrigin</var>, a <a data-link-type="dfn" href="#suitable-origin" id="ref-for-suitable-origin①②">suitable origin</a> <var>reportingOrigin</var>, a <a data-link-type="dfn" href="#source-type" id="ref-for-source-type③">source type</a> <var>sourceType</var>, and a <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-moment" id="ref-for-dfn-moment①③">moment</a> <var>sourceTime</var>:</p>
   <ol>
    <li data-md>
     <p>Let <var>value</var> be the result of running <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#parse-json-bytes-to-an-infra-value" id="ref-for-parse-json-bytes-to-an-infra-value">parse JSON bytes to an Infra value</a> with <var>json</var>.</p>
    <li data-md>
     <p>If <var>value</var> is not an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map②①">ordered map</a>, return null.</p>
    <li data-md>
     <p>Let <var>attributionDestinations</var> be the result of running <a data-link-type="dfn" href="#parse-attribution-destinations" id="ref-for-parse-attribution-destinations">parse attribution destinations</a> with <var>value</var>.</p>
    <li data-md>
     <p>If <var>attributionDestinations</var> is null, return null.</p>
    <li data-md>
     <p>Let <var>sourceEventId</var> be the result of running <a data-link-type="dfn" href="#parse-an-optional-64-bit-unsigned-integer" id="ref-for-parse-an-optional-64-bit-unsigned-integer①">parse an optional 64-bit unsigned integer</a> with <var>value</var>,
"<code>source_event_id</code>", and 0.</p>
    <li data-md>
     <p>If <var>sourceEventId</var> is an error, return null.</p>
    <li data-md>
     <p>Let <var>expiry</var> be the result of running <a data-link-type="dfn" href="#parse-a-duration" id="ref-for-parse-a-duration">parse a duration</a> with <var>value</var>,
"<code>expiry</code>", and <a data-link-type="dfn" href="#valid-source-expiry-range" id="ref-for-valid-source-expiry-range">valid source expiry range</a>.</p>
    <li data-md>
     <p>If <var>expiry</var> is an error, return null.</p>
    <li data-md>
     <p>If <var>sourceType</var> is "<code><a data-link-type="dfn" href="#source-type-event" id="ref-for-source-type-event⑨">event</a></code>", round <var>expiry</var> away
from zero to the nearest day (86400 seconds).</p>
    <li data-md>
     <p>Let <var>priority</var> be the result of running <a data-link-type="dfn" href="#parse-an-optional-64-bit-signed-integer" id="ref-for-parse-an-optional-64-bit-signed-integer">parse an optional 64-bit signed integer</a> with <var>value</var>, "<code>priority</code>", and</p>
     <ol start="0">
      <li data-md>
     </ol>
    <li data-md>
     <p>If <var>priority</var> is an error, return null.</p>
    <li data-md>
     <p>Let <var>filterData</var> be a new <a data-link-type="dfn" href="#filter-map" id="ref-for-filter-map③">filter map</a>.</p>
    <li data-md>
     <p>If <var>value</var>["<code>filter_data</code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①⑥">exists</a>:</p>
     <ol>
      <li data-md>
       <p>Set <var>filterData</var> to the result of running <a data-link-type="dfn" href="#parse-filter-data" id="ref-for-parse-filter-data">parse filter data</a> with <var>value</var>["<code>filter_data</code>"].</p>
      <li data-md>
       <p>If <var>filterData</var> is null, return null.</p>
      <li data-md>
       <p>If <var>filterData</var>["<code>source_type</code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①⑦">exists</a>, return null.</p>
     </ol>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set⑤">Set</a> <var>filterData</var>["<code>source_type</code>"] to « <var>sourceType</var> ».</p>
    <li data-md>
     <p>Let <var>debugKey</var> be the result of running <a data-link-type="dfn" href="#parse-an-optional-64-bit-unsigned-integer" id="ref-for-parse-an-optional-64-bit-unsigned-integer②">parse an optional 64-bit unsigned integer</a> with <var>value</var>, "<code>debug_key</code>",
and null.</p>
    <li data-md>
     <p>If <var>debugKey</var> is an error, set <var>debugKey</var> to null.</p>
    <li data-md>
     <p>If the result of running <a data-link-type="dfn" href="#check-if-cookie-based-debugging-is-allowed" id="ref-for-check-if-cookie-based-debugging-is-allowed">check if cookie-based debugging is allowed</a> with <var>reportingOrigin</var> is <strong>blocked</strong>, set <var>debugKey</var> to null.</p>
    <li data-md>
     <p>Let <var>aggregationKeys</var> be the result of running <a data-link-type="dfn" href="#parse-aggregation-keys" id="ref-for-parse-aggregation-keys">parse aggregation keys</a> with <var>value</var>.</p>
    <li data-md>
     <p>If <var>aggregationKeys</var> is null, return null.</p>
    <li data-md>
     <p>Let <var>triggerDataCardinality</var> be the user agent’s <a data-link-type="dfn" href="#default-trigger-data-cardinality" id="ref-for-default-trigger-data-cardinality">default trigger data cardinality</a>[<var>sourceType</var>].</p>
    <li data-md>
     <p>Let <var>maxAttributionsPerSource</var> be <a data-link-type="dfn" href="#default-event-level-attributions-per-source" id="ref-for-default-event-level-attributions-per-source">default event-level attributions per source</a>[<var>sourceType</var>].</p>
    <li data-md>
     <p>Set <var>maxAttributionsPerSource</var> to <var>value</var>["<code>max_event_level_reports</code>"] if it <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①⑧">exists</a>.</p>
    <li data-md>
     <p>If <var>maxAttributionsPerSource</var> is not a non-negative integer, or is greater than <a data-link-type="dfn" href="#max-settable-event-level-attributions-per-source" id="ref-for-max-settable-event-level-attributions-per-source">max settable event-level attributions per source</a>, return null.</p>
    <li data-md>
     <p>Let <var>eventReportWindow</var> be the result of running <a data-link-type="dfn" href="#parse-a-duration" id="ref-for-parse-a-duration①">parse a duration</a> with <var>value</var>, "<code>event_report_window</code>", and (<a data-link-type="dfn" href="#min-report-window" id="ref-for-min-report-window②">min report window</a>, <var>expiry</var>).</p>
    <li data-md>
     <p>If <var>eventReportWindow</var> is an error, return null.</p>
    <li data-md>
     <p>Let <var>aggregatableReportWindowEnd</var> be the result of running <a data-link-type="dfn" href="#parse-a-duration" id="ref-for-parse-a-duration②">parse a duration</a> with <var>value</var>, "<code>aggregatable_report_window</code>", and (<a data-link-type="dfn" href="#min-report-window" id="ref-for-min-report-window③">min report window</a>, <var>expiry</var>).</p>
    <li data-md>
     <p>If <var>aggregatableReportWindowEnd</var> is an error, return null.</p>
    <li data-md>
     <p>Let <var>debugReportingEnabled</var> be false.</p>
    <li data-md>
     <p>If <var>value</var>["<code>debug_reporting</code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①⑨">exists</a> and is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#boolean" id="ref-for-boolean⑦">boolean</a>, set <var>debugReportingEnabled</var> to <var>value</var>["<code>debug_reporting</code>"].</p>
    <li data-md>
     <p>Let <var>eventReportWindows</var> be the result of <a data-link-type="dfn" href="#obtain-default-effective-windows" id="ref-for-obtain-default-effective-windows">obtaining default effective windows</a> given <var>sourceType</var>, <var>sourceTime</var>, and <var>eventReportWindow</var>.</p>
    <li data-md>
     <p>If both <var>value</var>["<code>event_report_window</code>"] and <var>value</var>["<code>event_report_windows</code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists②⓪">exist</a>, return null.</p>
    <li data-md>
     <p>Set <var>eventReportWindows</var> to the result of <a data-link-type="dfn" href="#parse-report-windows" id="ref-for-parse-report-windows">parsing report windows</a> with <var>value</var>, <var>sourceTime</var>, and <var>eventReportWindows</var>.</p>
    <li data-md>
     <p>If <var>eventReportWindows</var> is an error, return null.</p>
    <li data-md>
     <p>Let <var>aggregatableReportWindow</var> be a new <a data-link-type="dfn" href="#report-window" id="ref-for-report-window⑦">report window</a> with the following items:</p>
     <dl>
      <dt data-md><a data-link-type="dfn" href="#report-window-start" id="ref-for-report-window-start⑦">start</a>
      <dd data-md>
       <p><var>sourceTime</var></p>
      <dt data-md><a data-link-type="dfn" href="#report-window-end" id="ref-for-report-window-end⑦">end</a>
      <dd data-md>
       <p><var>sourceTime</var> + <var>aggregatableReportWindowEnd</var></p>
     </dl>
    <li data-md>
     <p>Let <var>randomizedResponseConfig</var> be a new <a data-link-type="dfn" href="#randomized-response-output-configuration" id="ref-for-randomized-response-output-configuration④">randomized response output configuration</a> whose items are:</p>
     <dl>
      <dt data-md><a data-link-type="dfn" href="#randomized-response-output-configuration-max-attributions-per-source" id="ref-for-randomized-response-output-configuration-max-attributions-per-source①">max attributions per source</a>
      <dd data-md>
       <p><var>maxAttributionsPerSource</var></p>
      <dt data-md><a data-link-type="dfn" href="#randomized-response-output-configuration-num-report-windows" id="ref-for-randomized-response-output-configuration-num-report-windows①">num report windows</a>
      <dd data-md>
       <p>The <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-size" id="ref-for-list-size⑨">size</a> of <var>eventReportWindows</var>.</p>
      <dt data-md><a data-link-type="dfn" href="#randomized-response-output-configuration-trigger-data-cardinality" id="ref-for-randomized-response-output-configuration-trigger-data-cardinality①">trigger data cardinality</a>
      <dd data-md>
       <p><var>triggerDataCardinality</var></p>
     </dl>
    <li data-md>
     <p>Let <var>epsilon</var> be the user agent’s <a data-link-type="dfn" href="#randomized-response-epsilon" id="ref-for-randomized-response-epsilon">randomized response epsilon</a>.</p>
    <li data-md>
     <p>If the result of <a data-link-type="dfn" href="#compute-the-channel-capacity-of-a-source" id="ref-for-compute-the-channel-capacity-of-a-source">computing the channel capacity of a source</a> with <var>randomizedResponseConfig</var> and <var>epsilon</var> is greater than <a data-link-type="dfn" href="#max-event-level-channel-capacity-per-source" id="ref-for-max-event-level-channel-capacity-per-source">max event-level channel capacity per source</a>[<var>sourceType</var>], return null.</p>
    <li data-md>
     <p>Let <var>source</var> be a new <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source③⑥">attribution source</a> struct whose items are:</p>
     <dl>
      <dt data-md><a data-link-type="dfn" href="#attribution-source-source-identifier" id="ref-for-attribution-source-source-identifier">source identifier</a>
      <dd data-md>
       <p>A new unique <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string②⑥">string</a></p>
      <dt data-md><a data-link-type="dfn" href="#attribution-source-source-origin" id="ref-for-attribution-source-source-origin②">source origin</a>
      <dd data-md>
       <p><var>sourceOrigin</var></p>
      <dt data-md><a data-link-type="dfn" href="#attribution-source-event-id" id="ref-for-attribution-source-event-id">event ID</a>
      <dd data-md>
       <p><var>sourceEventId</var></p>
      <dt data-md><a data-link-type="dfn" href="#attribution-source-attribution-destinations" id="ref-for-attribution-source-attribution-destinations⑤">attribution destinations</a>
      <dd data-md>
       <p><var>attributionDestinations</var></p>
      <dt data-md><a data-link-type="dfn" href="#attribution-source-reporting-origin" id="ref-for-attribution-source-reporting-origin⑤">reporting origin</a>
      <dd data-md>
       <p><var>reportingOrigin</var></p>
      <dt data-md><a data-link-type="dfn" href="#attribution-source-expiry" id="ref-for-attribution-source-expiry②">expiry</a>
      <dd data-md>
       <p><var>expiry</var></p>
      <dt data-md><a data-link-type="dfn" href="#attribution-source-event-level-report-windows" id="ref-for-attribution-source-event-level-report-windows⑤">event-level report windows</a>
      <dd data-md>
       <p><var>eventReportWindows</var></p>
      <dt data-md><a data-link-type="dfn" href="#attribution-source-aggregatable-report-window" id="ref-for-attribution-source-aggregatable-report-window①">aggregatable report window</a>
      <dd data-md>
       <p><var>aggregatableReportWindow</var></p>
      <dt data-md><a data-link-type="dfn" href="#attribution-source-priority" id="ref-for-attribution-source-priority">priority</a>
      <dd data-md>
       <p><var>priority</var></p>
      <dt data-md><a data-link-type="dfn" href="#attribution-source-source-time" id="ref-for-attribution-source-source-time②">source time</a>
      <dd data-md>
       <p><var>sourceTime</var></p>
      <dt data-md><a data-link-type="dfn" href="#attribution-source-source-type" id="ref-for-attribution-source-source-type">source type</a>
      <dd data-md>
       <p><var>sourceType</var></p>
      <dt data-md><a data-link-type="dfn" href="#attribution-source-max-number-of-event-level-reports" id="ref-for-attribution-source-max-number-of-event-level-reports①">max number of event-level reports</a>
      <dd data-md>
       <p><var>maxAttributionsPerSource</var></p>
      <dt data-md><a data-link-type="dfn" href="#attribution-source-randomized-response" id="ref-for-attribution-source-randomized-response">randomized response</a>
      <dd data-md>
       <p>The result of <a data-link-type="dfn" href="#obtain-a-randomized-source-response" id="ref-for-obtain-a-randomized-source-response">obtaining a randomized source response</a> with <var>randomizedResponseConfig</var> and <var>epsilon</var>.</p>
      <dt data-md><a data-link-type="dfn" href="#attribution-source-randomized-trigger-rate" id="ref-for-attribution-source-randomized-trigger-rate">randomized trigger rate</a>
      <dd data-md>
       <p>The result of <a data-link-type="dfn" href="#obtain-a-randomized-source-response-pick-rate" id="ref-for-obtain-a-randomized-source-response-pick-rate②">obtaining a randomized source response pick rate</a> with <var>randomizedResponseConfig</var> and <var>epsilon</var>.</p>
      <dt data-md><a data-link-type="dfn" href="#attribution-source-filter-data" id="ref-for-attribution-source-filter-data②">filter data</a>
      <dd data-md>
       <p><var>filterData</var></p>
      <dt data-md><a data-link-type="dfn" href="#attribution-source-debug-key" id="ref-for-attribution-source-debug-key">debug key</a>
      <dd data-md>
       <p><var>debugKey</var></p>
      <dt data-md><a data-link-type="dfn" href="#attribution-source-aggregation-keys" id="ref-for-attribution-source-aggregation-keys①">aggregation keys</a>
      <dd data-md>
       <p><var>aggregationKeys</var></p>
      <dt data-md><a data-link-type="dfn" href="#attribution-source-aggregatable-budget-consumed" id="ref-for-attribution-source-aggregatable-budget-consumed">aggregatable budget consumed</a>
      <dd data-md>
       <p>0</p>
      <dt data-md><a data-link-type="dfn" href="#attribution-source-debug-reporting-enabled" id="ref-for-attribution-source-debug-reporting-enabled">debug reporting enabled</a>
      <dd data-md>
       <p><var>debugReportingEnabled</var></p>
     </dl>
    <li data-md>
     <p>Return <var>source</var>.</p>
   </ol>
   <p class="issue" id="issue-e6d5a493"><a class="self-link" href="#issue-e6d5a493"></a> Determine proper charset-handling for the JSON header value.</p>
   <h3 class="heading settled" data-level="12.4" id="processing-an-attribution-source"><span class="secno">12.4. </span><span class="content">Processing an attribution source</span><a class="self-link" href="#processing-an-attribution-source"></a></h3>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="check-if-an-attribution-source-exceeds-the-time-based-destination-limits">check if an <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source③⑦">attribution source</a> exceeds the time-based destination limits</dfn> given an <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source③⑧">attribution source</a> <var>source</var>, run the following steps:</p>
   <ol>
    <li data-md>
     <p>Let <var>matchingSources</var> be all <a data-link-type="dfn" href="#attribution-rate-limit-record" id="ref-for-attribution-rate-limit-record③">attribution rate-limit records</a> <var>record</var> in the <a data-link-type="dfn" href="#attribution-rate-limit-cache" id="ref-for-attribution-rate-limit-cache①">attribution rate-limit cache</a> where all of the following are true:</p>
     <ul>
      <li data-md>
       <p><var>record</var>’s <a data-link-type="dfn" href="#attribution-rate-limit-record-scope" id="ref-for-attribution-rate-limit-record-scope①">scope</a> is "<code><a data-link-type="dfn" href="#rate-limit-scope-source" id="ref-for-rate-limit-scope-source">source</a></code>"</p>
      <li data-md>
       <p><var>record</var>’s <a data-link-type="dfn" href="#attribution-rate-limit-record-source-site" id="ref-for-attribution-rate-limit-record-source-site④">source site</a> and <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-source-site" id="ref-for-attribution-source-source-site③">source site</a> are equal</p>
      <li data-md>
       <p><var>record</var>’s <a data-link-type="dfn" href="#attribution-rate-limit-record-expiry-time" id="ref-for-attribution-rate-limit-record-expiry-time①">expiry time</a> is greater than <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-source-time" id="ref-for-attribution-source-source-time③">source time</a></p>
      <li data-md>
       <p>The <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-duration-from" id="ref-for-dfn-duration-from③">duration from</a> <var>record</var>’s <a data-link-type="dfn" href="#attribution-rate-limit-record-time" id="ref-for-attribution-rate-limit-record-time">time</a> and <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-source-time" id="ref-for-attribution-source-source-time④">source time</a> is less than <a data-link-type="dfn" href="#destination-rate-limit-window" id="ref-for-destination-rate-limit-window②">destination rate-limit window</a></p>
     </ul>
    <li data-md>
     <p>Let <var>matchingSameReportingSources</var> be all the <a data-link-type="dfn" href="#attribution-rate-limit-record" id="ref-for-attribution-rate-limit-record④">records</a> in <var>matchingSources</var> whose associated <a data-link-type="dfn" href="#attribution-rate-limit-record-reporting-origin" id="ref-for-attribution-rate-limit-record-reporting-origin②">reporting origin</a> is <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-site" id="ref-for-same-site">same site</a> with <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-reporting-origin" id="ref-for-attribution-source-reporting-origin⑥">reporting origin</a>.</p>
    <li data-md>
     <p>Let <var>destinations</var> be the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set②⓪">set</a> of every <a data-link-type="dfn" href="#attribution-rate-limit-record-attribution-destination" id="ref-for-attribution-rate-limit-record-attribution-destination③">attribution destination</a> in <var>matchingSources</var>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-union" id="ref-for-set-union">unioned</a> with <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-attribution-destinations" id="ref-for-attribution-source-attribution-destinations⑥">attribution destinations</a>.</p>
    <li data-md>
     <p>Let <var>sameReportingDestinations</var> be the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set②①">set</a> of every <a data-link-type="dfn" href="#attribution-rate-limit-record-attribution-destination" id="ref-for-attribution-rate-limit-record-attribution-destination④">attribution destination</a> in <var>matchingSameReportingSources</var>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-union" id="ref-for-set-union①">unioned</a> with <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-attribution-destinations" id="ref-for-attribution-source-attribution-destinations⑦">attribution destinations</a>.</p>
    <li data-md>
     <p>Let <var>hitRateLimit</var> be whether <var>destinations</var>’s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-size" id="ref-for-list-size①⓪">size</a> is greater than <a data-link-type="dfn" href="#max-destinations-per-rate-limit-window" id="ref-for-max-destinations-per-rate-limit-window">max destinations per rate-limit window</a>[0].</p>
    <li data-md>
     <p>Let <var>hitSameReportingRateLimit</var> be whether <var>sameReportingDestinations</var>’s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-size" id="ref-for-list-size①①">size</a> is greater than <a data-link-type="dfn" href="#max-destinations-per-rate-limit-window" id="ref-for-max-destinations-per-rate-limit-window①">max destinations per rate-limit window</a>[1].</p>
    <li data-md>
     <p>If (<var>hitRateLimit</var>, <var>hitSameReportingRateLimit</var>) is</p>
     <dl class="switch">
      <dt data-md>(false, false)
      <dd data-md>
       <p>Return "<code><a data-link-type="dfn" href="#destination-rate-limit-result-allowed" id="ref-for-destination-rate-limit-result-allowed">allowed</a></code>".</p>
      <dt data-md>(false, true)
      <dd data-md>
       <p>Return "<code><a data-link-type="dfn" href="#destination-rate-limit-result-hit-reporting-limit" id="ref-for-destination-rate-limit-result-hit-reporting-limit">hit reporting limit</a></code>".</p>
      <dt data-md>(true, false)
      <dd data-md>
       <p>Return "<code><a data-link-type="dfn" href="#destination-rate-limit-result-hit-global-limit" id="ref-for-destination-rate-limit-result-hit-global-limit">hit global limit</a></code>".</p>
      <dt data-md>(true, true)
      <dd data-md>
       <p>Return "<code><a data-link-type="dfn" href="#destination-rate-limit-result-hit-reporting-limit" id="ref-for-destination-rate-limit-result-hit-reporting-limit①">hit reporting limit</a></code>".</p>
     </dl>
   </ol>
   <p class="note" role="note"><span class="marker">Note:</span> We do not emit an explicit <a data-link-type="dfn" href="#source-debug-data-type" id="ref-for-source-debug-data-type">source debug data type</a> for "<code><a data-link-type="dfn" href="#destination-rate-limit-result-hit-global-limit" id="ref-for-destination-rate-limit-result-hit-global-limit①">hit global limit</a></code>",
we only emit a <a data-link-type="dfn" href="#source-debug-data-type-source-success" id="ref-for-source-debug-data-type-source-success">source-success</a> type. For this reason, when both limits are hit, just interpret
it as "<code><a data-link-type="dfn" href="#destination-rate-limit-result-hit-reporting-limit" id="ref-for-destination-rate-limit-result-hit-reporting-limit②">hit reporting limit</a></code>" to ensure that the most useful report is sent.</p>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="check-if-an-attribution-source-exceeds-the-unexpired-destination-limit">check if an <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source③⑨">attribution source</a> exceeds the unexpired destination limit</dfn> given an <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source④⓪">attribution source</a> <var>source</var>, run the following steps:</p>
   <ol>
    <li data-md>
     <p>Let <var>unexpiredSources</var> be all <a data-link-type="dfn" href="#attribution-rate-limit-record" id="ref-for-attribution-rate-limit-record⑤">attribution rate-limit records</a> <var>record</var> in the <a data-link-type="dfn" href="#attribution-rate-limit-cache" id="ref-for-attribution-rate-limit-cache②">attribution rate-limit cache</a> where all of the following are true:</p>
     <ul>
      <li data-md>
       <p><var>record</var>’s <a data-link-type="dfn" href="#attribution-rate-limit-record-scope" id="ref-for-attribution-rate-limit-record-scope②">scope</a> is "<code><a data-link-type="dfn" href="#rate-limit-scope-source" id="ref-for-rate-limit-scope-source①">source</a></code>"</p>
      <li data-md>
       <p><var>record</var>’s <a data-link-type="dfn" href="#attribution-rate-limit-record-source-site" id="ref-for-attribution-rate-limit-record-source-site⑤">source site</a> and <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-source-site" id="ref-for-attribution-source-source-site④">source site</a> are equal</p>
      <li data-md>
       <p><var>record</var>’s <a data-link-type="dfn" href="#attribution-rate-limit-record-reporting-origin" id="ref-for-attribution-rate-limit-record-reporting-origin③">reporting origin</a> and <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-reporting-origin" id="ref-for-attribution-source-reporting-origin⑦">reporting origin</a> are <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-site" id="ref-for-same-site①">same site</a></p>
      <li data-md>
       <p><var>record</var>’s <a data-link-type="dfn" href="#attribution-rate-limit-record-expiry-time" id="ref-for-attribution-rate-limit-record-expiry-time②">expiry time</a> is greater than <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-source-time" id="ref-for-attribution-source-source-time⑤">source time</a></p>
     </ul>
    <li data-md>
     <p>Let <var>unexpiredDestinations</var> be an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty⑨">empty</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set②②">set</a>.</p>
    <li data-md>
     <p>For each <a data-link-type="dfn" href="#attribution-rate-limit-record" id="ref-for-attribution-rate-limit-record⑥">attribution rate-limit record</a> <var>unexpiredRecord</var> of <var>unexpiredSources</var>:</p>
     <ol>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-append" id="ref-for-set-append④">Append</a> <var>unexpiredRecord</var>’s <a data-link-type="dfn" href="#attribution-rate-limit-record-attribution-destination" id="ref-for-attribution-rate-limit-record-attribution-destination⑤">attribution destination</a> to <var>unexpiredDestinations</var>.</p>
     </ol>
    <li data-md>
     <p>Let <var>newDestinations</var> be the result of taking the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-union" id="ref-for-set-union②">union</a> of <var>unexpiredDestinations</var> and <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-attribution-destinations" id="ref-for-attribution-source-attribution-destinations⑧">attribution destinations</a>.</p>
    <li data-md>
     <p>Return whether <var>newDestinations</var>’s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-size" id="ref-for-list-size①②">size</a> is greater than the user agent’s <a data-link-type="dfn" href="#max-destinations-covered-by-unexpired-sources" id="ref-for-max-destinations-covered-by-unexpired-sources">max destinations covered by unexpired sources</a>.</p>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="obtain-a-fake-report">obtain a fake report</dfn> given an <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source④①">attribution source</a> <var>source</var> and
a <a data-link-type="dfn" href="#trigger-state" id="ref-for-trigger-state②">trigger state</a> <var>triggerState</var>:</p>
   <ol>
    <li data-md>
     <p>Let <var>fakeConfig</var> be a new <a data-link-type="dfn" href="#event-level-trigger-configuration" id="ref-for-event-level-trigger-configuration①">event-level trigger configuration</a> with the items:</p>
     <dl>
      <dt data-md><a data-link-type="dfn" href="#event-level-trigger-configuration-trigger-data" id="ref-for-event-level-trigger-configuration-trigger-data①">trigger data</a>
      <dd data-md>
       <p><var>triggerState</var>’s <a data-link-type="dfn" href="#trigger-state-trigger-data" id="ref-for-trigger-state-trigger-data①">trigger data</a></p>
      <dt data-md><a data-link-type="dfn" href="#event-level-trigger-configuration-dedup-key" id="ref-for-event-level-trigger-configuration-dedup-key①">dedup key</a>
      <dd data-md>
       <p>null</p>
      <dt data-md><a data-link-type="dfn" href="#event-level-trigger-configuration-priority" id="ref-for-event-level-trigger-configuration-priority">priority</a>
      <dd data-md>
       <p>0</p>
      <dt data-md><a data-link-type="dfn" href="#event-level-trigger-configuration-filters" id="ref-for-event-level-trigger-configuration-filters">filters</a>
      <dd data-md>
       <p>«[ "<code>source_type</code>" → « <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-source-type" id="ref-for-attribution-source-source-type①">source type</a> » ]»</p>
     </dl>
    <li data-md>
     <p>Let <var>fakeTrigger</var> be a new <a data-link-type="dfn" href="#attribution-trigger" id="ref-for-attribution-trigger①②">attribution trigger</a> with the items:</p>
     <dl>
      <dt data-md><a data-link-type="dfn" href="#attribution-trigger-attribution-destination" id="ref-for-attribution-trigger-attribution-destination">attribution destinations</a>
      <dd data-md>
       <p><var>source</var>’s <a data-link-type="dfn" href="#attribution-source-attribution-destinations" id="ref-for-attribution-source-attribution-destinations⑨">attribution destinations</a></p>
      <dt data-md><a data-link-type="dfn" href="#attribution-trigger-trigger-time" id="ref-for-attribution-trigger-trigger-time">trigger time</a>
      <dd data-md>
       <p><var>source</var>’s <a data-link-type="dfn" href="#attribution-source-source-time" id="ref-for-attribution-source-source-time⑥">source time</a></p>
      <dt data-md><a data-link-type="dfn" href="#attribution-trigger-reporting-origin" id="ref-for-attribution-trigger-reporting-origin①">reporting origin</a>
      <dd data-md>
       <p><var>source</var>’s <a data-link-type="dfn" href="#attribution-source-reporting-origin" id="ref-for-attribution-source-reporting-origin⑧">reporting origin</a></p>
      <dt data-md><a data-link-type="dfn" href="#attribution-trigger-filters" id="ref-for-attribution-trigger-filters">filters</a>
      <dd data-md>
       <p>«[]»</p>
      <dt data-md><a data-link-type="dfn" href="#attribution-trigger-debug-key" id="ref-for-attribution-trigger-debug-key">debug key</a>
      <dd data-md>
       <p>null</p>
      <dt data-md><a data-link-type="dfn" href="#attribution-trigger-event-level-trigger-configurations" id="ref-for-attribution-trigger-event-level-trigger-configurations">event-level trigger configurations</a>
      <dd data-md>
       <p>« <var>fakeConfig</var> »</p>
      <dt data-md><a data-link-type="dfn" href="#attribution-trigger-aggregatable-trigger-data" id="ref-for-attribution-trigger-aggregatable-trigger-data">aggregatable trigger data</a>
      <dd data-md>
       <p>«»</p>
      <dt data-md><a data-link-type="dfn" href="#attribution-trigger-aggregatable-values" id="ref-for-attribution-trigger-aggregatable-values①">aggregatable values</a>
      <dd data-md>
       <p>«[]»</p>
      <dt data-md><a data-link-type="dfn" href="#attribution-trigger-aggregatable-dedup-keys" id="ref-for-attribution-trigger-aggregatable-dedup-keys">aggregatable dedup key</a>
      <dd data-md>
       <p>«»</p>
      <dt data-md><a data-link-type="dfn" href="#attribution-trigger-debug-reporting-enabled" id="ref-for-attribution-trigger-debug-reporting-enabled">debug reporting enabled</a>
      <dd data-md>
       <p>false</p>
      <dt data-md><a data-link-type="dfn" href="#attribution-trigger-aggregation-coordinator" id="ref-for-attribution-trigger-aggregation-coordinator">aggregation coordinator</a>
      <dd data-md>
       <p><a data-link-type="dfn" href="#default-aggregation-coordinator" id="ref-for-default-aggregation-coordinator">default aggregation coordinator</a></p>
      <dt data-md><a data-link-type="dfn" href="#attribution-trigger-verifications" id="ref-for-attribution-trigger-verifications">verifications</a>
      <dd data-md>
       <p>«»</p>
      <dt data-md><a data-link-type="dfn" href="#attribution-trigger-aggregatable-source-registration-time-configuration" id="ref-for-attribution-trigger-aggregatable-source-registration-time-configuration">aggregatable source registration time configuration</a>
      <dd data-md>
       <p>"<code><a data-link-type="dfn" href="#aggregatable-source-registration-time-configuration-exclude" id="ref-for-aggregatable-source-registration-time-configuration-exclude①">exclude</a></code>"</p>
     </dl>
    <li data-md>
     <p>Let <var>fakeReport</var> be the result of running <a data-link-type="dfn" href="#obtain-an-event-level-report" id="ref-for-obtain-an-event-level-report">obtain an event-level report</a> with <var>source</var>, <var>fakeTrigger</var>, and <var>fakeConfig</var>.</p>
    <li data-md>
     <p>Set <var>fakeReport</var>’s <a data-link-type="dfn" href="#attribution-report-report-time" id="ref-for-attribution-report-report-time">report time</a> to the result of
running <a data-link-type="dfn" href="#obtain-the-report-time-at-a-window" id="ref-for-obtain-the-report-time-at-a-window">obtain the report time at a window</a> with <var>source</var> and <var>triggerState</var>’s <a data-link-type="dfn" href="#trigger-state-report-window" id="ref-for-trigger-state-report-window①">report window</a>.</p>
    <li data-md>
     <p>Return <var>fakeReport</var>.</p>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="check-if-debug-reporting-is-allowed">check if debug reporting is allowed</dfn> given a <a data-link-type="dfn" href="#source-debug-data-type" id="ref-for-source-debug-data-type①">source debug data type</a> <var>dataType</var> and a <a data-link-type="dfn" href="#suitable-origin" id="ref-for-suitable-origin①③">suitable origin</a> <var>reportingOrigin</var>:</p>
   <ol>
    <li data-md>
     <p>If <var>dataType</var> is:</p>
     <dl class="switch">
      <dt data-md>"<code><a data-link-type="dfn" href="#source-debug-data-type-source-destination-limit" id="ref-for-source-debug-data-type-source-destination-limit">source-destination-limit</a></code>"
      <dt data-md>"<code><a data-link-type="dfn" href="#source-debug-data-type-source-destination-rate-limit" id="ref-for-source-debug-data-type-source-destination-rate-limit">source-destination-rate-limit</a></code>"
      <dd data-md>
       <p>Return <strong>allowed</strong>.</p>
      <dt data-md>"<code><a data-link-type="dfn" href="#source-debug-data-type-source-noised" id="ref-for-source-debug-data-type-source-noised">source-noised</a></code>"
      <dt data-md>"<code><a data-link-type="dfn" href="#source-debug-data-type-source-storage-limit" id="ref-for-source-debug-data-type-source-storage-limit">source-storage-limit</a></code>"
      <dt data-md>"<code><a data-link-type="dfn" href="#source-debug-data-type-source-success" id="ref-for-source-debug-data-type-source-success①">source-success</a></code>"
      <dt data-md>"<code><a data-link-type="dfn" href="#source-debug-data-type-source-unknown-error" id="ref-for-source-debug-data-type-source-unknown-error">source-unknown-error</a></code>"
      <dd data-md>
       <p>Return the result of running <a data-link-type="dfn" href="#check-if-cookie-based-debugging-is-allowed" id="ref-for-check-if-cookie-based-debugging-is-allowed①">check if cookie-based debugging is allowed</a> with <var>reportingOrigin</var>.</p>
     </dl>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="obtain-and-deliver-a-debug-report-on-source-registration">obtain and deliver a debug report on source registration</dfn> given a <a data-link-type="dfn" href="#source-debug-data-type" id="ref-for-source-debug-data-type②">source debug data type</a> <var>dataType</var> and an <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source④②">attribution source</a> <var>source</var>:</p>
   <ol>
    <li data-md>
     <p>If <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-debug-reporting-enabled" id="ref-for-attribution-source-debug-reporting-enabled①">debug reporting enabled</a> is false, return.</p>
    <li data-md>
     <p>If the result of running <a data-link-type="dfn" href="#check-if-debug-reporting-is-allowed" id="ref-for-check-if-debug-reporting-is-allowed">check if debug reporting is allowed</a> with <var>dataType</var> and <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-reporting-origin" id="ref-for-attribution-source-reporting-origin⑨">reporting origin</a> is <strong>blocked</strong>, return.</p>
    <li data-md>
     <p>Let <var>body</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map②②">map</a> with the following key/value pairs:</p>
     <dl>
      <dt data-md>"<code>attribution_destination</code>"
      <dd data-md>
       <p><var>source</var>’s <a data-link-type="dfn" href="#attribution-source-attribution-destinations" id="ref-for-attribution-source-attribution-destinations①⓪">attribution destinations</a>, <a data-link-type="dfn" href="#serialize-attribution-destinations" id="ref-for-serialize-attribution-destinations">serialized</a>.</p>
      <dt data-md>"<code>source_event_id</code>"
      <dd data-md>
       <p><var>source</var>’s <a data-link-type="dfn" href="#attribution-source-event-id" id="ref-for-attribution-source-event-id①">event ID</a>, <a data-link-type="dfn" href="#serialize-an-integer" id="ref-for-serialize-an-integer">serialized</a>.</p>
      <dt data-md>"<code>source_site</code>"
      <dd data-md>
       <p><var>source</var>’s <a data-link-type="dfn" href="#attribution-source-source-site" id="ref-for-attribution-source-source-site⑤">source site</a>, <a href="https://html.spec.whatwg.org/multipage/origin.html#serialization-of-a-site">serialized</a>.</p>
     </dl>
    <li data-md>
     <p>If <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-debug-key" id="ref-for-attribution-source-debug-key①">debug key</a> is not null, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set⑥">set</a> <var>body</var>["<code>source_debug_key</code>"]
to <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-debug-key" id="ref-for-attribution-source-debug-key②">debug key</a>, <a data-link-type="dfn" href="#serialize-an-integer" id="ref-for-serialize-an-integer①">serialized</a>.</p>
    <li data-md>
     <p>If <var>dataType</var> is:</p>
     <dl class="switch">
      <dt data-md>"<code><a data-link-type="dfn" href="#source-debug-data-type-source-destination-limit" id="ref-for-source-debug-data-type-source-destination-limit①">source-destination-limit</a></code>"
      <dd data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set⑦">Set</a> <var>body</var>["<code>limit</code>"] to the user agent’s <a data-link-type="dfn" href="#max-destinations-covered-by-unexpired-sources" id="ref-for-max-destinations-covered-by-unexpired-sources①">max destinations covered by unexpired sources</a>, <a data-link-type="dfn" href="#serialize-an-integer" id="ref-for-serialize-an-integer②">serialized</a>.</p>
      <dt data-md>"<code><a data-link-type="dfn" href="#source-debug-data-type-source-destination-rate-limit" id="ref-for-source-debug-data-type-source-destination-rate-limit①">source-destination-rate-limit</a></code>"
      <dd data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set⑧">Set</a> <var>body</var>["<code>limit</code>"] to the user agent’s <a data-link-type="dfn" href="#max-destinations-per-rate-limit-window" id="ref-for-max-destinations-per-rate-limit-window②">max destinations per rate-limit window</a>[1], <a data-link-type="dfn" href="#serialize-an-integer" id="ref-for-serialize-an-integer③">serialized</a>.</p>
      <dt data-md>"<code><a data-link-type="dfn" href="#source-debug-data-type-source-storage-limit" id="ref-for-source-debug-data-type-source-storage-limit①">source-storage-limit</a></code>"
      <dd data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set⑨">Set</a> <var>body</var>["<code>limit</code>"] to the user agent’s <a data-link-type="dfn" href="#max-pending-sources-per-source-origin" id="ref-for-max-pending-sources-per-source-origin">max pending sources per source origin</a>, <a data-link-type="dfn" href="#serialize-an-integer" id="ref-for-serialize-an-integer④">serialized</a>.</p>
     </dl>
    <li data-md>
     <p>Let <var>data</var> be a new <a data-link-type="dfn" href="#attribution-debug-data" id="ref-for-attribution-debug-data④">attribution debug data</a> with the items:</p>
     <dl>
      <dt data-md><a data-link-type="dfn" href="#attribution-debug-data-data-type" id="ref-for-attribution-debug-data-data-type①">data type</a>
      <dd data-md>
       <p><var>dataType</var></p>
      <dt data-md><a data-link-type="dfn" href="#attribution-debug-data-body" id="ref-for-attribution-debug-data-body①">body</a>
      <dd data-md>
       <p><var>body</var></p>
     </dl>
    <li data-md>
     <p>Run <a data-link-type="dfn" href="#obtain-and-deliver-a-debug-report" id="ref-for-obtain-and-deliver-a-debug-report">obtain and deliver a debug report</a> with « <var>data</var> » and <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-reporting-origin" id="ref-for-attribution-source-reporting-origin①⓪">reporting origin</a>.</p>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="process-an-attribution-source">process an attribution source</dfn> given an <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source④③">attribution source</a> <var>source</var>:</p>
   <ol>
    <li data-md>
     <p>Let <var>destinationRateLimitResult</var> be the result of running <a data-link-type="dfn" href="#check-if-an-attribution-source-exceeds-the-time-based-destination-limits" id="ref-for-check-if-an-attribution-source-exceeds-the-time-based-destination-limits">check if an attribution source exceeds the time-based destination limit</a> with <var>source</var>.</p>
    <li data-md>
     <p>If <var>destinationRateLimitResult</var> is "<code><a data-link-type="dfn" href="#destination-rate-limit-result-hit-reporting-limit" id="ref-for-destination-rate-limit-result-hit-reporting-limit③">hit reporting limit</a></code>":</p>
     <ol>
      <li data-md>
       <p>Run <a data-link-type="dfn" href="#obtain-and-deliver-a-debug-report-on-source-registration" id="ref-for-obtain-and-deliver-a-debug-report-on-source-registration">obtain and deliver a debug report on source registration</a> with "<code><a data-link-type="dfn" href="#source-debug-data-type-source-destination-rate-limit" id="ref-for-source-debug-data-type-source-destination-rate-limit②">source-destination-rate-limit</a></code>" and <var>source</var>.</p>
      <li data-md>
       <p>Return.</p>
     </ol>
    <li data-md>
     <p>If <var>destinationRateLimitResult</var> is "<code><a data-link-type="dfn" href="#destination-rate-limit-result-hit-global-limit" id="ref-for-destination-rate-limit-result-hit-global-limit②">hit global limit</a></code>":</p>
     <ol>
      <li data-md>
       <p>Run <a data-link-type="dfn" href="#obtain-and-deliver-a-debug-report-on-source-registration" id="ref-for-obtain-and-deliver-a-debug-report-on-source-registration①">obtain and deliver a debug report on source registration</a> with "<code><a data-link-type="dfn" href="#source-debug-data-type-source-success" id="ref-for-source-debug-data-type-source-success②">source-success</a></code>" and <var>source</var>.</p>
      <li data-md>
       <p>Return.</p>
     </ol>
    <li data-md>
     <p>Let <var>cache</var> be the user agent’s <a data-link-type="dfn" href="#attribution-source-cache" id="ref-for-attribution-source-cache③">attribution source cache</a>.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove" id="ref-for-list-remove④">Remove</a> all <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source④④">attribution sources</a> <var>entry</var> in <var>cache</var> where <var>entry</var>’s <a data-link-type="dfn" href="#attribution-source-expiry-time" id="ref-for-attribution-source-expiry-time">expiry time</a> is less than <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-source-time" id="ref-for-attribution-source-source-time⑦">source time</a>.</p>
    <li data-md>
     <p>Let <var>pendingSourcesForSourceOrigin</var> be the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set②③">set</a> of all <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source④⑤">attribution sources</a> <var>pendingSource</var> of <var>cache</var> where <var>pendingSource</var>’s <a data-link-type="dfn" href="#attribution-source-source-origin" id="ref-for-attribution-source-source-origin③">source origin</a> and <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-source-origin" id="ref-for-attribution-source-source-origin④">source origin</a> are <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin③">same origin</a>.</p>
    <li data-md>
     <p>If <var>pendingSourcesForSourceOrigin</var>’s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-size" id="ref-for-list-size①③">size</a> is greater than or equal
to the user agent’s <a data-link-type="dfn" href="#max-pending-sources-per-source-origin" id="ref-for-max-pending-sources-per-source-origin①">max pending sources per source origin</a>:</p>
     <ol>
      <li data-md>
       <p>Run <a data-link-type="dfn" href="#obtain-and-deliver-a-debug-report-on-source-registration" id="ref-for-obtain-and-deliver-a-debug-report-on-source-registration②">obtain and deliver a debug report on source registration</a> with "<code><a data-link-type="dfn" href="#source-debug-data-type-source-storage-limit" id="ref-for-source-debug-data-type-source-storage-limit②">source-storage-limit</a></code>" and <var>source</var>.</p>
      <li data-md>
       <p>Return.</p>
     </ol>
    <li data-md>
     <p>If the result of running <a data-link-type="dfn" href="#check-if-an-attribution-source-exceeds-the-unexpired-destination-limit" id="ref-for-check-if-an-attribution-source-exceeds-the-unexpired-destination-limit">check if an attribution source exceeds the unexpired destination limit</a> with <var>source</var> is true:</p>
     <ol>
      <li data-md>
       <p>Run <a data-link-type="dfn" href="#obtain-and-deliver-a-debug-report-on-source-registration" id="ref-for-obtain-and-deliver-a-debug-report-on-source-registration③">obtain and deliver a debug report on source registration</a> with "<a data-link-type="dfn" href="#source-debug-data-type-source-destination-limit" id="ref-for-source-debug-data-type-source-destination-limit②">source-destination-limit</a>" and <var>source</var>.</p>
      <li data-md>
       <p>Return.</p>
     </ol>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate①④">For each</a> <var>destination</var> in <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-attribution-destinations" id="ref-for-attribution-source-attribution-destinations①①">attribution destinations</a>:</p>
     <ol>
      <li data-md>
       <p>Let <var>rateLimitRecord</var> be a new <a data-link-type="dfn" href="#attribution-rate-limit-record" id="ref-for-attribution-rate-limit-record⑦">attribution rate-limit record</a> with the items:</p>
       <dl>
        <dt data-md><a data-link-type="dfn" href="#attribution-rate-limit-record-scope" id="ref-for-attribution-rate-limit-record-scope③">scope</a>
        <dd data-md>
         <p>"<code><a data-link-type="dfn" href="#rate-limit-scope-source" id="ref-for-rate-limit-scope-source②">source</a></code>"</p>
        <dt data-md><a data-link-type="dfn" href="#attribution-rate-limit-record-source-site" id="ref-for-attribution-rate-limit-record-source-site⑥">source site</a>
        <dd data-md>
         <p><var>source</var>’s <a data-link-type="dfn" href="#attribution-source-source-site" id="ref-for-attribution-source-source-site⑥">source site</a></p>
        <dt data-md><a data-link-type="dfn" href="#attribution-rate-limit-record-attribution-destination" id="ref-for-attribution-rate-limit-record-attribution-destination⑥">attribution destination</a>
        <dd data-md>
         <p><var>destination</var></p>
        <dt data-md><a data-link-type="dfn" href="#attribution-rate-limit-record-reporting-origin" id="ref-for-attribution-rate-limit-record-reporting-origin④">reporting origin</a>
        <dd data-md>
         <p><var>source</var>’s <a data-link-type="dfn" href="#attribution-source-reporting-origin" id="ref-for-attribution-source-reporting-origin①①">reporting origin</a></p>
        <dt data-md><a data-link-type="dfn" href="#attribution-rate-limit-record-time" id="ref-for-attribution-rate-limit-record-time①">time</a>
        <dd data-md>
         <p><var>source</var>’s <a data-link-type="dfn" href="#attribution-source-source-time" id="ref-for-attribution-source-source-time⑧">source time</a></p>
        <dt data-md><a data-link-type="dfn" href="#attribution-rate-limit-record-expiry-time" id="ref-for-attribution-rate-limit-record-expiry-time③">expiry time</a>
        <dd data-md>
         <p><var>source</var>’s <a data-link-type="dfn" href="#attribution-source-expiry-time" id="ref-for-attribution-source-expiry-time①">expiry time</a></p>
       </dl>
      <li data-md>
       <p>If the result of running <a data-link-type="dfn" href="#should-block-processing-for-reporting-origin-limit" id="ref-for-should-block-processing-for-reporting-origin-limit">should processing be blocked by reporting-origin limit</a> with <var>rateLimitRecord</var> is <strong>blocked</strong>:</p>
       <ol>
        <li data-md>
         <p>Run <a data-link-type="dfn" href="#obtain-and-deliver-a-debug-report-on-source-registration" id="ref-for-obtain-and-deliver-a-debug-report-on-source-registration④">obtain and deliver a debug report on source registration</a> with "<a data-link-type="dfn" href="#source-debug-data-type-source-success" id="ref-for-source-debug-data-type-source-success③">source-success</a>" and <var>source</var>.</p>
        <li data-md>
         <p>Return.</p>
       </ol>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-append" id="ref-for-set-append⑤">Append</a> <var>rateLimitRecord</var> to the <a data-link-type="dfn" href="#attribution-rate-limit-cache" id="ref-for-attribution-rate-limit-cache③">attribution rate-limit cache</a>.</p>
     </ol>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove" id="ref-for-list-remove⑤">Remove</a> all <a data-link-type="dfn" href="#attribution-rate-limit-record" id="ref-for-attribution-rate-limit-record⑧">attribution rate-limit records</a> <var>entry</var> from the <a data-link-type="dfn" href="#attribution-rate-limit-cache" id="ref-for-attribution-rate-limit-cache④">attribution rate-limit cache</a> if the result of running <a data-link-type="dfn" href="#can-attribution-rate-limit-record-be-removed" id="ref-for-can-attribution-rate-limit-record-be-removed②">can attribution rate-limit record be removed</a> with <var>entry</var> and <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-source-time" id="ref-for-attribution-source-source-time⑨">source time</a> is true.</p>
    <li data-md>
     <p>Let <var>debugDataType</var> be "<code><a data-link-type="dfn" href="#source-debug-data-type-source-success" id="ref-for-source-debug-data-type-source-success④">source-success</a></code>".</p>
    <li data-md>
     <p>If <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-randomized-response" id="ref-for-attribution-source-randomized-response①">randomized response</a> is not null and is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set②④">set</a>:</p>
     <ol>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate①⑤">For each</a> <a data-link-type="dfn" href="#trigger-state" id="ref-for-trigger-state③">trigger state</a> <var>triggerState</var> of <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-randomized-response" id="ref-for-attribution-source-randomized-response②">randomized response</a>:</p>
       <ol>
        <li data-md>
         <p>Let <var>fakeReport</var> be the result of running <a data-link-type="dfn" href="#obtain-a-fake-report" id="ref-for-obtain-a-fake-report">obtain a fake report</a> with <var>source</var> and <var>triggerState</var>.</p>
        <li data-md>
         <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-append" id="ref-for-set-append⑥">Append</a> <var>fakeReport</var> to the <a data-link-type="dfn" href="#event-level-report-cache" id="ref-for-event-level-report-cache③">event-level report cache</a>.</p>
       </ol>
      <li data-md>
       <p>If <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-randomized-response" id="ref-for-attribution-source-randomized-response③">randomized response</a> is not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty①⓪">empty</a>,
then set <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-event-level-attributable" id="ref-for-attribution-source-event-level-attributable">event-level attributable</a> value to false.</p>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate③">For each</a> <var>destination</var> in <a data-link-type="dfn" href="https://w3c.github.io/mediacapture-main/#dfn-source" id="ref-for-dfn-source">source</a>'s <a data-link-type="dfn" href="#attribution-source-attribution-destinations" id="ref-for-attribution-source-attribution-destinations①②">attribution destinations</a>:</p>
       <ol>
        <li data-md>
         <p>Let <var>rateLimitRecord</var> be a new <a data-link-type="dfn" href="#attribution-rate-limit-record" id="ref-for-attribution-rate-limit-record⑨">attribution rate-limit record</a> with the items:</p>
         <dl>
          <dt data-md><a data-link-type="dfn" href="#attribution-rate-limit-record-scope" id="ref-for-attribution-rate-limit-record-scope④">scope</a>
          <dd data-md>
           <p>"<code><a data-link-type="dfn" href="#rate-limit-scope-attribution" id="ref-for-rate-limit-scope-attribution①">attribution</a></code>"</p>
          <dt data-md><a data-link-type="dfn" href="#attribution-rate-limit-record-source-site" id="ref-for-attribution-rate-limit-record-source-site⑦">source site</a>
          <dd data-md>
           <p><var>source</var>’s <a data-link-type="dfn" href="#attribution-source-source-site" id="ref-for-attribution-source-source-site⑦">source site</a></p>
          <dt data-md><a data-link-type="dfn" href="#attribution-rate-limit-record-attribution-destination" id="ref-for-attribution-rate-limit-record-attribution-destination⑦">attribution destination</a>
          <dd data-md>
           <p><var>destination</var></p>
          <dt data-md><a data-link-type="dfn" href="#attribution-rate-limit-record-reporting-origin" id="ref-for-attribution-rate-limit-record-reporting-origin⑤">reporting origin</a>
          <dd data-md>
           <p><var>source</var>’s <a data-link-type="dfn" href="#attribution-source-reporting-origin" id="ref-for-attribution-source-reporting-origin①②">reporting origin</a></p>
          <dt data-md><a data-link-type="dfn" href="#attribution-rate-limit-record-time" id="ref-for-attribution-rate-limit-record-time②">time</a>
          <dd data-md>
           <p><var>source</var>’s <a data-link-type="dfn" href="#attribution-source-source-time" id="ref-for-attribution-source-source-time①⓪">source time</a></p>
          <dt data-md><a data-link-type="dfn" href="#attribution-rate-limit-record-expiry-time" id="ref-for-attribution-rate-limit-record-expiry-time④">expiry time</a>
          <dd data-md>
           <p>null</p>
         </dl>
        <li data-md>
         <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-append" id="ref-for-set-append⑦">Append</a> <var>rateLimitRecord</var> to the <a data-link-type="dfn" href="#attribution-rate-limit-cache" id="ref-for-attribution-rate-limit-cache⑤">attribution rate-limit cache</a>.</p>
       </ol>
      <li data-md>
       <p>Set <var>debugDataType</var> to "<code><a data-link-type="dfn" href="#source-debug-data-type-source-noised" id="ref-for-source-debug-data-type-source-noised①">source-noised</a></code>".</p>
     </ol>
    <li data-md>
     <p>Run <a data-link-type="dfn" href="#obtain-and-deliver-a-debug-report-on-source-registration" id="ref-for-obtain-and-deliver-a-debug-report-on-source-registration⑤">obtain and deliver a debug report on source registration</a> with <var>debugDataType</var> and <var>source</var>.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-append" id="ref-for-set-append⑧">Append</a> <var>source</var> to <var>cache</var>.</p>
   </ol>
   <p class="note" role="note"><span class="marker">Note:</span> Because a fake report does not have a "real" effective destination, we need to subtract from the
privacy budget of all possible destinations.</p>
   <h2 class="heading settled" data-level="13" id="trigger-algorithms"><span class="secno">13. </span><span class="content">Triggering Algorithms</span><a class="self-link" href="#trigger-algorithms"></a></h2>
   <h3 class="heading settled algorithm" data-algorithm="Creating an attribution trigger" data-level="13.1" id="attribution-trigger-creation"><span class="secno">13.1. </span><span class="content">Creating an attribution trigger</span><a class="self-link" href="#attribution-trigger-creation"></a></h3>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="parse-event-triggers">parse event triggers</dfn> given an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map②③">ordered map</a> <var>map</var>:</p>
   <ol>
    <li data-md>
     <p>Let <var>eventTriggers</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set②⑤">set</a>.</p>
    <li data-md>
     <p>If <var>map</var>["<code>event_trigger_data</code>"] does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists②①">exist</a>, return <var>eventTriggers</var>.</p>
    <li data-md>
     <p>Let <var>values</var> be <var>map</var>["<code>event_trigger_data</code>"].</p>
    <li data-md>
     <p>If <var>values</var> is not a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list③①">list</a>, return null.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate①⑥">For each</a> <var>value</var> of <var>values</var>:</p>
     <ol>
      <li data-md>
       <p>If <var>value</var> is not an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map②④">ordered map</a>, return null.</p>
      <li data-md>
       <p>Let <var>triggerData</var> be the result of running <a data-link-type="dfn" href="#parse-an-optional-64-bit-unsigned-integer" id="ref-for-parse-an-optional-64-bit-unsigned-integer③">parse an optional 64-bit unsigned integer</a> with <var>value</var>,
"<code>trigger_data</code>", and 0.</p>
      <li data-md>
       <p>If <var>triggerData</var> is an error, return null.</p>
      <li data-md>
       <p>Let <var>dedupKey</var> be the result of running <a data-link-type="dfn" href="#parse-an-optional-64-bit-unsigned-integer" id="ref-for-parse-an-optional-64-bit-unsigned-integer④">parse an optional 64-bit unsigned integer</a> with <var>value</var>,
"<code>deduplication_key</code>", and null.</p>
      <li data-md>
       <p>If <var>dedupKey</var> is an error, return null.</p>
      <li data-md>
       <p>Let <var>priority</var> be the result of running <a data-link-type="dfn" href="#parse-an-optional-64-bit-signed-integer" id="ref-for-parse-an-optional-64-bit-signed-integer①">parse an optional 64-bit signed integer</a> with <var>value</var>, "<code>priority</code>",
and 0.</p>
      <li data-md>
       <p>If <var>priority</var> is an error, return null.</p>
      <li data-md>
       <p>Let <var>filterPair</var> be the result of running <a data-link-type="dfn" href="#parse-a-filter-pair" id="ref-for-parse-a-filter-pair">parse a filter pair</a> with <var>value</var>.</p>
      <li data-md>
       <p>If <var>filterPair</var> is null, return null.</p>
      <li data-md>
       <p>Let <var>eventTrigger</var> be a new <a data-link-type="dfn" href="#event-level-trigger-configuration" id="ref-for-event-level-trigger-configuration②">event-level trigger configuration</a> with
the items:</p>
       <dl>
        <dt data-md><a data-link-type="dfn" href="#event-level-trigger-configuration-trigger-data" id="ref-for-event-level-trigger-configuration-trigger-data②">trigger data</a>
        <dd data-md>
         <p><var>triggerData</var></p>
        <dt data-md><a data-link-type="dfn" href="#event-level-trigger-configuration-dedup-key" id="ref-for-event-level-trigger-configuration-dedup-key②">dedup key</a>
        <dd data-md>
         <p><var>dedupKey</var></p>
        <dt data-md><a data-link-type="dfn" href="#event-level-trigger-configuration-priority" id="ref-for-event-level-trigger-configuration-priority①">priority</a>
        <dd data-md>
         <p><var>priority</var></p>
        <dt data-md><a data-link-type="dfn" href="#event-level-trigger-configuration-filters" id="ref-for-event-level-trigger-configuration-filters①">filters</a>
        <dd data-md>
         <p><var>filterPair</var>[0]</p>
        <dt data-md><a data-link-type="dfn" href="#event-level-trigger-configuration-negated-filters" id="ref-for-event-level-trigger-configuration-negated-filters">negated filters</a>
        <dd data-md>
         <p><var>filterPair</var>[1]</p>
       </dl>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-append" id="ref-for-set-append⑨">Append</a> <var>eventTrigger</var> to <var>eventTriggers</var>.</p>
     </ol>
    <li data-md>
     <p>Return <var>eventTriggers</var>.</p>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="parse-aggregatable-trigger-data">parse aggregatable trigger data</dfn> given an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map②⑤">ordered map</a> <var>map</var>:</p>
   <ol>
    <li data-md>
     <p>Let <var>aggregatableTriggerData</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list③②">list</a>.</p>
    <li data-md>
     <p>If <var>map</var>["<code>aggregatable_trigger_data</code>"] does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists②②">exist</a>, return <var>aggregatableTriggerData</var>.</p>
    <li data-md>
     <p>Let <var>values</var> be <var>map</var>["<code>aggregatable_trigger_data</code>"].</p>
    <li data-md>
     <p>If <var>values</var> is not a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list③③">list</a>, return null.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate①⑦">For each</a> <var>value</var> of <var>values</var>:</p>
     <ol>
      <li data-md>
       <p>If <var>value</var> is not an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map②⑥">ordered map</a>, return null.</p>
      <li data-md>
       <p>If <var>value</var>["<code>key_piece</code>"] does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists②③">exist</a> or is not a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string②⑦">string</a>, return null.</p>
      <li data-md>
       <p>Let <var>keyPiece</var> be the result of running <a data-link-type="dfn" href="#parse-an-aggregation-key-piece" id="ref-for-parse-an-aggregation-key-piece①">parse an aggregation key piece</a> with <var>value</var>["<code>key_piece</code>"].</p>
      <li data-md>
       <p>If <var>keyPiece</var> is an error, return null.</p>
      <li data-md>
       <p>Let <var>sourceKeys</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set②⑥">ordered set</a>.</p>
      <li data-md>
       <p>If <var>value</var>["<code>source_keys</code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists②④">exists</a>:</p>
       <ol>
        <li data-md>
         <p>If <var>value</var>["<code>source_keys</code>"] is not a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list③④">list</a>, return null.</p>
        <li data-md>
         <p>If <var>value</var>["<code>source_keys</code>"]'s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-size" id="ref-for-list-size①④">size</a> is greater than the user agent’s <a data-link-type="dfn" href="#max-aggregation-keys-per-attribution" id="ref-for-max-aggregation-keys-per-attribution①">max aggregation keys per attribution</a>, return null.</p>
        <li data-md>
         <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate①⑧">For each</a> <var>sourceKey</var> of <var>value</var>["<code>source_keys</code>"]:</p>
         <ol>
          <li data-md>
           <p>If <var>sourceKey</var> is not a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string②⑧">string</a>, return null.</p>
          <li data-md>
           <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-append" id="ref-for-set-append①⓪">Append</a> <var>sourceKey</var> to <var>sourceKeys</var>.</p>
         </ol>
       </ol>
      <li data-md>
       <p>Let <var>filterPair</var> be the result of running <a data-link-type="dfn" href="#parse-a-filter-pair" id="ref-for-parse-a-filter-pair①">parse a filter pair</a> with <var>value</var>.</p>
      <li data-md>
       <p>If <var>filterPair</var> is null, return null.</p>
      <li data-md>
       <p>Let <var>aggregatableTrigger</var> be a new <a data-link-type="dfn" href="#aggregatable-trigger-data" id="ref-for-aggregatable-trigger-data②">aggregatable trigger data</a> with the items:</p>
       <dl>
        <dt data-md><a data-link-type="dfn" href="#aggregatable-trigger-data-key-piece" id="ref-for-aggregatable-trigger-data-key-piece">key piece</a>
        <dd data-md>
         <p><var>keyPiece</var></p>
        <dt data-md><a data-link-type="dfn" href="#aggregatable-trigger-data-source-keys" id="ref-for-aggregatable-trigger-data-source-keys①">source keys</a>
        <dd data-md>
         <p><var>sourceKeys</var></p>
        <dt data-md><a data-link-type="dfn" href="#aggregatable-trigger-data-filters" id="ref-for-aggregatable-trigger-data-filters">filters</a>
        <dd data-md>
         <p><var>filterPair</var>[0]</p>
        <dt data-md><a data-link-type="dfn" href="#aggregatable-trigger-data-negated-filters" id="ref-for-aggregatable-trigger-data-negated-filters">negated filters</a>
        <dd data-md>
         <p><var>filterPair</var>[1]</p>
       </dl>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append①④">Append</a> <var>aggregatableTrigger</var> to <var>aggregatableTriggerData</var>.</p>
     </ol>
    <li data-md>
     <p>Return <var>aggregatableTriggerData</var>.</p>
   </ol>
   <p class="issue" id="issue-a89384b8"><a class="self-link" href="#issue-a89384b8"></a> Determine whether to limit <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-length" id="ref-for-string-length②">length</a> or <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-code-point-length" id="ref-for-string-code-point-length③">code point length</a> for <var>sourceKey</var> above.</p>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="parse-aggregatable-values">parse aggregatable values</dfn> given an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map②⑦">ordered map</a> <var>map</var>:</p>
   <ol>
    <li data-md>
     <p>If <var>map</var>["<code>aggregatable_values</code>"] does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists②⑤">exist</a>, return «[]».</p>
    <li data-md>
     <p>Let <var>values</var> be <var>map</var>["<code>aggregatable_values</code>"].</p>
    <li data-md>
     <p>If <var>values</var> is not an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map②⑧">ordered map</a>, return null.</p>
    <li data-md>
     <p>If <var>values</var>’s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-size" id="ref-for-map-size⑤">size</a> is greater than the user agent’s <a data-link-type="dfn" href="#max-aggregation-keys-per-attribution" id="ref-for-max-aggregation-keys-per-attribution②">max aggregation keys per attribution</a>, return null.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate④">For each</a> <var>key</var> → <var>value</var> of <var>values</var>:</p>
     <ol>
      <li data-md>
       <p>If <var>value</var> is not an integer, return null.</p>
      <li data-md>
       <p>If <var>value</var> is less than or equal to 0, return null.</p>
      <li data-md>
       <p>If <var>value</var> is greater than <a data-link-type="dfn" href="#allowed-aggregatable-budget-per-source" id="ref-for-allowed-aggregatable-budget-per-source">allowed aggregatable budget per source</a>, return null.</p>
     </ol>
    <li data-md>
     <p>Return <var>values</var>.</p>
   </ol>
   <p class="issue" id="issue-f31c9d0c①"><a class="self-link" href="#issue-f31c9d0c①"></a> Determine whether to limit <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-length" id="ref-for-string-length③">length</a> or <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-code-point-length" id="ref-for-string-code-point-length④">code point length</a> for <var>key</var> above.</p>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="parse-aggregatable-dedup-keys">parse aggregatable dedup keys</dfn> given an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map②⑨">ordered map</a> <var>map</var>:</p>
   <ol>
    <li data-md>
     <p>Let <var>aggregatableDedupKeys</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list③⑤">list</a>.</p>
    <li data-md>
     <p>If <var>map</var>["<code>aggregatable_deduplication_keys</code>"] does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists②⑥">exist</a>, return <var>aggregatableDedupKeys</var>.</p>
    <li data-md>
     <p>Let <var>values</var> be <var>map</var>["<code>aggregatable_deduplication_keys</code>"].</p>
    <li data-md>
     <p>If <var>values</var> is not a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list③⑥">list</a>, return null.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate①⑨">For each</a> <var>value</var> of <var>values</var>:</p>
     <ol>
      <li data-md>
       <p>If <var>value</var> is not an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map③⓪">ordered map</a>, return null.</p>
      <li data-md>
       <p>Let <var>dedupKey</var> be the result of running <a data-link-type="dfn" href="#parse-an-optional-64-bit-unsigned-integer" id="ref-for-parse-an-optional-64-bit-unsigned-integer⑤">parse an optional 64-bit unsigned integer</a> with <var>value</var>,
"<code>deduplication_key</code>", and null.</p>
      <li data-md>
       <p>If <var>dedupKey</var> is an error, return null.</p>
      <li data-md>
       <p>Let <var>filterPair</var> be the result of running <a data-link-type="dfn" href="#parse-a-filter-pair" id="ref-for-parse-a-filter-pair②">parse a filter pair</a> with <var>value</var>.</p>
      <li data-md>
       <p>If <var>filterPair</var> is null, return null.</p>
      <li data-md>
       <p>Let <var>aggregatableDedupKey</var> be a new <a data-link-type="dfn" href="#aggregatable-dedup-key" id="ref-for-aggregatable-dedup-key①">aggregatable dedup key</a> with the items:</p>
       <dl>
        <dt data-md><a data-link-type="dfn" href="#aggregatable-dedup-key-dedup-key" id="ref-for-aggregatable-dedup-key-dedup-key①">dedup key</a>
        <dd data-md>
         <p><var>dedupKey</var></p>
        <dt data-md><a data-link-type="dfn" href="#aggregatable-dedup-key-filters" id="ref-for-aggregatable-dedup-key-filters">filters</a>
        <dd data-md>
         <p><var>filterPair</var>[0]</p>
        <dt data-md><a data-link-type="dfn" href="#aggregatable-dedup-key-negated-filters" id="ref-for-aggregatable-dedup-key-negated-filters">negated filters</a>
        <dd data-md>
         <p><var>filterPair</var>[1]</p>
       </dl>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-append" id="ref-for-set-append①①">Append</a> <var>aggregatableDedupKey</var> to <var>aggregatableDedupKeys</var>.</p>
     </ol>
    <li data-md>
     <p>Return <var>aggregatableDedupKeys</var>.</p>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="create-an-attribution-trigger">create an attribution trigger</dfn> given a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence" id="ref-for-byte-sequence③">byte sequence</a> <var>json</var>, a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#site" id="ref-for-site①④">site</a> <var>destination</var>, a <a data-link-type="dfn" href="#suitable-origin" id="ref-for-suitable-origin①④">suitable origin</a> <var>reportingOrigin</var>, a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list③⑦">list</a> of <a data-link-type="dfn" href="#trigger-verification" id="ref-for-trigger-verification①">trigger verification</a> <var>triggerVerifications</var>,
and a <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-moment" id="ref-for-dfn-moment①④">moment</a> <var>triggerTime</var>:</p>
   <ol>
    <li data-md>
     <p>Let <var>value</var> be the result of running <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#parse-json-bytes-to-an-infra-value" id="ref-for-parse-json-bytes-to-an-infra-value①">parse JSON bytes to an Infra value</a> with <var>json</var>.</p>
    <li data-md>
     <p>If <var>value</var> is not an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map③①">ordered map</a>, return null.</p>
    <li data-md>
     <p>Let <var>eventTriggers</var> be the result of running <a data-link-type="dfn" href="#parse-event-triggers" id="ref-for-parse-event-triggers">parse event triggers</a> with <var>value</var>.</p>
    <li data-md>
     <p>If <var>eventTriggers</var> is null, return null.</p>
    <li data-md>
     <p>Let <var>aggregatableTriggerData</var> be the result of running <a data-link-type="dfn" href="#parse-aggregatable-trigger-data" id="ref-for-parse-aggregatable-trigger-data">parse aggregatable trigger data</a> with <var>value</var>.</p>
    <li data-md>
     <p>If <var>aggregatableTriggerData</var> is null, return null.</p>
    <li data-md>
     <p>Let <var>aggregatableValues</var> be the result of running <a data-link-type="dfn" href="#parse-aggregatable-values" id="ref-for-parse-aggregatable-values">parse aggregatable values</a> with <var>value</var>.</p>
    <li data-md>
     <p>If <var>aggregatableValues</var> is null, return null.</p>
    <li data-md>
     <p>Let <var>aggregatableDedupKeys</var> be the result of running <a data-link-type="dfn" href="#parse-aggregatable-dedup-keys" id="ref-for-parse-aggregatable-dedup-keys">parse aggregatable dedup keys</a> with <var>value</var>.</p>
    <li data-md>
     <p>If <var>aggregatableDedupKeys</var> is null, return null.</p>
    <li data-md>
     <p>Let <var>debugKey</var> be the result of running <a data-link-type="dfn" href="#parse-an-optional-64-bit-unsigned-integer" id="ref-for-parse-an-optional-64-bit-unsigned-integer⑥">parse an optional 64-bit unsigned integer</a> with <var>value</var>, "<code>debug_key</code>",
and null.</p>
    <li data-md>
     <p>If <var>debugKey</var> is an error, set <var>debugKey</var> to null.</p>
    <li data-md>
     <p>If the result of running <a data-link-type="dfn" href="#check-if-cookie-based-debugging-is-allowed" id="ref-for-check-if-cookie-based-debugging-is-allowed②">check if cookie-based debugging is allowed</a> with <var>reportingOrigin</var> is <strong>blocked</strong>, set <var>debugKey</var> to null.</p>
    <li data-md>
     <p>Let <var>filterPair</var> be the result of running <a data-link-type="dfn" href="#parse-a-filter-pair" id="ref-for-parse-a-filter-pair③">parse a filter pair</a> with <var>value</var>.</p>
    <li data-md>
     <p>If <var>filterPair</var> is null, return null.</p>
    <li data-md>
     <p>Let <var>debugReportingEnabled</var> be false.</p>
    <li data-md>
     <p>If <var>value</var>["<code>debug_reporting</code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists②⑦">exists</a> and is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#boolean" id="ref-for-boolean⑧">boolean</a>, set <var>debugReportingEnabled</var> to value["<code>debug_reporting</code>"].</p>
    <li data-md>
     <p>Let <var>aggregationCoordinator</var> be <a data-link-type="dfn" href="#default-aggregation-coordinator" id="ref-for-default-aggregation-coordinator①">default aggregation coordinator</a>.</p>
    <li data-md>
     <p>If <var>value</var>["<code>aggregation_coordinator_origin</code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists②⑧">exists</a>:</p>
     <ol>
      <li data-md>
       <p>If <var>value</var>["<code>aggregation_coordinator_origin</code>"] is not a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string②⑨">string</a>, return null.</p>
      <li data-md>
       <p>Let <var>url</var> be the result of running the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-parser" id="ref-for-concept-url-parser①">URL parser</a> on <var>value</var>["<code>aggregation_coordinator_origin</code>"].</p>
      <li data-md>
       <p>If <var>url</var> is failure or null, return null.</p>
      <li data-md>
       <p>If <var>url</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-origin" id="ref-for-concept-url-origin④">origin</a> is not an <a data-link-type="dfn" href="#aggregation-coordinator" id="ref-for-aggregation-coordinator③">aggregation coordinator</a>, return null.</p>
      <li data-md>
       <p>Set <var>aggregationCoordinator</var> to <var>url</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-origin" id="ref-for-concept-url-origin⑤">origin</a>.</p>
     </ol>
    <li data-md>
     <p>Let <var>aggregatableSourceRegTimeConfig</var> be "<code><a data-link-type="dfn" href="#aggregatable-source-registration-time-configuration-exclude" id="ref-for-aggregatable-source-registration-time-configuration-exclude②">exclude</a></code>".</p>
    <li data-md>
     <p>If <var>value</var>["<code>aggregatable_source_registration_time</code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists②⑨">exists</a>:</p>
     <ol>
      <li data-md>
       <p>If <var>value</var>["<code>aggregatable_source_registration_time</code>"] is not a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string③⓪">string</a>, return null.</p>
      <li data-md>
       <p>If <var>value</var>["<code>aggregatable_source_registration_time</code>"] is not an <a data-link-type="dfn" href="#aggregatable-source-registration-time-configuration" id="ref-for-aggregatable-source-registration-time-configuration②">aggregatable source registration time configuration</a>,
return null.</p>
      <li data-md>
       <p>Set <var>aggregatableSourceRegTimeConfig</var> to <var>value</var>["<code>aggregatable_source_registration_time</code>"].</p>
     </ol>
    <li data-md>
     <p>Let <var>trigger</var> be a new <a data-link-type="dfn" href="#attribution-trigger" id="ref-for-attribution-trigger①③">attribution trigger</a> with the items:</p>
     <dl>
      <dt data-md><a data-link-type="dfn" href="#attribution-trigger-attribution-destination" id="ref-for-attribution-trigger-attribution-destination①">attribution destination</a>
      <dd data-md>
       <p><var>destination</var></p>
      <dt data-md><a data-link-type="dfn" href="#attribution-trigger-trigger-time" id="ref-for-attribution-trigger-trigger-time①">trigger time</a>
      <dd data-md>
       <p><var>triggerTime</var></p>
      <dt data-md><a data-link-type="dfn" href="#attribution-trigger-reporting-origin" id="ref-for-attribution-trigger-reporting-origin②">reporting origin</a>
      <dd data-md>
       <p><var>reportingOrigin</var></p>
      <dt data-md><a data-link-type="dfn" href="#attribution-trigger-filters" id="ref-for-attribution-trigger-filters①">filters</a>
      <dd data-md>
       <p><var>filterPair</var>[0]</p>
      <dt data-md><a data-link-type="dfn" href="#attribution-trigger-negated-filters" id="ref-for-attribution-trigger-negated-filters">negated filters</a>
      <dd data-md>
       <p><var>filterPair</var>[1]</p>
      <dt data-md><a data-link-type="dfn" href="#attribution-trigger-debug-key" id="ref-for-attribution-trigger-debug-key①">debug key</a>
      <dd data-md>
       <p><var>debugKey</var></p>
      <dt data-md><a data-link-type="dfn" href="#attribution-trigger-event-level-trigger-configurations" id="ref-for-attribution-trigger-event-level-trigger-configurations①">event-level trigger configurations</a>
      <dd data-md>
       <p><var>eventTriggers</var></p>
      <dt data-md><a data-link-type="dfn" href="#attribution-trigger-aggregatable-trigger-data" id="ref-for-attribution-trigger-aggregatable-trigger-data①">aggregatable trigger data</a>
      <dd data-md>
       <p><var>aggregatableTriggerData</var></p>
      <dt data-md><a data-link-type="dfn" href="#attribution-trigger-aggregatable-values" id="ref-for-attribution-trigger-aggregatable-values②">aggregatable values</a>
      <dd data-md>
       <p><var>aggregatableValues</var></p>
      <dt data-md><a data-link-type="dfn" href="#attribution-trigger-aggregatable-dedup-keys" id="ref-for-attribution-trigger-aggregatable-dedup-keys①">aggregatable dedup keys</a>
      <dd data-md>
       <p><var>aggregatableDedupKeys</var></p>
      <dt data-md><a data-link-type="dfn" href="#attribution-trigger-verifications" id="ref-for-attribution-trigger-verifications①">verifications</a>
      <dd data-md>
       <p><var>triggerVerifications</var></p>
      <dt data-md><a data-link-type="dfn" href="#attribution-trigger-debug-reporting-enabled" id="ref-for-attribution-trigger-debug-reporting-enabled①">debug reporting enabled</a>
      <dd data-md>
       <p><var>debugReportingEnabled</var></p>
      <dt data-md><a data-link-type="dfn" href="#attribution-trigger-aggregation-coordinator" id="ref-for-attribution-trigger-aggregation-coordinator①">aggregation coordinator</a>
      <dd data-md>
       <p><var>aggregationCoordinator</var></p>
      <dt data-md><a data-link-type="dfn" href="#attribution-trigger-aggregatable-source-registration-time-configuration" id="ref-for-attribution-trigger-aggregatable-source-registration-time-configuration①">aggregatable source registration time configuration</a>
      <dd data-md>
       <p><var>aggregatableSourceRegTimeConfig</var></p>
     </dl>
    <li data-md>
     <p>Return <var>trigger</var>.</p>
   </ol>
   <p class="issue" id="issue-e6d5a493①"><a class="self-link" href="#issue-e6d5a493①"></a> Determine proper charset-handling for the JSON header value.</p>
   <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="13.2" data-lt="Does filter data match" data-noexport id="does-filter-data-match"><span class="secno">13.2. </span><span class="content">Does filter data match</span><a class="self-link" href="#does-filter-data-match" id="ref-for-does-filter-data-match"></a></h3>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="match-filter-values">match <a data-link-type="dfn" href="#filter-value" id="ref-for-filter-value①">filter values</a></dfn> given a <a data-link-type="dfn" href="#filter-value" id="ref-for-filter-value②">filter value</a> <var>a</var> and a <a data-link-type="dfn" href="#filter-value" id="ref-for-filter-value③">filter value</a> <var>b</var>:</p>
   <ol>
    <li data-md>
     <p>If <var>b</var> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty①①">is empty</a>, then:</p>
     <ol>
      <li data-md>
       <p>If <var>a</var> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty①②">is empty</a>, then return true.</p>
      <li data-md>
       <p>Otherwise, return false.</p>
     </ol>
    <li data-md>
     <p>Let <var>i</var> be the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-intersection" id="ref-for-set-intersection">intersection</a> of <var>a</var> and <var>b</var>.</p>
    <li data-md>
     <p>If <var>i</var> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty①③">is empty</a>, then return false.</p>
    <li data-md>
     <p>Return true.</p>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="match-filter-values-with-negation">match <a data-link-type="dfn" href="#filter-value" id="ref-for-filter-value④">filter values</a> with negation</dfn> given a <a data-link-type="dfn" href="#filter-value" id="ref-for-filter-value⑤">filter value</a> <var>a</var> and a <a data-link-type="dfn" href="#filter-value" id="ref-for-filter-value⑥">filter value</a> <var>b</var>:</p>
   <ol>
    <li data-md>
     <p>If <var>b</var> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty①④">is empty</a>, then:</p>
     <ol>
      <li data-md>
       <p>If <var>a</var> is not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty①⑤">empty</a>, then return true.</p>
      <li data-md>
       <p>Otherwise, return false.</p>
     </ol>
    <li data-md>
     <p>Let <var>i</var> be the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-intersection" id="ref-for-set-intersection①">intersection</a> of <var>a</var> and <var>b</var>.</p>
    <li data-md>
     <p>If <var>i</var> is not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty①⑥">empty</a>, then return false.</p>
    <li data-md>
     <p>Return true.</p>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="match-an-attribution-sources-filter-data-against-a-filter-config">match an attribution source’s filter data against a filter config</dfn> given an <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source④⑥">attribution source</a> <var>source</var>, a <a data-link-type="dfn" href="#filter-config" id="ref-for-filter-config①①">filter config</a> <var>filter</var>, a <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-moment" id="ref-for-dfn-moment①⑤">moment</a> <var>moment</var>, and a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#boolean" id="ref-for-boolean⑨">boolean</a> <dfn data-dfn-for="match an attribution source’s filter data against a filter config" data-dfn-type="dfn" data-noexport id="match-an-attribution-sources-filter-data-against-a-filter-config-isnegated"><var>isNegated</var><a class="self-link" href="#match-an-attribution-sources-filter-data-against-a-filter-config-isnegated"></a></dfn>:</p>
   <ol>
    <li data-md>
     <p>Let <var>lookbackWindow</var> be <var>filter</var>’s <a data-link-type="dfn" href="#filter-config-lookback-window" id="ref-for-filter-config-lookback-window①">lookback window</a>.</p>
    <li data-md>
     <p>If <var>lookbackWindow</var> is not null:</p>
     <ol>
      <li data-md>
       <p>If the <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-duration-from" id="ref-for-dfn-duration-from④">duration from</a> <var>moment</var> and the <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-source-time" id="ref-for-attribution-source-source-time①①">source time</a> is greater than <var>lookbackWindow</var>:</p>
       <ol>
        <li data-md>
         <p>If <var>isNegated</var> is false, return false.</p>
       </ol>
      <li data-md>
       <p>Else if <var>isNegated</var> is true, return false.</p>
     </ol>
     <p class="note" role="note"><span class="marker">Note:</span> If non-negated, the source must have been registered inside of the
lookback window. If negated, it must be outside of the lookback window.</p>
    <li data-md>
     <p>Let <var>filterMap</var> be <var>filter</var>’s <a data-link-type="dfn" href="#filter-config-map" id="ref-for-filter-config-map①">map</a>.</p>
    <li data-md>
     <p>Let <var>sourceData</var> be <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-filter-data" id="ref-for-attribution-source-filter-data③">filter data</a>.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate⑤">For each</a> <var>key</var> → <var>filterValues</var> of <var>filterMap</var>:</p>
     <ol>
      <li data-md>
       <p>If <var>sourceData</var>[<var>key</var>] does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists③⓪">exist</a>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue①⓪">continue</a>.</p>
      <li data-md>
       <p>Let <var>sourceValues</var> be <var>sourceData</var>[<var>key</var>].</p>
      <li data-md>
       <p>If <var>isNegated</var> is:</p>
       <dl class="switch">
        <dt>false
        <dd> If the result of running <a data-link-type="dfn" href="#match-filter-values" id="ref-for-match-filter-values">match filter values</a> with <var>sourceValues</var> and <var>filterValues</var> is false, return false.
        <dt>true
        <dd>If the result of running <a data-link-type="dfn" href="#match-filter-values-with-negation" id="ref-for-match-filter-values-with-negation">match filter values with negation</a> with <var>sourceValues</var> and <var>filterValues</var> is false, return false.
       </dl>
     </ol>
    <li data-md>
     <p>Return true.</p>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="match-an-attribution-sources-filter-data-against-filters">match an attribution source’s filter data against filters</dfn> given an <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source④⑦">attribution source</a> <var>source</var>, a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list③⑧">list</a> of <a data-link-type="dfn" href="#filter-config" id="ref-for-filter-config①②">filter configs</a> <var>filters</var>, a <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-moment" id="ref-for-dfn-moment①⑥">moment</a> <var>moment</var>, and a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#boolean" id="ref-for-boolean①⓪">boolean</a> <dfn class="dfn-paneled" data-dfn-for="match an attribution source’s filter data against filters" data-dfn-type="dfn" data-noexport id="match-an-attribution-sources-filter-data-against-filters-isnegated"><var>isNegated</var></dfn>:</p>
   <ol>
    <li data-md>
     <p>If <var>filters</var> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty①⑦">is empty</a>, return true.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate②⓪">For each</a> <var>filter</var> of <var>filters</var>:</p>
     <ol>
      <li data-md>
       <p>If the result of running <a data-link-type="dfn" href="#match-an-attribution-sources-filter-data-against-a-filter-config" id="ref-for-match-an-attribution-sources-filter-data-against-a-filter-config">match an attribution source’s filter data against a filter config</a> with <var>source</var>, <var>filter</var>, <var>moment</var>, and <var>isNegated</var> is true, return true.</p>
     </ol>
    <li data-md>
     <p>Return false.</p>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="match-an-attribution-sources-filter-data-against-filters-and-negated-filters">match an attribution source’s filter data against filters and negated filters</dfn> given an <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source④⑧">attribution source</a> <var>source</var>, a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list③⑨">list</a> of <a data-link-type="dfn" href="#filter-config" id="ref-for-filter-config①③">filter configs</a> <var>filters</var>, a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list④⓪">list</a> of <a data-link-type="dfn" href="#filter-config" id="ref-for-filter-config①④">filter configs</a> <var>notFilters</var>, and a <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-moment" id="ref-for-dfn-moment①⑦">moment</a> <var>moment</var>:</p>
   <ol>
    <li data-md>
     <p>If the result of running <a data-link-type="dfn" href="#match-an-attribution-sources-filter-data-against-filters" id="ref-for-match-an-attribution-sources-filter-data-against-filters">match an attribution source’s filter data against filters</a> with <var>source</var>, <var>filters</var>, <var>moment</var>, and <a data-link-type="dfn" href="#match-an-attribution-sources-filter-data-against-filters-isnegated" id="ref-for-match-an-attribution-sources-filter-data-against-filters-isnegated">isNegated</a> set to false is false, return false.</p>
    <li data-md>
     <p>If the result of running <a data-link-type="dfn" href="#match-an-attribution-sources-filter-data-against-filters" id="ref-for-match-an-attribution-sources-filter-data-against-filters①">match an attribution source’s filter data against filters</a> with <var>source</var>, <var>notFilters</var>, <var>moment</var>, and <a data-link-type="dfn" href="#match-an-attribution-sources-filter-data-against-filters-isnegated" id="ref-for-match-an-attribution-sources-filter-data-against-filters-isnegated①">isNegated</a> set to true is false, return false.</p>
    <li data-md>
     <p>Return true.</p>
   </ol>
   <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="13.3" data-lt="Should attribution be blocked by attribution rate limit" data-noexport id="should-block-attribution-for-attribution-limit"><span class="secno">13.3. </span><span class="content">Should attribution be blocked by attribution rate limit</span><a class="self-link" href="#should-block-attribution-for-attribution-limit" id="ref-for-should-block-attribution-for-attribution-limit"></a></h3>
   <p>Given an <a data-link-type="dfn" href="#attribution-trigger" id="ref-for-attribution-trigger①④">attribution trigger</a> <var>trigger</var> and <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source④⑨">attribution source</a> <var>sourceToAttribute</var>:</p>
   <ol>
    <li data-md>
     <p>Let <var>matchingRateLimitRecords</var> be all <a data-link-type="dfn" href="#attribution-rate-limit-record" id="ref-for-attribution-rate-limit-record①⓪">attribution rate-limit records</a> <var>record</var> of <a data-link-type="dfn" href="#attribution-rate-limit-cache" id="ref-for-attribution-rate-limit-cache⑥">attribution rate-limit cache</a> where all of the following are true:</p>
     <ul>
      <li data-md>
       <p><var>record</var>’s <a data-link-type="dfn" href="#attribution-rate-limit-record-scope" id="ref-for-attribution-rate-limit-record-scope⑤">scope</a> is "<code><a data-link-type="dfn" href="#rate-limit-scope-attribution" id="ref-for-rate-limit-scope-attribution②">attribution</a></code>"</p>
      <li data-md>
       <p><var>record</var>’s <a data-link-type="dfn" href="#attribution-rate-limit-record-source-site" id="ref-for-attribution-rate-limit-record-source-site⑧">source site</a> and <var>sourceToAttribute</var>’s <a data-link-type="dfn" href="#attribution-source-source-site" id="ref-for-attribution-source-source-site⑧">source site</a> are equal</p>
      <li data-md>
       <p><var>record</var>’s <a data-link-type="dfn" href="#attribution-rate-limit-record-attribution-destination" id="ref-for-attribution-rate-limit-record-attribution-destination⑧">attribution destination</a> and <var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-attribution-destination" id="ref-for-attribution-trigger-attribution-destination②">attribution destination</a> are equal</p>
      <li data-md>
       <p><var>record</var>’s <a data-link-type="dfn" href="#attribution-rate-limit-record-reporting-origin" id="ref-for-attribution-rate-limit-record-reporting-origin⑥">reporting origin</a> and <var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-reporting-origin" id="ref-for-attribution-trigger-reporting-origin③">reporting origin</a> are <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-site" id="ref-for-same-site②">same site</a></p>
      <li data-md>
       <p><var>record</var>’s <a data-link-type="dfn" href="#attribution-rate-limit-record-time" id="ref-for-attribution-rate-limit-record-time③">time</a> is at least <a data-link-type="dfn" href="#attribution-rate-limit-window" id="ref-for-attribution-rate-limit-window④">attribution rate-limit window</a> before <var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-trigger-time" id="ref-for-attribution-trigger-trigger-time②">trigger time</a></p>
     </ul>
    <li data-md>
     <p>If <var>matchingRateLimitRecords</var>’s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-size" id="ref-for-list-size①⑤">size</a> is greater than or equal to <a data-link-type="dfn" href="#max-attributions-per-rate-limit-window" id="ref-for-max-attributions-per-rate-limit-window">max attributions per rate-limit window</a>, return <strong>blocked</strong>.</p>
    <li data-md>
     <p>Return <strong>allowed</strong>.</p>
   </ol>
   <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="13.4" data-lt="Should processing be blocked by reporting-origin limit" data-noexport id="should-block-processing-for-reporting-origin-limit"><span class="secno">13.4. </span><span class="content">Should processing be blocked by reporting-origin limit</span><a class="self-link" href="#should-block-processing-for-reporting-origin-limit" id="ref-for-should-block-processing-for-reporting-origin-limit②"></a></h3>
   <p>Given an <a data-link-type="dfn" href="#attribution-rate-limit-record" id="ref-for-attribution-rate-limit-record①①">attribution rate-limit record</a> <var>newRecord</var>:</p>
   <ol>
    <li data-md>
     <p>Let <var>max</var> be <a data-link-type="dfn" href="#max-source-reporting-origins-per-rate-limit-window" id="ref-for-max-source-reporting-origins-per-rate-limit-window">max source reporting origins per rate-limit window</a>.</p>
    <li data-md>
     <p>If <var>newRecord</var>’s <a data-link-type="dfn" href="#attribution-rate-limit-record-scope" id="ref-for-attribution-rate-limit-record-scope⑥">scope</a> is "<code><a data-link-type="dfn" href="#rate-limit-scope-attribution" id="ref-for-rate-limit-scope-attribution③">attribution</a></code>", set <var>max</var> to <a data-link-type="dfn" href="#max-attribution-reporting-origins-per-rate-limit-window" id="ref-for-max-attribution-reporting-origins-per-rate-limit-window">max attribution reporting origins per rate-limit window</a>.</p>
    <li data-md>
     <p>Let <var>matchingRateLimitRecords</var> be all <a data-link-type="dfn" href="#attribution-rate-limit-record" id="ref-for-attribution-rate-limit-record①②">attribution rate-limit records</a> <var>record</var> in the <a data-link-type="dfn" href="#attribution-rate-limit-cache" id="ref-for-attribution-rate-limit-cache⑦">attribution rate-limit cache</a> where all of the following are true:</p>
     <ul>
      <li data-md>
       <p><var>record</var>’s <a data-link-type="dfn" href="#attribution-rate-limit-record-scope" id="ref-for-attribution-rate-limit-record-scope⑦">scope</a> and <var>newRecord</var>’s <a data-link-type="dfn" href="#attribution-rate-limit-record-scope" id="ref-for-attribution-rate-limit-record-scope⑧">scope</a> are equal</p>
      <li data-md>
       <p><var>record</var>’s <a data-link-type="dfn" href="#attribution-rate-limit-record-source-site" id="ref-for-attribution-rate-limit-record-source-site⑨">source site</a> and <var>newRecord</var>’s <a data-link-type="dfn" href="#attribution-rate-limit-record-source-site" id="ref-for-attribution-rate-limit-record-source-site①⓪">source site</a> are equal</p>
      <li data-md>
       <p><var>record</var>’s <a data-link-type="dfn" href="#attribution-rate-limit-record-attribution-destination" id="ref-for-attribution-rate-limit-record-attribution-destination⑨">attribution destination</a> and <var>newRecord</var>’s <a data-link-type="dfn" href="#attribution-rate-limit-record-attribution-destination" id="ref-for-attribution-rate-limit-record-attribution-destination①⓪">attribution destination</a> are equal</p>
      <li data-md>
       <p>The <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-duration-from" id="ref-for-dfn-duration-from⑤">duration from</a> <var>record</var>’s <a data-link-type="dfn" href="#attribution-rate-limit-record-time" id="ref-for-attribution-rate-limit-record-time④">time</a> and <var>newRecord</var>’s <a data-link-type="dfn" href="#attribution-rate-limit-record-time" id="ref-for-attribution-rate-limit-record-time⑤">time</a> is &lt;= <a data-link-type="dfn" href="#attribution-rate-limit-window" id="ref-for-attribution-rate-limit-window⑤">attribution rate-limit window</a></p>
     </ul>
    <li data-md>
     <p>Let <var>distinctReportingOrigins</var> be the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set②⑦">set</a> of all <a data-link-type="dfn" href="#attribution-rate-limit-record-reporting-origin" id="ref-for-attribution-rate-limit-record-reporting-origin⑦">reporting origin</a> in <var>matchingRateLimitRecords</var>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-union" id="ref-for-set-union③">unioned</a> with «<var>newRecord</var>’s <a data-link-type="dfn" href="#attribution-rate-limit-record-reporting-origin" id="ref-for-attribution-rate-limit-record-reporting-origin⑧">reporting origin</a>»</p>
    <li data-md>
     <p>If <var>distinctReportingOrigins</var>’s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-size" id="ref-for-list-size①⑥">size</a> is greater than <var>max</var>, return <strong>blocked</strong>.</p>
     <p class="note" role="note"><span class="marker">NOTE:</span> <a data-link-type="dfn" href="#rate-limit-scope-source" id="ref-for-rate-limit-scope-source③">source</a> scopes have an auxiliary <a data-link-type="dfn" href="#max-source-reporting-origins-per-source-reporting-site" id="ref-for-max-source-reporting-origins-per-source-reporting-site①">max source reporting origins per source reporting site</a> rate limit that also must be enforced.</p>
    <li data-md>
     <p>If <var>newRecord</var>’s <a data-link-type="dfn" href="#attribution-rate-limit-record-scope" id="ref-for-attribution-rate-limit-record-scope⑨">scope</a> is "<code><a data-link-type="dfn" href="#rate-limit-scope-attribution" id="ref-for-rate-limit-scope-attribution④">attribution</a></code>", return <strong>allowed</strong></p>
    <li data-md>
     <p>Let <var>matchingRateLimitRecords</var> be all <a data-link-type="dfn" href="#attribution-rate-limit-record" id="ref-for-attribution-rate-limit-record①③">attribution rate-limit records</a> <var>record</var> in the <a data-link-type="dfn" href="#attribution-rate-limit-cache" id="ref-for-attribution-rate-limit-cache⑧">attribution rate-limit cache</a> where all of the following are true:</p>
     <ul>
      <li data-md>
       <p><var>record</var>’s <a data-link-type="dfn" href="#attribution-rate-limit-record-scope" id="ref-for-attribution-rate-limit-record-scope①⓪">scope</a> is "<code><a data-link-type="dfn" href="#rate-limit-scope-source" id="ref-for-rate-limit-scope-source④">source</a></code>"</p>
      <li data-md>
       <p><var>record</var>’s <a data-link-type="dfn" href="#attribution-rate-limit-record-source-site" id="ref-for-attribution-rate-limit-record-source-site①①">source site</a> and <var>newRecord</var>’s <a data-link-type="dfn" href="#attribution-rate-limit-record-source-site" id="ref-for-attribution-rate-limit-record-source-site①②">source site</a> are equal</p>
      <li data-md>
       <p>The <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-duration-from" id="ref-for-dfn-duration-from⑥">duration from</a> <var>record</var>’s <a data-link-type="dfn" href="#attribution-rate-limit-record-time" id="ref-for-attribution-rate-limit-record-time⑥">time</a> and <var>newRecord</var>’s <a data-link-type="dfn" href="#attribution-rate-limit-record-time" id="ref-for-attribution-rate-limit-record-time⑦">time</a> is &lt;= <a data-link-type="dfn" href="#origin-rate-limit-window" id="ref-for-origin-rate-limit-window①">origin rate-limit window</a></p>
     </ul>
    <li data-md>
     <p>Let <var>distinctReportingOrigins</var> be the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set②⑧">set</a> of all <a data-link-type="dfn" href="#attribution-rate-limit-record-reporting-origin" id="ref-for-attribution-rate-limit-record-reporting-origin⑨">reporting origin</a> in <var>matchingRateLimitRecords</var>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-union" id="ref-for-set-union④">unioned</a> with «<var>newRecord</var>’s <a data-link-type="dfn" href="#attribution-rate-limit-record-reporting-origin" id="ref-for-attribution-rate-limit-record-reporting-origin①⓪">reporting origin</a>»</p>
    <li data-md>
     <p>If <var>distinctReportingOrigins</var>’s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-size" id="ref-for-list-size①⑦">size</a> is greater than <a data-link-type="dfn" href="#max-source-reporting-origins-per-source-reporting-site" id="ref-for-max-source-reporting-origins-per-source-reporting-site②">max source reporting origins per source reporting site</a>, return <strong>blocked</strong>.</p>
    <li data-md>
     <p>Return <strong>allowed</strong>.</p>
   </ol>
   <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="13.5" data-lt="Should attribution be blocked by rate limits" data-noexport id="should-block-attribution-for-rate-limits"><span class="secno">13.5. </span><span class="content">Should attribution be blocked by rate limits</span><a class="self-link" href="#should-block-attribution-for-rate-limits" id="ref-for-should-block-attribution-for-rate-limits"></a></h3>
   <p>Given an <a data-link-type="dfn" href="#attribution-trigger" id="ref-for-attribution-trigger①⑤">attribution trigger</a> <var>trigger</var>, an <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source⑤⓪">attribution source</a> <var>sourceToAttribute</var>, and an <a data-link-type="dfn" href="#attribution-rate-limit-record" id="ref-for-attribution-rate-limit-record①④">attribution rate-limit record</a> <var>newRecord</var>:</p>
   <ol>
    <li data-md>
     <p>If the result of running <a data-link-type="dfn" href="#should-block-attribution-for-attribution-limit" id="ref-for-should-block-attribution-for-attribution-limit①">should attribution be blocked by attribution rate limit</a> with <var>trigger</var> and <var>sourceToAttribute</var> is <strong>blocked</strong>:</p>
     <ol>
      <li data-md>
       <p>Let <var>debugData</var> be the result of running <a data-link-type="dfn" href="#obtain-debug-data-on-trigger-registration" id="ref-for-obtain-debug-data-on-trigger-registration">obtain debug data on trigger registration</a> with "<code><a data-link-type="dfn" href="#trigger-debug-data-type-trigger-attributions-per-source-destination-limit" id="ref-for-trigger-debug-data-type-trigger-attributions-per-source-destination-limit">trigger-attributions-per-source-destination-limit</a></code>", <var>trigger</var>, <var>sourceToAttribute</var> and <a data-link-type="dfn" href="#obtain-debug-data-on-trigger-registration-report" id="ref-for-obtain-debug-data-on-trigger-registration-report">report</a> set to null.</p>
      <li data-md>
       <p>Return the <a data-link-type="dfn" href="#triggering-result" id="ref-for-triggering-result②①">triggering result</a> ("<code><a data-link-type="dfn" href="#triggering-status-dropped" id="ref-for-triggering-status-dropped">dropped</a></code>", <var>debugData</var>).</p>
     </ol>
    <li data-md>
     <p>If the result of running <a data-link-type="dfn" href="#should-block-processing-for-reporting-origin-limit" id="ref-for-should-block-processing-for-reporting-origin-limit①">should processing be blocked by reporting-origin limit</a> with <var>newRecord</var> is <strong>blocked</strong>:</p>
     <ol>
      <li data-md>
       <p>Let <var>debugData</var> be the result of running <a data-link-type="dfn" href="#obtain-debug-data-on-trigger-registration" id="ref-for-obtain-debug-data-on-trigger-registration①">obtain debug data on trigger registration</a> with "<code><a data-link-type="dfn" href="#trigger-debug-data-type-trigger-reporting-origin-limit" id="ref-for-trigger-debug-data-type-trigger-reporting-origin-limit">trigger-reporting-origin-limit</a></code>", <var>trigger</var>, <var>sourceToAttribute</var> and <a data-link-type="dfn" href="#obtain-debug-data-on-trigger-registration-report" id="ref-for-obtain-debug-data-on-trigger-registration-report①">report</a> set to null.</p>
      <li data-md>
       <p>Return the <a data-link-type="dfn" href="#triggering-result" id="ref-for-triggering-result①">triggering result</a> ("<code><a data-link-type="dfn" href="#triggering-status-dropped" id="ref-for-triggering-status-dropped①">dropped</a></code>", <var>debugData</var>).</p>
     </ol>
    <li data-md>
     <p>Return null.</p>
   </ol>
   <h3 class="heading settled algorithm" data-algorithm="Creating aggregatable contributions" data-level="13.6" id="creating-aggregatable-contributions"><span class="secno">13.6. </span><span class="content">Creating aggregatable contributions</span><a class="self-link" href="#creating-aggregatable-contributions"></a></h3>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="create-aggregatable-contributions">create <a data-link-type="dfn" href="#aggregatable-contribution" id="ref-for-aggregatable-contribution②">aggregatable contributions</a></dfn> given an <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source⑤①">attribution source</a> <var>source</var> and an <a data-link-type="dfn" href="#attribution-trigger" id="ref-for-attribution-trigger①⑥">attribution trigger</a> <var>trigger</var>, run the following steps:</p>
   <ol>
    <li data-md>
     <p>Let <var>aggregationKeys</var> be the result of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-clone" id="ref-for-map-clone">cloning</a> <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-aggregation-keys" id="ref-for-attribution-source-aggregation-keys②">aggregation keys</a>.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate②①">For each</a> <var>triggerData</var> of <var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-aggregatable-trigger-data" id="ref-for-attribution-trigger-aggregatable-trigger-data②">aggregatable trigger data</a>:</p>
     <ol>
      <li data-md>
       <p>If the result of running <a data-link-type="dfn" href="#match-an-attribution-sources-filter-data-against-filters-and-negated-filters" id="ref-for-match-an-attribution-sources-filter-data-against-filters-and-negated-filters">match an attribution source’s filter data against filters and negated filters</a> with <var>source</var>, <var>triggerData</var>’s <a data-link-type="dfn" href="#aggregatable-trigger-data-filters" id="ref-for-aggregatable-trigger-data-filters①">filters</a>, <var>triggerData</var>’s <a data-link-type="dfn" href="#aggregatable-trigger-data-negated-filters" id="ref-for-aggregatable-trigger-data-negated-filters①">negated filters</a>, and <var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-trigger-time" id="ref-for-attribution-trigger-trigger-time③">trigger time</a> is false, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue①①">continue</a>:</p>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate②②">For each</a> <var>sourceKey</var> of <var>triggerData</var>’s <a data-link-type="dfn" href="#aggregatable-trigger-data-source-keys" id="ref-for-aggregatable-trigger-data-source-keys②">source keys</a>:</p>
       <ol>
        <li data-md>
         <p>If <var>aggregationKeys</var>[<var>sourceKey</var>] does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists③①">exist</a>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue①②">continue</a>.</p>
        <li data-md>
         <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set①⓪">Set</a> <var>aggregationKeys</var>[<var>sourceKey</var>] to <var>aggregationKeys</var>[<var>sourceKey</var>] bitwise-OR <var>triggerData</var>’s <a data-link-type="dfn" href="#aggregatable-trigger-data-key-piece" id="ref-for-aggregatable-trigger-data-key-piece①">key piece</a>.</p>
       </ol>
     </ol>
    <li data-md>
     <p>Let <var>aggregatableValues</var> be <var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-aggregatable-values" id="ref-for-attribution-trigger-aggregatable-values③">aggregatable values</a>.</p>
    <li data-md>
     <p>Let <var>contributions</var> be a new empty <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list④①">list</a>.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate⑥">For each</a> <var>id</var> → <var>key</var> of <var>aggregationKeys</var>:</p>
     <ol>
      <li data-md>
       <p>If <var>aggregatableValues</var>[<var>id</var>] does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists③②">exist</a>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue①③">continue</a>.</p>
      <li data-md>
       <p>Let <var>contribution</var> be a new <a data-link-type="dfn" href="#aggregatable-contribution" id="ref-for-aggregatable-contribution③">aggregatable contribution</a> with the items:</p>
       <dl>
        <dt data-md><a data-link-type="dfn" href="#aggregatable-contribution-key" id="ref-for-aggregatable-contribution-key">key</a>
        <dd data-md>
         <p><var>key</var></p>
        <dt data-md><a data-link-type="dfn" href="#aggregatable-contribution-value" id="ref-for-aggregatable-contribution-value①">value</a>
        <dd data-md>
         <p><var>aggregatableValues</var>[<var>id</var>]</p>
       </dl>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append①⑤">Append</a> <var>contribution</var> to <var>contributions</var>.</p>
     </ol>
    <li data-md>
     <p>Return <var>contributions</var>.</p>
   </ol>
   <h3 class="heading settled" data-level="13.7" id="can-source-create-aggregatable-contributions"><span class="secno">13.7. </span><span class="content">Can source create aggregatable contributions</span><a class="self-link" href="#can-source-create-aggregatable-contributions"></a></h3>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="check-if-an-attribution-source-can-create-aggregatable-contributions">check if an <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source⑤②">attribution source</a> can create <a data-link-type="dfn" href="#aggregatable-contribution" id="ref-for-aggregatable-contribution④">aggregatable contributions</a></dfn> given an <a data-link-type="dfn" href="#aggregatable-report" id="ref-for-aggregatable-report①⓪">aggregatable report</a> <var>report</var> and an <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source⑤③">attribution source</a> <var>sourceToAttribute</var>, run the following steps:</p>
   <ol>
    <li data-md>
     <p>Let <var>remainingAggregatableBudget</var> be <a data-link-type="dfn" href="#allowed-aggregatable-budget-per-source" id="ref-for-allowed-aggregatable-budget-per-source①">allowed aggregatable budget per source</a> minus <var>sourceToAttribute</var>’s <a data-link-type="dfn" href="#attribution-source-aggregatable-budget-consumed" id="ref-for-attribution-source-aggregatable-budget-consumed①">aggregatable budget consumed</a>.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert⑦">Assert</a>: <var>remainingAggregatableBudget</var> is greater than or equal to 0.</p>
    <li data-md>
     <p>If <var>report</var>’s <a data-link-type="dfn" href="#aggregatable-report-required-aggregatable-budget" id="ref-for-aggregatable-report-required-aggregatable-budget①">required aggregatable budget</a> is greater than <var>remainingAggregatableBudget</var>, return false.</p>
    <li data-md>
     <p>Return true.</p>
   </ol>
   <h3 class="heading settled" data-level="13.8" id="obtaining-trigger-debug-data"><span class="secno">13.8. </span><span class="content">Obtaining debug data on trigger registration</span><a class="self-link" href="#obtaining-trigger-debug-data"></a></h3>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="obtain-debug-data-body-on-trigger-registration">obtain debug data body on trigger registration</dfn> given a <a data-link-type="dfn" href="#trigger-debug-data-type" id="ref-for-trigger-debug-data-type">trigger debug data type</a> <var>dataType</var>, an <a data-link-type="dfn" href="#attribution-trigger" id="ref-for-attribution-trigger①⑦">attribution trigger</a> <var>trigger</var>,
an optional <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source⑤④">attribution source</a> <dfn data-dfn-for="obtain debug data body on trigger registration" data-dfn-type="dfn" data-lt="sourceToAttribute" data-noexport id="obtain-debug-data-body-on-trigger-registration-sourcetoattribute"> <var>sourceToAttribute</var><a class="self-link" href="#obtain-debug-data-body-on-trigger-registration-sourcetoattribute"></a></dfn>, and an optional <a data-link-type="dfn" href="#attribution-report" id="ref-for-attribution-report④">attribution report</a> <dfn data-dfn-for="obtain debug data body on trigger registration" data-dfn-type="dfn" data-noexport id="obtain-debug-data-body-on-trigger-registration-report"><var>report</var><a class="self-link" href="#obtain-debug-data-body-on-trigger-registration-report"></a></dfn>:</p>
   <ol>
    <li data-md>
     <p>Let <var>body</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-is-empty" id="ref-for-map-is-empty①">empty</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map③②">map</a>.</p>
    <li data-md>
     <p>If <var>dataType</var> is:</p>
     <dl class="switch">
      <dt data-md>"<code><a data-link-type="dfn" href="#trigger-debug-data-type-trigger-attributions-per-source-destination-limit" id="ref-for-trigger-debug-data-type-trigger-attributions-per-source-destination-limit①">trigger-attributions-per-source-destination-limit</a></code>"
      <dd data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set①①">Set</a> <var>body</var>["<code>limit</code>"] to the user agent’s <a data-link-type="dfn" href="#max-attributions-per-rate-limit-window" id="ref-for-max-attributions-per-rate-limit-window①">max attributions per rate-limit window</a>, <a data-link-type="dfn" href="#serialize-an-integer" id="ref-for-serialize-an-integer⑤">serialized</a>.</p>
      <dt data-md>"<code><a data-link-type="dfn" href="#trigger-debug-data-type-trigger-reporting-origin-limit" id="ref-for-trigger-debug-data-type-trigger-reporting-origin-limit①">trigger-reporting-origin-limit</a></code>"
      <dd data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set①②">Set</a> <var>body</var>["<code>limit</code>"] to the user agent’s <a data-link-type="dfn" href="#max-attribution-reporting-origins-per-rate-limit-window" id="ref-for-max-attribution-reporting-origins-per-rate-limit-window①">max attribution reporting origins per rate-limit window</a>, <a data-link-type="dfn" href="#serialize-an-integer" id="ref-for-serialize-an-integer⑥">serialized</a>.</p>
      <dt data-md>"<code><a data-link-type="dfn" href="#trigger-debug-data-type-trigger-event-storage-limit" id="ref-for-trigger-debug-data-type-trigger-event-storage-limit">trigger-event-storage-limit</a></code>"
      <dd data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set①③">Set</a> <var>body</var>["<code>limit</code>"] to <a data-link-type="dfn" href="#max-event-level-reports-per-attribution-destination" id="ref-for-max-event-level-reports-per-attribution-destination">max event-level reports per attribution destination</a>, <a data-link-type="dfn" href="#serialize-an-integer" id="ref-for-serialize-an-integer⑦">serialized</a>.</p>
      <dt data-md>"<code><a data-link-type="dfn" href="#trigger-debug-data-type-trigger-aggregate-storage-limit" id="ref-for-trigger-debug-data-type-trigger-aggregate-storage-limit">trigger-aggregate-storage-limit</a></code>"
      <dd data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set①④">Set</a> <var>body</var>["<code>limit</code>"] to <a data-link-type="dfn" href="#max-aggregatable-reports-per-attribution-destination" id="ref-for-max-aggregatable-reports-per-attribution-destination">max aggregatable reports per attribution destination</a>, <a data-link-type="dfn" href="#serialize-an-integer" id="ref-for-serialize-an-integer⑧">serialized</a>.</p>
      <dt data-md>"<code><a data-link-type="dfn" href="#trigger-debug-data-type-trigger-aggregate-insufficient-budget" id="ref-for-trigger-debug-data-type-trigger-aggregate-insufficient-budget">trigger-aggregate-insufficient-budget</a></code>"
      <dd data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set①⑤">Set</a> <var>body</var>["<code>limit</code>"] to <a data-link-type="dfn" href="#allowed-aggregatable-budget-per-source" id="ref-for-allowed-aggregatable-budget-per-source②">allowed aggregatable budget per source</a>, <a data-link-type="dfn" href="#serialize-an-integer" id="ref-for-serialize-an-integer⑨">serialized</a>.</p>
      <dt data-md>"<code><a data-link-type="dfn" href="#trigger-debug-data-type-trigger-aggregate-excessive-reports" id="ref-for-trigger-debug-data-type-trigger-aggregate-excessive-reports">trigger-aggregate-excessive-reports</a></code>"
      <dd data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set①⑥">Set</a> <var>body</var>["<code>limit</code>"] to <a data-link-type="dfn" href="#max-aggregatable-reports-per-source" id="ref-for-max-aggregatable-reports-per-source">max aggregatable reports per source</a>,</p>
      <dt data-md>"<code><a data-link-type="dfn" href="#trigger-debug-data-type-trigger-event-low-priority" id="ref-for-trigger-debug-data-type-trigger-event-low-priority">trigger-event-low-priority</a></code>"
      <dt data-md>"<code><a data-link-type="dfn" href="#trigger-debug-data-type-trigger-event-excessive-reports" id="ref-for-trigger-debug-data-type-trigger-event-excessive-reports">trigger-event-excessive-reports</a></code>"
      <dd data-md>
       <ol>
        <li data-md>
         <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert⑧">Assert</a>: <var>report</var> is not null and is an <a data-link-type="dfn" href="#event-level-report" id="ref-for-event-level-report⑦">event-level report</a>.</p>
        <li data-md>
         <p>Return the result of running <a data-link-type="dfn" href="#obtain-an-event-level-report-body" id="ref-for-obtain-an-event-level-report-body">obtain an event-level report body</a> with <var>report</var>.</p>
       </ol>
     </dl>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set①⑦">Set</a> <var>body</var>["<code>attribution_destination</code>"] to <var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-attribution-destination" id="ref-for-attribution-trigger-attribution-destination③">attribution destination</a>, <a href="https://html.spec.whatwg.org/multipage/origin.html#serialization-of-a-site">serialized</a>.</p>
    <li data-md>
     <p>If <var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-debug-key" id="ref-for-attribution-trigger-debug-key②">debug key</a> is not null, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set①⑧">set</a> <var>body</var>["<code>trigger_debug_key</code>"]
to <var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-debug-key" id="ref-for-attribution-trigger-debug-key③">debug key</a>, <a data-link-type="dfn" href="#serialize-an-integer" id="ref-for-serialize-an-integer①⓪">serialized</a>.</p>
    <li data-md>
     <p>If <var>sourceToAttribute</var> is not null:</p>
     <ol>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set①⑨">Set</a> <var>body</var>["<code>source_event_id</code>"] to <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-event-id" id="ref-for-attribution-source-event-id②">event ID</a>, <a data-link-type="dfn" href="#serialize-an-integer" id="ref-for-serialize-an-integer①①">serialized</a>.</p>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set②⓪">Set</a> <var>body</var>["<code>source_site</code>"] to <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-source-site" id="ref-for-attribution-source-source-site⑨">source site</a>, <a href="https://html.spec.whatwg.org/multipage/origin.html#serialization-of-a-site">serialized</a>.</p>
      <li data-md>
       <p>If <var>sourceToAttribute</var>’s <a data-link-type="dfn" href="#attribution-source-debug-key" id="ref-for-attribution-source-debug-key③">debug key</a> is not null, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set②①">set</a> <var>body</var>["<code>source_debug_key</code>"] to <var>sourceToAttribute</var>’s <a data-link-type="dfn" href="#attribution-source-debug-key" id="ref-for-attribution-source-debug-key④">debug key</a>, <a data-link-type="dfn" href="#serialize-an-integer" id="ref-for-serialize-an-integer①②">serialized</a>.</p>
     </ol>
    <li data-md>
     <p>Return <var>body</var>.</p>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="obtain-debug-data-on-trigger-registration">obtain debug data on trigger registration</dfn> given a <a data-link-type="dfn" href="#trigger-debug-data-type" id="ref-for-trigger-debug-data-type①">trigger debug data type</a> <var>dataType</var>,
an <a data-link-type="dfn" href="#attribution-trigger" id="ref-for-attribution-trigger①⑧">attribution trigger</a> <var>trigger</var>, an optional <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source⑤⑤">attribution source</a> <dfn data-dfn-for="obtain debug data on trigger registration" data-dfn-type="dfn" data-noexport id="obtain-debug-data-on-trigger-registration-sourcetoattribute"><var>sourceToAttribute</var><a class="self-link" href="#obtain-debug-data-on-trigger-registration-sourcetoattribute"></a></dfn>,
and an optional <a data-link-type="dfn" href="#attribution-report" id="ref-for-attribution-report⑤">attribution report</a> <dfn class="dfn-paneled" data-dfn-for="obtain debug data on trigger registration" data-dfn-type="dfn" data-noexport id="obtain-debug-data-on-trigger-registration-report"><var>report</var></dfn>:</p>
   <ol>
    <li data-md>
     <p>If <var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-debug-reporting-enabled" id="ref-for-attribution-trigger-debug-reporting-enabled②">debug reporting enabled</a> is false, return null.</p>
    <li data-md>
     <p>If the result of running <a data-link-type="dfn" href="#check-if-cookie-based-debugging-is-allowed" id="ref-for-check-if-cookie-based-debugging-is-allowed③">check if cookie-based debugging is allowed</a> with <var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-reporting-origin" id="ref-for-attribution-trigger-reporting-origin④">reporting origin</a> is <strong>blocked</strong>, return null.</p>
    <li data-md>
     <p>Let <var>data</var> be a new <a data-link-type="dfn" href="#attribution-debug-data" id="ref-for-attribution-debug-data⑤">attribution debug data</a> with the items:</p>
     <dl>
      <dt data-md><a data-link-type="dfn" href="#attribution-debug-data-data-type" id="ref-for-attribution-debug-data-data-type②">data type</a>
      <dd data-md>
       <p><var>dataType</var>.</p>
      <dt data-md><a data-link-type="dfn" href="#attribution-debug-data-body" id="ref-for-attribution-debug-data-body②">body</a>
      <dd data-md>
       <p>The result of running <a data-link-type="dfn" href="#obtain-debug-data-body-on-trigger-registration" id="ref-for-obtain-debug-data-body-on-trigger-registration">obtain debug data body on trigger registration</a> with <var>dataType</var>, <var>trigger</var>, <var>sourceToAttribute</var> and <var>report</var>.</p>
     </dl>
    <li data-md>
     <p>Return <var>data</var>.</p>
   </ol>
   <h3 class="heading settled algorithm" data-algorithm="Triggering event-level attribution" data-level="13.9" id="triggering-event-level-attribution"><span class="secno">13.9. </span><span class="content">Triggering event-level attribution</span><a class="self-link" href="#triggering-event-level-attribution"></a></h3>
   <p>An <a data-link-type="dfn" href="#event-level-report" id="ref-for-event-level-report⑧">event-level report</a> <var>a</var> <dfn class="dfn-paneled" data-dfn-for="event-level report" data-dfn-type="dfn" data-noexport id="event-level-report-is-lower-priority-than">is lower-priority than</dfn> an <a data-link-type="dfn" href="#event-level-report" id="ref-for-event-level-report⑨">event-level report</a> <var>b</var> if any of the following are true:</p>
   <ul>
    <li data-md>
     <p><var>a</var>’s <a data-link-type="dfn" href="#event-level-report-trigger-priority" id="ref-for-event-level-report-trigger-priority">trigger priority</a> is less than <var>b</var>’s <a data-link-type="dfn" href="#event-level-report-trigger-priority" id="ref-for-event-level-report-trigger-priority①">trigger priority</a>.</p>
    <li data-md>
     <p><var>a</var>’s <a data-link-type="dfn" href="#event-level-report-trigger-priority" id="ref-for-event-level-report-trigger-priority②">trigger priority</a> is equal to <var>b</var>’s <a data-link-type="dfn" href="#event-level-report-trigger-priority" id="ref-for-event-level-report-trigger-priority③">trigger priority</a> and <var>a</var>’s <a data-link-type="dfn" href="#event-level-report-trigger-time" id="ref-for-event-level-report-trigger-time">trigger time</a> is greater than <var>b</var>’s <a data-link-type="dfn" href="#event-level-report-trigger-time" id="ref-for-event-level-report-trigger-time①">trigger time</a>.</p>
   </ul>
   <p>An <dfn data-dfn-type="dfn" data-noexport id="event-level-report-replacement-result">event-level-report-replacement result<a class="self-link" href="#event-level-report-replacement-result"></a></dfn> is one of the following:</p>
   <dl>
    <dt data-md>"<dfn class="dfn-paneled" data-dfn-for="event-level-report-replacement result" data-dfn-type="dfn" data-noexport id="event-level-report-replacement-result-add-new-report"><code>add-new-report</code></dfn>"
    <dd data-md>
     <p>The new report should be added.</p>
    <dt data-md>"<dfn class="dfn-paneled" data-dfn-for="event-level-report-replacement result" data-dfn-type="dfn" data-noexport id="event-level-report-replacement-result-drop-new-report-none-to-replace"><code>drop-new-report-none-to-replace</code></dfn>"
    <dd data-md>
     <p>The new report should be dropped because the attributed source has reached
its <a data-link-type="dfn" href="#attribution-source-max-number-of-event-level-reports" id="ref-for-attribution-source-max-number-of-event-level-reports②">report limit</a> and there is no pending report to consider for replacement.</p>
    <dt data-md>"<dfn class="dfn-paneled" data-dfn-for="event-level-report-replacement result" data-dfn-type="dfn" data-noexport id="event-level-report-replacement-result-drop-new-report-low-priority"><code>drop-new-report-low-priority</code></dfn>"
    <dd data-md>
     <p>The new report should be dropped because the attributed source has reached
its <a data-link-type="dfn" href="#attribution-source-max-number-of-event-level-reports" id="ref-for-attribution-source-max-number-of-event-level-reports③">report limit</a> and the new report <a data-link-type="dfn" href="#event-level-report-is-lower-priority-than" id="ref-for-event-level-report-is-lower-priority-than">is lower-priority than</a> all pending
reports.</p>
   </dl>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="maybe-replace-event-level-report">maybe replace event-level report</dfn> given an <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source⑤⑥">attribution source</a> <var>sourceToAttribute</var> and an <a data-link-type="dfn" href="#event-level-report" id="ref-for-event-level-report①⓪">event-level report</a> <var>report</var>:</p>
   <ol>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert⑨">Assert</a>: <var>sourceToAttribute</var>’s <a data-link-type="dfn" href="#attribution-source-number-of-event-level-reports" id="ref-for-attribution-source-number-of-event-level-reports">number of event-level reports</a> is less than or equal to <var>sourceToAttribute</var>’s <a data-link-type="dfn" href="#attribution-source-max-number-of-event-level-reports" id="ref-for-attribution-source-max-number-of-event-level-reports④">max number of event-level reports</a>.</p>
    <li data-md>
     <p>If <var>sourceToAttribute</var>’s <a data-link-type="dfn" href="#attribution-source-number-of-event-level-reports" id="ref-for-attribution-source-number-of-event-level-reports①">number of event-level reports</a> is less than <var>sourceToAttribute</var>’s <a data-link-type="dfn" href="#attribution-source-max-number-of-event-level-reports" id="ref-for-attribution-source-max-number-of-event-level-reports⑤">max number of event-level reports</a>, return "<code><a data-link-type="dfn" href="#event-level-report-replacement-result-add-new-report" id="ref-for-event-level-report-replacement-result-add-new-report">add-new-report</a></code>".</p>
    <li data-md>
     <p>Let <var>matchingReports</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list④②">list</a> whose elements are all the elements in the <a data-link-type="dfn" href="#event-level-report-cache" id="ref-for-event-level-report-cache④">event-level report cache</a> whose <a data-link-type="dfn" href="#attribution-report-report-time" id="ref-for-attribution-report-report-time①">report time</a> and <a data-link-type="dfn" href="#event-level-report-source-identifier" id="ref-for-event-level-report-source-identifier">source identifier</a> are equal to <var>report</var>’s, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-sort-in-ascending-order" id="ref-for-list-sort-in-ascending-order">sorted in ascending order</a> using <a data-link-type="dfn" href="#event-level-report-is-lower-priority-than" id="ref-for-event-level-report-is-lower-priority-than①">is lower-priority than</a>.</p>
    <li data-md>
     <p>If <var>matchingReports</var> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty①⑧">is empty</a>:</p>
     <ol>
      <li data-md>
       <p>Set <var>sourceToAttribute</var>’s <a data-link-type="dfn" href="#attribution-source-event-level-attributable" id="ref-for-attribution-source-event-level-attributable①">event-level attributable</a> value to false.</p>
      <li data-md>
       <p>Return "<code><a data-link-type="dfn" href="#event-level-report-replacement-result-drop-new-report-none-to-replace" id="ref-for-event-level-report-replacement-result-drop-new-report-none-to-replace">drop-new-report-none-to-replace</a></code>".</p>
     </ol>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert①⓪">Assert</a>: <var>sourceToAttribute</var>’s <a data-link-type="dfn" href="#attribution-source-number-of-event-level-reports" id="ref-for-attribution-source-number-of-event-level-reports②">number of event-level reports</a> is greater than or equal to <var>matchingReports</var>’s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-size" id="ref-for-list-size①⑧">size</a>.</p>
    <li data-md>
     <p>Set <var>matchingReports</var> to the result of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-sort-in-ascending-order" id="ref-for-list-sort-in-ascending-order①">sorting</a> <var>matchingReports</var> in ascending order using <a data-link-type="dfn" href="#event-level-report-is-lower-priority-than" id="ref-for-event-level-report-is-lower-priority-than②">is lower-priority than</a>.</p>
    <li data-md>
     <p>Let <var>lowestPriorityReport</var> be <var>matchingReports</var>[0].</p>
    <li data-md>
     <p>If <var>report</var> <a data-link-type="dfn" href="#event-level-report-is-lower-priority-than" id="ref-for-event-level-report-is-lower-priority-than③">is lower-priority than</a> <var>lowestPriorityReport</var>,
return "<code><a data-link-type="dfn" href="#event-level-report-replacement-result-drop-new-report-low-priority" id="ref-for-event-level-report-replacement-result-drop-new-report-low-priority">drop-new-report-low-priority</a></code>".</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove" id="ref-for-list-remove⑥">Remove</a> <var>lowestPriorityReport</var> from the <a data-link-type="dfn" href="#event-level-report-cache" id="ref-for-event-level-report-cache⑤">event-level report cache</a>.</p>
    <li data-md>
     <p>Decrement <var>sourceToAttribute</var>’s <a data-link-type="dfn" href="#attribution-source-number-of-event-level-reports" id="ref-for-attribution-source-number-of-event-level-reports③">number of event-level reports</a> value by 1.</p>
    <li data-md>
     <p>Return "<code><a data-link-type="dfn" href="#event-level-report-replacement-result-add-new-report" id="ref-for-event-level-report-replacement-result-add-new-report①">add-new-report</a></code>".</p>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="trigger-event-level-attribution">trigger event-level attribution</dfn> given an <a data-link-type="dfn" href="#attribution-trigger" id="ref-for-attribution-trigger①⑨">attribution trigger</a> <var>trigger</var>, an <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source⑤⑦">attribution source</a> <var>sourceToAttribute</var>, and an <a data-link-type="dfn" href="#attribution-rate-limit-record" id="ref-for-attribution-rate-limit-record①⑤">attribution rate-limit record</a> <var>rateLimitRecord</var>, run the following steps:</p>
   <ol>
    <li data-md>
     <p>If <var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-event-level-trigger-configurations" id="ref-for-attribution-trigger-event-level-trigger-configurations②">event-level trigger configurations</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty①⑨">is empty</a>, return the <a data-link-type="dfn" href="#triggering-result" id="ref-for-triggering-result②">triggering result</a> ("<code><a data-link-type="dfn" href="#triggering-status-dropped" id="ref-for-triggering-status-dropped②">dropped</a></code>", null).</p>
    <li data-md>
     <p>If <var>sourceToAttribute</var>’s <a data-link-type="dfn" href="#attribution-source-randomized-response" id="ref-for-attribution-source-randomized-response④">randomized response</a> is not null and is not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty②⓪">empty</a>:</p>
     <ol>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert①①">Assert</a>: <var>sourceToAttribute</var>’s <a data-link-type="dfn" href="#attribution-source-event-level-attributable" id="ref-for-attribution-source-event-level-attributable②">event-level attributable</a> is false.</p>
      <li data-md>
       <p>Let <var>debugData</var> be the result of running <a data-link-type="dfn" href="#obtain-debug-data-on-trigger-registration" id="ref-for-obtain-debug-data-on-trigger-registration②">obtain debug data on trigger registration</a> with "<code><a data-link-type="dfn" href="#trigger-debug-data-type-trigger-event-noise" id="ref-for-trigger-debug-data-type-trigger-event-noise">trigger-event-noise</a></code>", <var>trigger</var>, <var>sourceToAttribute</var> and <a data-link-type="dfn" href="#obtain-debug-data-on-trigger-registration-report" id="ref-for-obtain-debug-data-on-trigger-registration-report②">report</a> set to null.</p>
      <li data-md>
       <p>Return the <a data-link-type="dfn" href="#triggering-result" id="ref-for-triggering-result③">triggering result</a> ("<code><a data-link-type="dfn" href="#triggering-status-dropped" id="ref-for-triggering-status-dropped③">dropped</a></code>", <var>debugData</var>).</p>
     </ol>
    <li data-md>
     <p>Let <var>windowResult</var> be the result of <a data-link-type="dfn" href="#check-whether-a-moment-falls-within-a-window" id="ref-for-check-whether-a-moment-falls-within-a-window">check whether a moment falls within a window</a> with <var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-trigger-time" id="ref-for-attribution-trigger-trigger-time④">trigger time</a> and <var>sourceToAttribute</var>’s <a data-link-type="dfn" href="#attribution-source-total-event-level-report-window" id="ref-for-attribution-source-total-event-level-report-window①">total event-level report window</a>.</p>
    <li data-md>
     <p>If <var>windowResult</var> is <strong>falls before</strong>:</p>
     <ol>
      <li data-md>
       <p>Let <var>debugData</var> be the result of running <a data-link-type="dfn" href="#obtain-debug-data-on-trigger-registration" id="ref-for-obtain-debug-data-on-trigger-registration③">obtain debug data on trigger registration</a> with "<code><a data-link-type="dfn" href="#trigger-debug-data-type-trigger-event-report-window-not-started" id="ref-for-trigger-debug-data-type-trigger-event-report-window-not-started">trigger-event-report-window-not-started</a></code>", <var>trigger</var>, <var>sourceToAttribute</var> and <a data-link-type="dfn" href="#obtain-debug-data-on-trigger-registration-report" id="ref-for-obtain-debug-data-on-trigger-registration-report③">report</a> set to null.</p>
      <li data-md>
       <p>Return the <a data-link-type="dfn" href="#triggering-result" id="ref-for-triggering-result④">triggering result</a> ("<code><a data-link-type="dfn" href="#triggering-status-dropped" id="ref-for-triggering-status-dropped④">dropped</a></code>", <var>debugData</var>).</p>
     </ol>
    <li data-md>
     <p>If <var>windowResult</var> is <strong>falls after</strong>:</p>
     <ol>
      <li data-md>
       <p>Let <var>debugData</var> be the result of running <a data-link-type="dfn" href="#obtain-debug-data-on-trigger-registration" id="ref-for-obtain-debug-data-on-trigger-registration④">obtain debug data on trigger registration</a> with "<code><a data-link-type="dfn" href="#trigger-debug-data-type-trigger-event-report-window-passed" id="ref-for-trigger-debug-data-type-trigger-event-report-window-passed">trigger-event-report-window-passed</a></code>", <var>trigger</var>, <var>sourceToAttribute</var> and <a data-link-type="dfn" href="#obtain-debug-data-on-trigger-registration-report" id="ref-for-obtain-debug-data-on-trigger-registration-report④">report</a> set to null.</p>
      <li data-md>
       <p>Return the <a data-link-type="dfn" href="#triggering-result" id="ref-for-triggering-result⑤">triggering result</a> ("<code><a data-link-type="dfn" href="#triggering-status-dropped" id="ref-for-triggering-status-dropped⑤">dropped</a></code>", <var>debugData</var>).</p>
     </ol>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert①②">Assert</a>: <var>windowResult</var> is <strong>falls within</strong>.</p>
    <li data-md>
     <p>Let <var>matchedConfig</var> be null.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate②③">For each</a> <a data-link-type="dfn" href="#event-level-trigger-configuration" id="ref-for-event-level-trigger-configuration③">event-level trigger configuration</a> <var>config</var> of <var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-event-level-trigger-configurations" id="ref-for-attribution-trigger-event-level-trigger-configurations③">event-level trigger configurations</a>:</p>
     <ol>
      <li data-md>
       <p>If the result of running <a data-link-type="dfn" href="#match-an-attribution-sources-filter-data-against-filters-and-negated-filters" id="ref-for-match-an-attribution-sources-filter-data-against-filters-and-negated-filters①">match an attribution source’s filter data against filters and negated filters</a> with <var>sourceToAttribute</var>, <var>config</var>’s <a data-link-type="dfn" href="#event-level-trigger-configuration-filters" id="ref-for-event-level-trigger-configuration-filters②">filters</a>, <var>config</var>’s <a data-link-type="dfn" href="#event-level-trigger-configuration-negated-filters" id="ref-for-event-level-trigger-configuration-negated-filters①">negated filters</a>, and <var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-trigger-time" id="ref-for-attribution-trigger-trigger-time⑤">trigger time</a> is true:</p>
       <ol>
        <li data-md>
         <p>Set <var>matchedConfig</var> to <var>config</var>.</p>
        <li data-md>
         <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-break" id="ref-for-iteration-break">Break</a>.</p>
       </ol>
     </ol>
    <li data-md>
     <p>If <var>matchedConfig</var> is null:</p>
     <ol>
      <li data-md>
       <p>Let <var>debugData</var> be the result of running <a data-link-type="dfn" href="#obtain-debug-data-on-trigger-registration" id="ref-for-obtain-debug-data-on-trigger-registration⑤">obtain debug data on trigger registration</a> with "<code><a data-link-type="dfn" href="#trigger-debug-data-type-trigger-event-no-matching-configurations" id="ref-for-trigger-debug-data-type-trigger-event-no-matching-configurations">trigger-event-no-matching-configurations</a></code>", <var>trigger</var>, <var>sourceToAttribute</var> and <a data-link-type="dfn" href="#obtain-debug-data-on-trigger-registration-report" id="ref-for-obtain-debug-data-on-trigger-registration-report⑤">report</a> set to null.</p>
      <li data-md>
       <p>Return the <a data-link-type="dfn" href="#triggering-result" id="ref-for-triggering-result⑥">triggering result</a> ("<code><a data-link-type="dfn" href="#triggering-status-dropped" id="ref-for-triggering-status-dropped⑥">dropped</a></code>", <var>debugData</var>).</p>
     </ol>
    <li data-md>
     <p>If <var>matchedConfig</var>’s <a data-link-type="dfn" href="#event-level-trigger-configuration-dedup-key" id="ref-for-event-level-trigger-configuration-dedup-key③">dedup key</a> is not null and <var>sourceToAttribute</var>’s <a data-link-type="dfn" href="#attribution-source-dedup-keys" id="ref-for-attribution-source-dedup-keys">dedup keys</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-contain" id="ref-for-list-contain">contains</a> it:</p>
     <ol>
      <li data-md>
       <p>Let <var>debugData</var> be the result of running <a data-link-type="dfn" href="#obtain-debug-data-on-trigger-registration" id="ref-for-obtain-debug-data-on-trigger-registration⑥">obtain debug data on trigger registration</a> with "<code><a data-link-type="dfn" href="#trigger-debug-data-type-trigger-event-deduplicated" id="ref-for-trigger-debug-data-type-trigger-event-deduplicated">trigger-event-deduplicated</a></code>", <var>trigger</var>, <var>sourceToAttribute</var> and <a data-link-type="dfn" href="#obtain-debug-data-on-trigger-registration-report" id="ref-for-obtain-debug-data-on-trigger-registration-report⑥">report</a> set to null.</p>
      <li data-md>
       <p>Return the <a data-link-type="dfn" href="#triggering-result" id="ref-for-triggering-result⑦">triggering result</a> ("<code><a data-link-type="dfn" href="#triggering-status-dropped" id="ref-for-triggering-status-dropped⑦">dropped</a></code>", <var>debugData</var>).</p>
     </ol>
    <li data-md>
     <p>Let <var>numMatchingReports</var> be the number of entries in the <a data-link-type="dfn" href="#event-level-report-cache" id="ref-for-event-level-report-cache⑥">event-level report cache</a> whose <a data-link-type="dfn" href="#event-level-report-attribution-destinations" id="ref-for-event-level-report-attribution-destinations②">attribution destinations</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-contain" id="ref-for-list-contain①">contains</a> <var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-attribution-destination" id="ref-for-attribution-trigger-attribution-destination④">attribution destination</a>.</p>
    <li data-md>
     <p>If <var>numMatchingReports</var> is greater than or equal to the user agent’s <a data-link-type="dfn" href="#max-event-level-reports-per-attribution-destination" id="ref-for-max-event-level-reports-per-attribution-destination①">max event-level reports per attribution destination</a>:</p>
     <ol>
      <li data-md>
       <p>Let <var>debugData</var> be the result of running <a data-link-type="dfn" href="#obtain-debug-data-on-trigger-registration" id="ref-for-obtain-debug-data-on-trigger-registration⑦">obtain debug data on trigger registration</a> with "<code><a data-link-type="dfn" href="#trigger-debug-data-type-trigger-event-storage-limit" id="ref-for-trigger-debug-data-type-trigger-event-storage-limit①">trigger-event-storage-limit</a></code>", <var>trigger</var>, <var>sourceToAttribute</var> and <a data-link-type="dfn" href="#obtain-debug-data-on-trigger-registration-report" id="ref-for-obtain-debug-data-on-trigger-registration-report⑦">report</a> set to null.</p>
      <li data-md>
       <p>Return the <a data-link-type="dfn" href="#triggering-result" id="ref-for-triggering-result⑧">triggering result</a> ("<code><a data-link-type="dfn" href="#triggering-status-dropped" id="ref-for-triggering-status-dropped⑧">dropped</a></code>", <var>debugData</var>).</p>
     </ol>
    <li data-md>
     <p>If the result of running <a data-link-type="dfn" href="#should-block-attribution-for-rate-limits" id="ref-for-should-block-attribution-for-rate-limits②">should attribution be blocked by rate limits</a> with <var>trigger</var>, <var>sourceToAttribute</var>, and <var>rateLimitRecord</var> is not null,
return it.</p>
    <li data-md>
     <p>Let <var>report</var> be the result of running <a data-link-type="dfn" href="#obtain-an-event-level-report" id="ref-for-obtain-an-event-level-report①">obtain an event-level report</a> with <var>sourceToAttribute</var>, <var>trigger</var>,
and <var>matchedConfig</var>.</p>
    <li data-md>
     <p>If <var>sourceToAttribute</var>’s <a data-link-type="dfn" href="#attribution-source-event-level-attributable" id="ref-for-attribution-source-event-level-attributable③">event-level attributable</a> value
is false:</p>
     <ol>
      <li data-md>
       <p>Let <var>debugData</var> be the result of running <a data-link-type="dfn" href="#obtain-debug-data-on-trigger-registration" id="ref-for-obtain-debug-data-on-trigger-registration⑧">obtain debug data on trigger registration</a> with "<code><a data-link-type="dfn" href="#trigger-debug-data-type-trigger-event-excessive-reports" id="ref-for-trigger-debug-data-type-trigger-event-excessive-reports①">trigger-event-excessive-reports</a></code>", <var>trigger</var>, <var>sourceToAttribute</var> and <var>report</var>.</p>
      <li data-md>
       <p>Return the <a data-link-type="dfn" href="#triggering-result" id="ref-for-triggering-result⑨">triggering result</a> ("<code><a data-link-type="dfn" href="#triggering-status-dropped" id="ref-for-triggering-status-dropped⑨">dropped</a></code>", <var>debugData</var>).</p>
     </ol>
    <li data-md>
     <p>If the result of running <a data-link-type="dfn" href="#maybe-replace-event-level-report" id="ref-for-maybe-replace-event-level-report">maybe replace event-level report</a> with <var>sourceToAttribute</var> and <var>report</var> is:</p>
     <dl class="switch">
      <dt data-md>"<code><a data-link-type="dfn" href="#event-level-report-replacement-result-add-new-report" id="ref-for-event-level-report-replacement-result-add-new-report②">add-new-report</a></code>"
      <dd data-md>
       <p>Do nothing.</p>
      <dt data-md>"<code><a data-link-type="dfn" href="#event-level-report-replacement-result-drop-new-report-none-to-replace" id="ref-for-event-level-report-replacement-result-drop-new-report-none-to-replace①">drop-new-report-none-to-replace</a></code>"
      <dd data-md>
       <ol>
        <li data-md>
         <p>Let <var>debugData</var> be the result of running <a data-link-type="dfn" href="#obtain-debug-data-on-trigger-registration" id="ref-for-obtain-debug-data-on-trigger-registration⑨">obtain debug data on trigger registration</a> with "<code><a data-link-type="dfn" href="#trigger-debug-data-type-trigger-event-excessive-reports" id="ref-for-trigger-debug-data-type-trigger-event-excessive-reports②">trigger-event-excessive-reports</a></code>", <var>trigger</var>, <var>sourceToAttribute</var> and <var>report</var>.</p>
        <li data-md>
         <p>Return the <a data-link-type="dfn" href="#triggering-result" id="ref-for-triggering-result①⓪">triggering result</a> ("<code><a data-link-type="dfn" href="#triggering-status-dropped" id="ref-for-triggering-status-dropped①⓪">dropped</a></code>", <var>debugData</var>).</p>
       </ol>
      <dt data-md>"<code><a data-link-type="dfn" href="#event-level-report-replacement-result-drop-new-report-low-priority" id="ref-for-event-level-report-replacement-result-drop-new-report-low-priority①">drop-new-report-low-priority</a></code>"
      <dd data-md>
       <ol>
        <li data-md>
         <p>Let <var>debugData</var> be the result of running <a data-link-type="dfn" href="#obtain-debug-data-on-trigger-registration" id="ref-for-obtain-debug-data-on-trigger-registration①⓪">obtain debug data on trigger registration</a> with "<code><a data-link-type="dfn" href="#trigger-debug-data-type-trigger-event-low-priority" id="ref-for-trigger-debug-data-type-trigger-event-low-priority①">trigger-event-low-priority</a></code>", <var>trigger</var>, <var>sourceToAttribute</var> and <var>report</var>.</p>
        <li data-md>
         <p>Return the <a data-link-type="dfn" href="#triggering-result" id="ref-for-triggering-result①①">triggering result</a> ("<code><a data-link-type="dfn" href="#triggering-status-dropped" id="ref-for-triggering-status-dropped①①">dropped</a></code>", <var>debugData</var>).</p>
       </ol>
     </dl>
    <li data-md>
     <p>Let <var>triggeringStatus</var> be "<code><a data-link-type="dfn" href="#triggering-status-attributed" id="ref-for-triggering-status-attributed">attributed</a></code>".</p>
    <li data-md>
     <p>Let <var>debugData</var> be null.</p>
    <li data-md>
     <p>If <var>sourceToAttribute</var>’s <a data-link-type="dfn" href="#attribution-source-randomized-response" id="ref-for-attribution-source-randomized-response⑤">randomized response</a> is:</p>
     <dl class="switch">
      <dt data-md>null
      <dd data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-append" id="ref-for-set-append①②">Append</a> <var>report</var> to the <a data-link-type="dfn" href="#event-level-report-cache" id="ref-for-event-level-report-cache⑦">event-level report cache</a>.</p>
      <dt data-md>not null
      <dd data-md>
       <ol>
        <li data-md>
         <p>Set <var>triggeringStatus</var> to "<code><a data-link-type="dfn" href="#triggering-status-noised" id="ref-for-triggering-status-noised①">noised</a></code>".</p>
        <li data-md>
         <p>Set <var>debugData</var> to the result of running <a data-link-type="dfn" href="#obtain-debug-data-on-trigger-registration" id="ref-for-obtain-debug-data-on-trigger-registration①①">obtain debug data on trigger registration</a> with "<code><a data-link-type="dfn" href="#trigger-debug-data-type-trigger-event-noise" id="ref-for-trigger-debug-data-type-trigger-event-noise①">trigger-event-noise</a></code>", <var>trigger</var>, <var>sourceToAttribute</var> and <a data-link-type="dfn" href="#obtain-debug-data-on-trigger-registration-report" id="ref-for-obtain-debug-data-on-trigger-registration-report⑧">report</a> set to null.</p>
       </ol>
     </dl>
    <li data-md>
     <p>Increment <var>sourceToAttribute</var>’s <a data-link-type="dfn" href="#attribution-source-number-of-event-level-reports" id="ref-for-attribution-source-number-of-event-level-reports④">number of event-level reports</a> value by 1.</p>
    <li data-md>
     <p>If <var>matchedConfig</var>’s <a data-link-type="dfn" href="#event-level-trigger-configuration-dedup-key" id="ref-for-event-level-trigger-configuration-dedup-key④">dedup key</a> is not null, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append①⑥">append</a> it to <var>sourceToAttribute</var>’s <a data-link-type="dfn" href="#attribution-source-dedup-keys" id="ref-for-attribution-source-dedup-keys①">dedup keys</a>.</p>
    <li data-md>
     <p>If <var>triggeringStatus</var> is "<code><a data-link-type="dfn" href="#triggering-status-attributed" id="ref-for-triggering-status-attributed①">attributed</a></code>" and <var>report</var>’s <a data-link-type="dfn" href="#attribution-report-source-debug-key" id="ref-for-attribution-report-source-debug-key">source debug key</a> is not null and <var>report</var>’s <a data-link-type="dfn" href="#attribution-report-trigger-debug-key" id="ref-for-attribution-report-trigger-debug-key">trigger debug key</a> is not null, <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task①">queue a task</a> to <a data-link-type="dfn" href="#attempt-to-deliver-a-debug-report" id="ref-for-attempt-to-deliver-a-debug-report">attempt to deliver a debug report</a> with <var>report</var>.</p>
    <li data-md>
     <p>Return the <a data-link-type="dfn" href="#triggering-result" id="ref-for-triggering-result①②">triggering result</a> (<var>triggeringStatus</var>, <var>debugData</var>).</p>
   </ol>
   <h3 class="heading settled algorithm" data-algorithm="Triggering aggregatable attribution" data-level="13.10" id="triggering-aggregatable-attribution"><span class="secno">13.10. </span><span class="content">Triggering aggregatable attribution</span><a class="self-link" href="#triggering-aggregatable-attribution"></a></h3>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="trigger-aggregatable-attribution">trigger aggregatable attribution</dfn> given an <a data-link-type="dfn" href="#attribution-trigger" id="ref-for-attribution-trigger②⓪">attribution trigger</a> <var>trigger</var>, an <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source⑤⑧">attribution source</a> <var>sourceToAttribute</var>, and an <a data-link-type="dfn" href="#attribution-rate-limit-record" id="ref-for-attribution-rate-limit-record①⑥">attribution rate-limit record</a> <var>rateLimitRecord</var>, run the following steps:</p>
   <ol>
    <li data-md>
     <p>If the result of running <a data-link-type="dfn" href="#check-if-an-attribution-trigger-contains-aggregatable-data" id="ref-for-check-if-an-attribution-trigger-contains-aggregatable-data">check if an attribution trigger contains aggregatable data</a> is false,
return the <a data-link-type="dfn" href="#triggering-result" id="ref-for-triggering-result①③">triggering result</a> ("<code><a data-link-type="dfn" href="#triggering-status-dropped" id="ref-for-triggering-status-dropped①②">dropped</a></code>", null).</p>
    <li data-md>
     <p>Let <var>windowResult</var> be the result of <a data-link-type="dfn" href="#check-whether-a-moment-falls-within-a-window" id="ref-for-check-whether-a-moment-falls-within-a-window①">check whether a moment falls within a window</a> with <var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-trigger-time" id="ref-for-attribution-trigger-trigger-time⑥">trigger time</a> and <var>sourceToAttribute</var>’s <a data-link-type="dfn" href="#attribution-source-aggregatable-report-window" id="ref-for-attribution-source-aggregatable-report-window②">aggregatable report window</a>.</p>
    <li data-md>
     <p>If <var>windowResult</var> is <strong>falls after</strong>:</p>
     <ol>
      <li data-md>
       <p>Let <var>debugData</var> be the result of running <a data-link-type="dfn" href="#obtain-debug-data-on-trigger-registration" id="ref-for-obtain-debug-data-on-trigger-registration①②">obtain debug data on trigger registration</a> with "<code><a data-link-type="dfn" href="#trigger-debug-data-type-trigger-aggregate-report-window-passed" id="ref-for-trigger-debug-data-type-trigger-aggregate-report-window-passed">trigger-aggregate-report-window-passed</a></code>", <var>trigger</var>, <var>sourceToAttribute</var> and <a data-link-type="dfn" href="#obtain-debug-data-on-trigger-registration-report" id="ref-for-obtain-debug-data-on-trigger-registration-report⑨">report</a> set to null.</p>
      <li data-md>
       <p>Return the <a data-link-type="dfn" href="#triggering-result" id="ref-for-triggering-result①④">triggering result</a> ("<code><a data-link-type="dfn" href="#triggering-status-dropped" id="ref-for-triggering-status-dropped①③">dropped</a></code>", <var>debugData</var>).</p>
     </ol>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert①③">Assert</a>: <var>windowResult</var> is <strong>falls within</strong>.</p>
    <li data-md>
     <p>Let <var>matchedDedupKey</var> be null.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate②④">For each</a> <a data-link-type="dfn" href="#aggregatable-dedup-key" id="ref-for-aggregatable-dedup-key②">aggregatable dedup key</a> <var>aggregatableDedupKey</var> of <var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-aggregatable-dedup-keys" id="ref-for-attribution-trigger-aggregatable-dedup-keys②">aggregatable dedup keys</a>:</p>
     <ol>
      <li data-md>
       <p>If the result of running <a data-link-type="dfn" href="#match-an-attribution-sources-filter-data-against-filters-and-negated-filters" id="ref-for-match-an-attribution-sources-filter-data-against-filters-and-negated-filters②">match an attribution source’s filter data against filters and negated filters</a> with <var>sourceToAttribute</var>, <var>aggregatableDedupKey</var>’s <a data-link-type="dfn" href="#aggregatable-dedup-key-filters" id="ref-for-aggregatable-dedup-key-filters①">filters</a>, <var>aggregatableDedupKey</var>’s <a data-link-type="dfn" href="#aggregatable-dedup-key-negated-filters" id="ref-for-aggregatable-dedup-key-negated-filters①">negated filters</a>, and <var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-trigger-time" id="ref-for-attribution-trigger-trigger-time⑦">trigger time</a> is true:</p>
       <ol>
        <li data-md>
         <p>Set <var>matchedDedupKey</var> to <var>aggregatableDedupKey</var>’s <a data-link-type="dfn" href="#aggregatable-dedup-key-dedup-key" id="ref-for-aggregatable-dedup-key-dedup-key②">dedup key</a>.</p>
        <li data-md>
         <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-break" id="ref-for-iteration-break①">Break</a>.</p>
       </ol>
     </ol>
    <li data-md>
     <p>If <var>matchedDedupKey</var> is not null and <var>sourceToAttribute</var>’s <a data-link-type="dfn" href="#attribution-source-aggregatable-dedup-keys" id="ref-for-attribution-source-aggregatable-dedup-keys">aggregatable dedup keys</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-contain" id="ref-for-list-contain②">contains</a> it:</p>
     <ol>
      <li data-md>
       <p>Let <var>debugData</var> be the result of running <a data-link-type="dfn" href="#obtain-debug-data-on-trigger-registration" id="ref-for-obtain-debug-data-on-trigger-registration①③">obtain debug data on trigger registration</a> with "<code><a data-link-type="dfn" href="#trigger-debug-data-type-trigger-aggregate-deduplicated" id="ref-for-trigger-debug-data-type-trigger-aggregate-deduplicated">trigger-aggregate-deduplicated</a></code>", <var>trigger</var>, <var>sourceToAttribute</var> and <a data-link-type="dfn" href="#obtain-debug-data-on-trigger-registration-report" id="ref-for-obtain-debug-data-on-trigger-registration-report①⓪">report</a> set to null.</p>
      <li data-md>
       <p>Return the <a data-link-type="dfn" href="#triggering-result" id="ref-for-triggering-result①⑤">triggering result</a> ("<code><a data-link-type="dfn" href="#triggering-status-dropped" id="ref-for-triggering-status-dropped①④">dropped</a></code>", <var>debugData</var>).</p>
     </ol>
    <li data-md>
     <p>Let <var>report</var> be the result of running <a data-link-type="dfn" href="#obtain-an-aggregatable-report" id="ref-for-obtain-an-aggregatable-report">obtain an aggregatable report</a> with <var>sourceToAttribute</var> and <var>trigger</var>.</p>
    <li data-md>
     <p>If <var>report</var>’s <a data-link-type="dfn" href="#aggregatable-report-contributions" id="ref-for-aggregatable-report-contributions">contributions</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty②①">is empty</a>:</p>
     <ol>
      <li data-md>
       <p>Let <var>debugData</var> be the result of running <a data-link-type="dfn" href="#obtain-debug-data-on-trigger-registration" id="ref-for-obtain-debug-data-on-trigger-registration①④">obtain debug data on trigger registration</a> with
"<code><a data-link-type="dfn" href="#trigger-debug-data-type-trigger-aggregate-no-contributions" id="ref-for-trigger-debug-data-type-trigger-aggregate-no-contributions">trigger-aggregate-no-contributions</a></code>", <var>trigger</var>, <var>sourceToAttribute</var> and <a data-link-type="dfn" href="#obtain-debug-data-on-trigger-registration-report" id="ref-for-obtain-debug-data-on-trigger-registration-report①①">report</a> set to null.</p>
      <li data-md>
       <p>Return the <a data-link-type="dfn" href="#triggering-result" id="ref-for-triggering-result①⑥">triggering result</a> ("<code><a data-link-type="dfn" href="#triggering-status-dropped" id="ref-for-triggering-status-dropped①⑤">dropped</a></code>", <var>debugData</var>).</p>
     </ol>
    <li data-md>
     <p>Let <var>numMatchingReports</var> be the number of entries in the <a data-link-type="dfn" href="#aggregatable-report-cache" id="ref-for-aggregatable-report-cache③">aggregatable report cache</a> whose <a data-link-type="dfn" href="#aggregatable-report-effective-attribution-destination" id="ref-for-aggregatable-report-effective-attribution-destination①">effective attribution destination</a> equals <var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-attribution-destination" id="ref-for-attribution-trigger-attribution-destination⑤">attribution destination</a> and <a data-link-type="dfn" href="#aggregatable-report-is-null-report" id="ref-for-aggregatable-report-is-null-report">is null report</a> is false.</p>
    <li data-md>
     <p>If <var>numMatchingReports</var> is greater than or equal to the user agent’s <a data-link-type="dfn" href="#max-aggregatable-reports-per-attribution-destination" id="ref-for-max-aggregatable-reports-per-attribution-destination①">max aggregatable reports per attribution destination</a>:</p>
     <ol>
      <li data-md>
       <p>Let <var>debugData</var> be the result of running <a data-link-type="dfn" href="#obtain-debug-data-on-trigger-registration" id="ref-for-obtain-debug-data-on-trigger-registration①⑤">obtain debug data on trigger registration</a> with "<code><a data-link-type="dfn" href="#trigger-debug-data-type-trigger-aggregate-storage-limit" id="ref-for-trigger-debug-data-type-trigger-aggregate-storage-limit①">trigger-aggregate-storage-limit</a></code>", <var>trigger</var>, <var>sourceToAttribute</var> and <a data-link-type="dfn" href="#obtain-debug-data-on-trigger-registration-report" id="ref-for-obtain-debug-data-on-trigger-registration-report①②">report</a> set to null.</p>
      <li data-md>
       <p>Return the <a data-link-type="dfn" href="#triggering-result" id="ref-for-triggering-result①⑦">triggering result</a> ("<code><a data-link-type="dfn" href="#triggering-status-dropped" id="ref-for-triggering-status-dropped①⑥">dropped</a></code>", <var>debugData</var>).</p>
     </ol>
    <li data-md>
     <p>If the result of running <a data-link-type="dfn" href="#should-block-attribution-for-rate-limits" id="ref-for-should-block-attribution-for-rate-limits①">should attribution be blocked by rate limits</a> with <var>trigger</var>, <var>sourceToAttribute</var>, and <var>rateLimitRecord</var> is not null,
return it.</p>
    <li data-md>
     <p>If <var>sourceToAttribute</var>’s <a data-link-type="dfn" href="#attribution-source-number-of-aggregatable-reports" id="ref-for-attribution-source-number-of-aggregatable-reports">number of aggregatable reports</a> value is equal to <a data-link-type="dfn" href="#max-aggregatable-reports-per-source" id="ref-for-max-aggregatable-reports-per-source①">max aggregatable reports per source</a>, then:</p>
     <ol>
      <li data-md>
       <p>Let <var>debugData</var> be the result of running <a data-link-type="dfn" href="#obtain-debug-data-on-trigger-registration" id="ref-for-obtain-debug-data-on-trigger-registration①⑥">obtain debug data on trigger registration</a> with
"<code><a data-link-type="dfn" href="#trigger-debug-data-type-trigger-aggregate-excessive-reports" id="ref-for-trigger-debug-data-type-trigger-aggregate-excessive-reports①">trigger-aggregate-excessive-reports</a></code>", <var>trigger</var>, <var>sourceToAttribute</var>, and <var>report</var>.</p>
      <li data-md>
       <p>Return the <a data-link-type="dfn" href="#triggering-result" id="ref-for-triggering-result①⑧">triggering result</a> ("<code><a data-link-type="dfn" href="#triggering-status-dropped" id="ref-for-triggering-status-dropped①⑦">dropped</a></code>", <var>debugData</var>).</p>
     </ol>
    <li data-md>
     <p>If the result of running <a data-link-type="dfn" href="#check-if-an-attribution-source-can-create-aggregatable-contributions" id="ref-for-check-if-an-attribution-source-can-create-aggregatable-contributions">check if an attribution source can create aggregatable contributions</a> with <var>report</var> and <var>sourceToAttribute</var> is false:</p>
     <ol>
      <li data-md>
       <p>Let <var>debugData</var> be the result of running <a data-link-type="dfn" href="#obtain-debug-data-on-trigger-registration" id="ref-for-obtain-debug-data-on-trigger-registration①⑦">obtain debug data on trigger registration</a> with "<code><a data-link-type="dfn" href="#trigger-debug-data-type-trigger-aggregate-insufficient-budget" id="ref-for-trigger-debug-data-type-trigger-aggregate-insufficient-budget①">trigger-aggregate-insufficient-budget</a></code>", <var>trigger</var>, <var>sourceToAttribute</var> and <a data-link-type="dfn" href="#obtain-debug-data-on-trigger-registration-report" id="ref-for-obtain-debug-data-on-trigger-registration-report①③">report</a> set to null.</p>
      <li data-md>
       <p>Return the <a data-link-type="dfn" href="#triggering-result" id="ref-for-triggering-result①⑨">triggering result</a> ("<code><a data-link-type="dfn" href="#triggering-status-dropped" id="ref-for-triggering-status-dropped①⑧">dropped</a></code>", <var>debugData</var>).</p>
     </ol>
    <li data-md>
     <p>Add <var>report</var> to the <a data-link-type="dfn" href="#aggregatable-report-cache" id="ref-for-aggregatable-report-cache④">aggregatable report cache</a>.</p>
    <li data-md>
     <p>Increment <var>sourceToAttribute</var>’s <a data-link-type="dfn" href="#attribution-source-number-of-aggregatable-reports" id="ref-for-attribution-source-number-of-aggregatable-reports①">number of aggregatable reports</a> value by 1.</p>
    <li data-md>
     <p>Increment <var>sourceToAttribute</var>’s <a data-link-type="dfn" href="#attribution-source-aggregatable-budget-consumed" id="ref-for-attribution-source-aggregatable-budget-consumed②">aggregatable budget consumed</a> value by <var>report</var>’s <a data-link-type="dfn" href="#aggregatable-report-required-aggregatable-budget" id="ref-for-aggregatable-report-required-aggregatable-budget②">required aggregatable budget</a>.</p>
    <li data-md>
     <p>If <var>matchedDedupKey</var> is not null, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append①⑦">append</a> it to <var>sourceToAttribute</var>’s <a data-link-type="dfn" href="#attribution-source-aggregatable-dedup-keys" id="ref-for-attribution-source-aggregatable-dedup-keys①">aggregatable dedup keys</a>.</p>
    <li data-md>
     <p>Run <a data-link-type="dfn" href="#generate-null-reports-and-assign-private-state-tokens" id="ref-for-generate-null-reports-and-assign-private-state-tokens">generate null reports and assign private state tokens</a> with <var>trigger</var> and <var>report</var>.</p>
    <li data-md>
     <p>If <var>report</var>’s <a data-link-type="dfn" href="#attribution-report-source-debug-key" id="ref-for-attribution-report-source-debug-key①">source debug key</a> is not null and <var>report</var>’s <a data-link-type="dfn" href="#attribution-report-trigger-debug-key" id="ref-for-attribution-report-trigger-debug-key①">trigger debug key</a> is not null, <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task②">queue a task</a> to <a data-link-type="dfn" href="#attempt-to-deliver-a-debug-report" id="ref-for-attempt-to-deliver-a-debug-report①">attempt to deliver a debug report</a> with <var>report</var>.</p>
    <li data-md>
     <p>Return the <a data-link-type="dfn" href="#triggering-result" id="ref-for-triggering-result②⓪">triggering result</a> ("<code><a data-link-type="dfn" href="#triggering-status-attributed" id="ref-for-triggering-status-attributed②">attributed</a></code>", null).</p>
   </ol>
   <h3 class="heading settled algorithm" data-algorithm="Triggering attribution" data-level="13.11" id="triggering-attribution"><span class="secno">13.11. </span><span class="content">Triggering attribution</span><a class="self-link" href="#triggering-attribution"></a></h3>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="obtain-and-deliver-a-debug-report-on-trigger-registration">obtain and deliver a debug report on trigger registration</dfn> given a <a data-link-type="dfn" href="#trigger-debug-data-type" id="ref-for-trigger-debug-data-type②">trigger debug data type</a> <var>dataType</var>,
an <a data-link-type="dfn" href="#attribution-trigger" id="ref-for-attribution-trigger②①">attribution trigger</a> <var>trigger</var> and an optional <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source⑤⑨">attribution source</a> <dfn class="dfn-paneled" data-dfn-for="obtain and deliver a debug report on trigger registration" data-dfn-type="dfn" data-noexport id="obtain-and-deliver-a-debug-report-on-trigger-registration-sourcetoattribute"><var>sourceToAttribute</var></dfn>:</p>
   <ol>
    <li data-md>
     <p>Let <var>debugData</var> be the result of running <a data-link-type="dfn" href="#obtain-debug-data-on-trigger-registration" id="ref-for-obtain-debug-data-on-trigger-registration①⑧">obtain debug data on trigger registration</a> with <var>dataType</var>, <var>trigger</var>, <var>sourceToAttribute</var> and <a data-link-type="dfn" href="#obtain-debug-data-on-trigger-registration-report" id="ref-for-obtain-debug-data-on-trigger-registration-report①④">report</a> set to null.</p>
    <li data-md>
     <p>If <var>debugData</var> is null, return.</p>
    <li data-md>
     <p>Run <a data-link-type="dfn" href="#obtain-and-deliver-a-debug-report" id="ref-for-obtain-and-deliver-a-debug-report①">obtain and deliver a debug report</a> with « <var>debugData</var> » and <var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-reporting-origin" id="ref-for-attribution-trigger-reporting-origin⑤">reporting origin</a>.</p>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="find-matching-sources">find matching sources</dfn> given an <a data-link-type="dfn" href="#attribution-trigger" id="ref-for-attribution-trigger②②">attribution trigger</a> <var>trigger</var>:</p>
   <ol>
    <li data-md>
     <p>Let <var>matchingSources</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty②②">empty</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list④③">list</a>.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate②⑤">For each</a> <var>source</var> of the <a data-link-type="dfn" href="#attribution-source-cache" id="ref-for-attribution-source-cache④">attribution source cache</a>:</p>
     <ol>
      <li data-md>
       <p>If <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-attribution-destinations" id="ref-for-attribution-source-attribution-destinations①③">attribution destinations</a> does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-contain" id="ref-for-list-contain③">contain</a> <var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-attribution-destination" id="ref-for-attribution-trigger-attribution-destination⑥">attribution destination</a>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue①④">continue</a>.</p>
      <li data-md>
       <p>If <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-reporting-origin" id="ref-for-attribution-source-reporting-origin①③">reporting origin</a> and <var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-reporting-origin" id="ref-for-attribution-trigger-reporting-origin⑥">reporting origin</a> are not <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin④">same origin</a>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue①⑤">continue</a>.</p>
      <li data-md>
       <p>If <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-expiry-time" id="ref-for-attribution-source-expiry-time②">expiry time</a> is less than or equal to <var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-trigger-time" id="ref-for-attribution-trigger-trigger-time⑧">trigger time</a>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue①⑥">continue</a>.</p>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append①⑧">Append</a> <var>source</var> to <var>matchingSources</var>.</p>
     </ol>
    <li data-md>
     <p>Set <var>matchingSources</var> to the result of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-sort-in-descending-order" id="ref-for-list-sort-in-descending-order">sorting</a> <var>matchingSources</var> in descending order, with <var>a</var> being less than <var>b</var> if any of the following are true:</p>
     <ul>
      <li data-md>
       <p><var>a</var>’s <a data-link-type="dfn" href="#attribution-source-priority" id="ref-for-attribution-source-priority①">priority</a> is less than <var>b</var>’s <a data-link-type="dfn" href="#attribution-source-priority" id="ref-for-attribution-source-priority②">priority</a>.</p>
      <li data-md>
       <p><var>a</var>’s <a data-link-type="dfn" href="#attribution-source-priority" id="ref-for-attribution-source-priority③">priority</a> is equal to <var>b</var>’s <a data-link-type="dfn" href="#attribution-source-priority" id="ref-for-attribution-source-priority④">priority</a> and <var>a</var>’s <a data-link-type="dfn" href="#attribution-source-source-time" id="ref-for-attribution-source-source-time①②">source time</a> is less than <var>b</var>’s <a data-link-type="dfn" href="#attribution-source-source-time" id="ref-for-attribution-source-source-time①③">source time</a>.</p>
     </ul>
    <li data-md>
     <p>Return <var>matchingSources</var>.</p>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="check-if-an-attribution-trigger-contains-aggregatable-data">check if an <a data-link-type="dfn" href="#attribution-trigger" id="ref-for-attribution-trigger②③">attribution trigger</a> contains aggregatable data</dfn> given an <a data-link-type="dfn" href="#attribution-trigger" id="ref-for-attribution-trigger②④">attribution trigger</a> <var>trigger</var>,
run the following steps:</p>
   <ol>
    <li data-md>
     <p>If <var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-aggregatable-trigger-data" id="ref-for-attribution-trigger-aggregatable-trigger-data③">aggregatable trigger data</a> is not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty②③">empty</a>, return true.</p>
    <li data-md>
     <p>If <var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-aggregatable-values" id="ref-for-attribution-trigger-aggregatable-values④">aggregatable values</a> is not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-is-empty" id="ref-for-map-is-empty②">empty</a>, return true.</p>
    <li data-md>
     <p>Return false.</p>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="trigger-attribution">trigger attribution</dfn> given an <a data-link-type="dfn" href="#attribution-trigger" id="ref-for-attribution-trigger②⑤">attribution trigger</a> <var>trigger</var>, run the following steps:</p>
   <ol>
    <li data-md>
     <p>Let <var>hasAggregatableData</var> be the result of <a data-link-type="dfn" href="#check-if-an-attribution-trigger-contains-aggregatable-data" id="ref-for-check-if-an-attribution-trigger-contains-aggregatable-data①">checking if an attribution trigger contains aggregatable data</a> with <var>trigger</var>.</p>
    <li data-md>
     <p>If <var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-event-level-trigger-configurations" id="ref-for-attribution-trigger-event-level-trigger-configurations④">event-level trigger configurations</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty②④">is empty</a> and <var>hasAggregatableData</var> is false, return.</p>
    <li data-md>
     <p>Let <var>matchingSources</var> be the result of running <a data-link-type="dfn" href="#find-matching-sources" id="ref-for-find-matching-sources">find matching sources</a> with <var>trigger</var>.</p>
    <li data-md>
     <p>If <var>matchingSources</var> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty②⑤">is empty</a>:</p>
     <ol>
      <li data-md>
       <p>Run <a data-link-type="dfn" href="#obtain-and-deliver-a-debug-report-on-trigger-registration" id="ref-for-obtain-and-deliver-a-debug-report-on-trigger-registration">obtain and deliver a debug report on trigger registration</a> with "<code><a data-link-type="dfn" href="#trigger-debug-data-type-trigger-no-matching-source" id="ref-for-trigger-debug-data-type-trigger-no-matching-source">trigger-no-matching-source</a></code>", <var>trigger</var> and <a data-link-type="dfn" href="#obtain-and-deliver-a-debug-report-on-trigger-registration-sourcetoattribute" id="ref-for-obtain-and-deliver-a-debug-report-on-trigger-registration-sourcetoattribute">sourceToAttribute</a> set to null.</p>
      <li data-md>
       <p>If <var>hasAggregatableData</var> is true, then run <a data-link-type="dfn" href="#generate-null-reports-and-assign-private-state-tokens" id="ref-for-generate-null-reports-and-assign-private-state-tokens①">generate null reports and assign private state tokens</a> with <var>trigger</var> and <a data-link-type="dfn" href="#generate-null-reports-and-assign-private-state-tokens-report" id="ref-for-generate-null-reports-and-assign-private-state-tokens-report">report</a> set to null.</p>
      <li data-md>
       <p>Return.</p>
     </ol>
    <li data-md>
     <p>Let <var>sourceToAttribute</var> be <var>matchingSources</var>[0].</p>
    <li data-md>
     <p>If the result of running <a data-link-type="dfn" href="#match-an-attribution-sources-filter-data-against-filters-and-negated-filters" id="ref-for-match-an-attribution-sources-filter-data-against-filters-and-negated-filters③">match an attribution source’s filter data against filters and negated filters</a> with <var>sourceToAttribute</var>, <var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-filters" id="ref-for-attribution-trigger-filters②">filters</a>, <var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-negated-filters" id="ref-for-attribution-trigger-negated-filters①">negated filters</a>, and <var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-trigger-time" id="ref-for-attribution-trigger-trigger-time⑨">trigger time</a> is false:</p>
     <ol>
      <li data-md>
       <p>Run <a data-link-type="dfn" href="#obtain-and-deliver-a-debug-report-on-trigger-registration" id="ref-for-obtain-and-deliver-a-debug-report-on-trigger-registration①">obtain and deliver a debug report on trigger registration</a> with "<code><a data-link-type="dfn" href="#trigger-debug-data-type-trigger-no-matching-filter-data" id="ref-for-trigger-debug-data-type-trigger-no-matching-filter-data">trigger-no-matching-filter-data</a></code>", <var>trigger</var>, and <var>sourceToAttribute</var>.</p>
      <li data-md>
       <p>If <var>hasAggregatableData</var> is true, then run <a data-link-type="dfn" href="#generate-null-reports-and-assign-private-state-tokens" id="ref-for-generate-null-reports-and-assign-private-state-tokens②">generate null reports and assign private state tokens</a> with <var>trigger</var> and <a data-link-type="dfn" href="#generate-null-reports-and-assign-private-state-tokens-report" id="ref-for-generate-null-reports-and-assign-private-state-tokens-report①">report</a> set to null.</p>
      <li data-md>
       <p>Return.</p>
     </ol>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove" id="ref-for-list-remove⑦">Remove</a> <var>sourceToAttribute</var> from <var>matchingSources</var>.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate②⑥">For each</a> <var>item</var> of <var>matchingSources</var>:</p>
     <ol>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove" id="ref-for-list-remove⑧">Remove</a> <var>item</var> from the <a data-link-type="dfn" href="#attribution-source-cache" id="ref-for-attribution-source-cache⑤">attribution source cache</a>.</p>
     </ol>
    <li data-md>
     <p>Let <var>rateLimitRecord</var> be a new <a data-link-type="dfn" href="#attribution-rate-limit-record" id="ref-for-attribution-rate-limit-record①⑦">attribution rate-limit record</a> with the items:</p>
     <dl>
      <dt data-md><a data-link-type="dfn" href="#attribution-rate-limit-record-scope" id="ref-for-attribution-rate-limit-record-scope①①">scope</a>
      <dd data-md>
       <p>"<code><a data-link-type="dfn" href="#rate-limit-scope-attribution" id="ref-for-rate-limit-scope-attribution⑤">attribution</a></code>"</p>
      <dt data-md><a data-link-type="dfn" href="#attribution-rate-limit-record-source-site" id="ref-for-attribution-rate-limit-record-source-site①③">source site</a>
      <dd data-md>
       <p><var>sourceToAttribute</var>’s <a data-link-type="dfn" href="#attribution-source-source-site" id="ref-for-attribution-source-source-site①⓪">source site</a></p>
      <dt data-md><a data-link-type="dfn" href="#attribution-rate-limit-record-attribution-destination" id="ref-for-attribution-rate-limit-record-attribution-destination①①">attribution destination</a>
      <dd data-md>
       <p><var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-attribution-destination" id="ref-for-attribution-trigger-attribution-destination⑦">attribution destination</a></p>
      <dt data-md><a data-link-type="dfn" href="#attribution-rate-limit-record-reporting-origin" id="ref-for-attribution-rate-limit-record-reporting-origin①①">reporting origin</a>
      <dd data-md>
       <p><var>sourceToAttribute</var>’s <a data-link-type="dfn" href="#attribution-source-reporting-origin" id="ref-for-attribution-source-reporting-origin①④">reporting origin</a></p>
      <dt data-md><a data-link-type="dfn" href="#attribution-rate-limit-record-time" id="ref-for-attribution-rate-limit-record-time⑧">time</a>
      <dd data-md>
       <p><var>sourceToAttribute</var>’s <a data-link-type="dfn" href="#attribution-source-source-time" id="ref-for-attribution-source-source-time①④">source time</a></p>
      <dt data-md><a data-link-type="dfn" href="#attribution-rate-limit-record-expiry-time" id="ref-for-attribution-rate-limit-record-expiry-time⑤">expiry time</a>
      <dd data-md>
       <p>null</p>
     </dl>
    <li data-md>
     <p>Let <var>eventLevelResult</var> be the result of running <a data-link-type="dfn" href="#trigger-event-level-attribution" id="ref-for-trigger-event-level-attribution①">trigger event-level attribution</a> with <var>trigger</var>, <var>sourceToAttribute</var>, and <var>rateLimitRecord</var>.</p>
    <li data-md>
     <p>Let <var>aggregatableResult</var> be the result of running <a data-link-type="dfn" href="#trigger-aggregatable-attribution" id="ref-for-trigger-aggregatable-attribution">trigger aggregatable attribution</a> with <var>trigger</var>, <var>sourceToAttribute</var>, and <var>rateLimitRecord</var>.</p>
    <li data-md>
     <p>Let <var>eventLevelDebugData</var> be <var>eventLevelResult</var>’s <a data-link-type="dfn" href="#triggering-result-debug-data" id="ref-for-triggering-result-debug-data">debug data</a>.</p>
    <li data-md>
     <p>Let <var>aggregatableDebugData</var> be <var>aggregatableResult</var>’s <a data-link-type="dfn" href="#triggering-result-debug-data" id="ref-for-triggering-result-debug-data①">debug data</a>.</p>
    <li data-md>
     <p>Let <var>debugDataList</var> be an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty②⑥">empty</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list④④">list</a>.</p>
    <li data-md>
     <p>If <var>eventLevelDebugData</var> is not null, then <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append①⑨">append</a> <var>eventLevelDebugData</var> to <var>debugDataList</var>.</p>
    <li data-md>
     <p>If <var>aggregatableDebugData</var> is not null:</p>
     <ol>
      <li data-md>
       <p>If <var>debugDataList</var> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty②⑦">is empty</a> or <var>aggregatableDebugData</var>’s <a data-link-type="dfn" href="#attribution-debug-data-data-type" id="ref-for-attribution-debug-data-data-type③">data type</a> does not equal <var>eventLevelDebugData</var>’s <a data-link-type="dfn" href="#attribution-debug-data-data-type" id="ref-for-attribution-debug-data-data-type④">data type</a>,
then <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append②⓪">append</a> <var>aggregatableDebugData</var> to <var>debugDataList</var>.</p>
     </ol>
    <li data-md>
     <p>If <var>debugDataList</var> is not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty②⑧">empty</a>, then run <a data-link-type="dfn" href="#obtain-and-deliver-a-debug-report" id="ref-for-obtain-and-deliver-a-debug-report②">obtain and deliver a debug report</a> with <var>debugDataList</var> and <var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-reporting-origin" id="ref-for-attribution-trigger-reporting-origin⑦">reporting origin</a>.</p>
    <li data-md>
     <p>If <var>hasAggregatableData</var> and <var>aggregatableResult</var>’s <a data-link-type="dfn" href="#triggering-result-status" id="ref-for-triggering-result-status">status</a> is "<code><a data-link-type="dfn" href="#triggering-status-dropped" id="ref-for-triggering-status-dropped①⑨">dropped</a></code>",
run <a data-link-type="dfn" href="#generate-null-reports-and-assign-private-state-tokens" id="ref-for-generate-null-reports-and-assign-private-state-tokens③">generate null reports and assign private state tokens</a> with <var>trigger</var> and <a data-link-type="dfn" href="#generate-null-reports-and-assign-private-state-tokens-report" id="ref-for-generate-null-reports-and-assign-private-state-tokens-report②">report</a> set to null.</p>
    <li data-md>
     <p>If both <var>eventLevelResult</var>’s <a data-link-type="dfn" href="#triggering-result-status" id="ref-for-triggering-result-status①">status</a> and <var>aggregatableResult</var>’s <a data-link-type="dfn" href="#triggering-result-status" id="ref-for-triggering-result-status②">status</a> are "<code><a data-link-type="dfn" href="#triggering-status-dropped" id="ref-for-triggering-status-dropped②⓪">dropped</a></code>", return.</p>
    <li data-md>
     <p>If neither <var>eventLevelResult</var>’s <a data-link-type="dfn" href="#triggering-result-status" id="ref-for-triggering-result-status③">status</a> nor <var>aggregatableResult</var>’s <a data-link-type="dfn" href="#triggering-result-status" id="ref-for-triggering-result-status④">status</a> is "<code><a data-link-type="dfn" href="#triggering-status-attributed" id="ref-for-triggering-status-attributed③">attributed</a></code>", return.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-append" id="ref-for-set-append①③">Append</a> <var>rateLimitRecord</var> to the <a data-link-type="dfn" href="#attribution-rate-limit-cache" id="ref-for-attribution-rate-limit-cache⑨">attribution rate-limit cache</a>.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove" id="ref-for-list-remove⑨">Remove</a> all <a data-link-type="dfn" href="#attribution-rate-limit-record" id="ref-for-attribution-rate-limit-record①⑧">attribution rate-limit records</a> <var>entry</var> from the <a data-link-type="dfn" href="#attribution-rate-limit-cache" id="ref-for-attribution-rate-limit-cache①⓪">attribution rate-limit cache</a> if the result of running <a data-link-type="dfn" href="#can-attribution-rate-limit-record-be-removed" id="ref-for-can-attribution-rate-limit-record-be-removed①">can attribution rate-limit record be removed</a> with <var>entry</var> and <var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-trigger-time" id="ref-for-attribution-trigger-trigger-time①⓪">trigger time</a> is true.</p>
   </ol>
   <h3 class="heading settled algorithm" data-algorithm="Establishing report delivery time" data-level="13.12" id="delivery-time"><span class="secno">13.12. </span><span class="content">Establishing report delivery time</span><a class="self-link" href="#delivery-time"></a></h3>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="check-whether-a-moment-falls-within-a-window">check whether a moment falls within a window</dfn> given a <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-moment" id="ref-for-dfn-moment①⑧">moment</a> <var>moment</var> and
a <a data-link-type="dfn" href="#report-window" id="ref-for-report-window⑧">report window</a> <var>window</var>:</p>
   <ol>
    <li data-md>
     <p>If <var>moment</var> is less than <var>window</var>’s <a data-link-type="dfn" href="#report-window-start" id="ref-for-report-window-start⑧">start</a>, return <strong>falls before</strong>.</p>
    <li data-md>
     <p>If <var>moment</var> is greater than or equal to <var>window</var>’s <a data-link-type="dfn" href="#report-window-end" id="ref-for-report-window-end⑧">end</a>,
return <strong>falls after</strong>.</p>
    <li data-md>
     <p>Return <strong>falls within</strong>.</p>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="obtain-a-report-time-from-a-window">obtain a report time from a window</dfn> given a <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-moment" id="ref-for-dfn-moment①⑨">moment</a> <var>sourceTime</var> and
a <a data-link-type="dfn" href="#report-window" id="ref-for-report-window⑨">report window</a> <var>window</var>:</p>
   <ol>
    <li data-md>
     <p>Return <var>sourceTime</var> + <var>window</var>’s <a data-link-type="dfn" href="#report-window-end" id="ref-for-report-window-end⑨">end</a>.</p>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="obtain-the-report-time-at-a-window">obtain the report time at a window</dfn> given an <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source⑥⓪">attribution source</a> <var>source</var> and a non-negative integer <var>window</var>:</p>
   <ol>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert①④">Assert</a>: <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-event-level-report-windows" id="ref-for-attribution-source-event-level-report-windows⑥">event-level report windows</a>[<var>window</var>] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-contain" id="ref-for-list-contain④">exists</a>.</p>
    <li data-md>
     <p>Let <var>win</var> be <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-event-level-report-windows" id="ref-for-attribution-source-event-level-report-windows⑦">event-level report windows</a>[<var>window</var>].</p>
    <li data-md>
     <p>Return the result of running <a data-link-type="dfn" href="#obtain-a-report-time-from-a-window" id="ref-for-obtain-a-report-time-from-a-window">obtain a report time from a window</a> with <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-source-time" id="ref-for-attribution-source-source-time①⑤">source time</a> and <var>win</var>.</p>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="obtain-an-event-level-report-delivery-time">obtain an event-level report delivery time</dfn> given an <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source⑥①">attribution source</a> <var>source</var> and a <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-moment" id="ref-for-dfn-moment②⓪">moment</a> <var>triggerTime</var>:</p>
   <ol>
    <li data-md>
     <p>If <a data-link-type="dfn" href="#automation-local-testing-mode" id="ref-for-automation-local-testing-mode④">automation local testing mode</a> is true, return <var>triggerTime</var>.</p>
    <li data-md>
     <p>Let <var>windows</var> be <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-event-level-report-windows" id="ref-for-attribution-source-event-level-report-windows⑧">event-level report windows</a>.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate②⑦">For each</a> <var>window</var> of <var>windows</var>:</p>
     <ol>
      <li data-md>
       <p>If the result of <a data-link-type="dfn" href="#check-whether-a-moment-falls-within-a-window" id="ref-for-check-whether-a-moment-falls-within-a-window②">check whether a moment falls within a window</a> with <var>triggerTime</var> and <var>window</var> is <strong>falls within</strong>, return the result
of running <a data-link-type="dfn" href="#obtain-a-report-time-from-a-window" id="ref-for-obtain-a-report-time-from-a-window①">obtain a report time from a window</a> with <var>source</var>’s <a data-link-type="dfn" href="#attribution-source-source-time" id="ref-for-attribution-source-source-time①⑥">source time</a> and <var>window</var>.</p>
     </ol>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert①⑤">Assert</a>: not reached.</p>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="obtain-an-aggregatable-report-delivery-time">obtain an aggregatable report delivery time</dfn> given a <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-moment" id="ref-for-dfn-moment②①">moment</a> <var>triggerTime</var>, perform the following steps. They return a <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-moment" id="ref-for-dfn-moment②②">moment</a>.</p>
   <ol>
    <li data-md>
     <p>Let <var>r</var> be a random double between 0 (inclusive) and 1 (exclusive) with uniform probability.</p>
    <li data-md>
     <p>Return <var>triggerTime</var> + <var>r</var> * <a data-link-type="dfn" href="#randomized-aggregatable-report-delay" id="ref-for-randomized-aggregatable-report-delay">randomized aggregatable report delay</a>.</p>
   </ol>
   <h3 class="heading settled algorithm" data-algorithm="Obtaining an event-level report" data-level="13.13" id="obtaining-an-event-level-report"><span class="secno">13.13. </span><span class="content">Obtaining an event-level report</span><a class="self-link" href="#obtaining-an-event-level-report"></a></h3>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="obtain-an-event-level-report">obtain an event-level report</dfn> given an <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source⑥②">attribution source</a> <var>source</var>, an <a data-link-type="dfn" href="#attribution-trigger" id="ref-for-attribution-trigger②⑥">attribution trigger</a> <var>trigger</var>, and an <a data-link-type="dfn" href="#event-level-trigger-configuration" id="ref-for-event-level-trigger-configuration④">event-level trigger configuration</a> <var>config</var>:</p>
   <ol>
    <li data-md>
     <p>Let <var>triggerDataCardinality</var> be the user agent’s <a data-link-type="dfn" href="#default-trigger-data-cardinality" id="ref-for-default-trigger-data-cardinality①">default trigger data cardinality</a>[<var>source</var>’s <a data-link-type="dfn" href="#attribution-source-source-type" id="ref-for-attribution-source-source-type②">source type</a>].</p>
    <li data-md>
     <p>Let <var>reportTime</var> be the result of running <a data-link-type="dfn" href="#obtain-an-event-level-report-delivery-time" id="ref-for-obtain-an-event-level-report-delivery-time">obtain an event-level report delivery time</a> with <var>source</var> and <var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-trigger-time" id="ref-for-attribution-trigger-trigger-time①①">trigger time</a>.</p>
    <li data-md>
     <p>Let <var>report</var> be a new <a data-link-type="dfn" href="#event-level-report" id="ref-for-event-level-report①①">event-level report</a> struct whose items are:</p>
     <dl>
      <dt data-md><a data-link-type="dfn" href="#event-level-report-event-id" id="ref-for-event-level-report-event-id">event ID</a>
      <dd data-md>
       <p><var>source</var>’s <a data-link-type="dfn" href="#attribution-source-event-id" id="ref-for-attribution-source-event-id③">event ID</a>.</p>
      <dt data-md><a data-link-type="dfn" href="#event-level-report-trigger-data" id="ref-for-event-level-report-trigger-data">trigger data</a>
      <dd data-md>
       <p>The remainder when dividing <var>config</var>’s <a data-link-type="dfn" href="#event-level-trigger-configuration-trigger-data" id="ref-for-event-level-trigger-configuration-trigger-data③">trigger data</a> by <var>triggerDataCardinality</var>.</p>
      <dt data-md><a data-link-type="dfn" href="#event-level-report-randomized-trigger-rate" id="ref-for-event-level-report-randomized-trigger-rate">randomized trigger rate</a>
      <dd data-md>
       <p><var>source</var>’s <a data-link-type="dfn" href="#attribution-source-randomized-trigger-rate" id="ref-for-attribution-source-randomized-trigger-rate①">randomized trigger rate</a>.</p>
      <dt data-md><a data-link-type="dfn" href="#attribution-report-reporting-origin" id="ref-for-attribution-report-reporting-origin②">reporting origin</a>
      <dd data-md>
       <p><var>source</var>’s <a data-link-type="dfn" href="#attribution-source-reporting-origin" id="ref-for-attribution-source-reporting-origin①⑤">reporting origin</a>.</p>
      <dt data-md><a data-link-type="dfn" href="#event-level-report-attribution-destinations" id="ref-for-event-level-report-attribution-destinations③">attribution destinations</a>
      <dd data-md>
       <p><var>source</var>’s <a data-link-type="dfn" href="#attribution-source-attribution-destinations" id="ref-for-attribution-source-attribution-destinations①④">attribution destinations</a>.</p>
      <dt data-md><a data-link-type="dfn" href="#attribution-report-report-time" id="ref-for-attribution-report-report-time②">report time</a>
      <dd data-md>
       <p><var>reportTime</var></p>
      <dt data-md><a data-link-type="dfn" href="#attribution-report-original-report-time" id="ref-for-attribution-report-original-report-time">original report time</a>
      <dd data-md>
       <p><var>reportTime</var></p>
      <dt data-md><a data-link-type="dfn" href="#event-level-report-trigger-priority" id="ref-for-event-level-report-trigger-priority④">trigger priority</a>
      <dd data-md>
       <p><var>config</var>’s <a data-link-type="dfn" href="#event-level-trigger-configuration-priority" id="ref-for-event-level-trigger-configuration-priority②">priority</a>.</p>
      <dt data-md><a data-link-type="dfn" href="#event-level-report-trigger-time" id="ref-for-event-level-report-trigger-time②">trigger time</a>
      <dd data-md>
       <p><var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-trigger-time" id="ref-for-attribution-trigger-trigger-time①②">trigger time</a>.</p>
      <dt data-md><a data-link-type="dfn" href="#event-level-report-source-identifier" id="ref-for-event-level-report-source-identifier①">source identifier</a>
      <dd data-md>
       <p><var>source</var>’s <a data-link-type="dfn" href="#attribution-source-source-identifier" id="ref-for-attribution-source-source-identifier①">source identifier</a>.</p>
      <dt data-md><a data-link-type="dfn" href="#attribution-report-report-id" id="ref-for-attribution-report-report-id">report id</a>
      <dd data-md>
       <p>The result of <a data-link-type="dfn" href="https://wicg.github.io/uuid/#dfn-generate-a-random-uuid" id="ref-for-dfn-generate-a-random-uuid②">generating a random UUID</a>.</p>
      <dt data-md><a data-link-type="dfn" href="#attribution-report-source-debug-key" id="ref-for-attribution-report-source-debug-key②">source debug key</a>
      <dd data-md>
       <p><var>source</var>’s <a data-link-type="dfn" href="#attribution-source-debug-key" id="ref-for-attribution-source-debug-key⑤">debug key</a>.</p>
      <dt data-md><a data-link-type="dfn" href="#attribution-report-trigger-debug-key" id="ref-for-attribution-report-trigger-debug-key②">trigger debug key</a>
      <dd data-md>
       <p><var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-debug-key" id="ref-for-attribution-trigger-debug-key④">debug key</a>.</p>
     </dl>
    <li data-md>
     <p>Return <var>report</var>.</p>
   </ol>
   <h3 class="heading settled" data-level="13.14" id="obtaining-required-aggregatable-budget"><span class="secno">13.14. </span><span class="content">Obtaining an aggregatable report’s required budget</span><a class="self-link" href="#obtaining-required-aggregatable-budget"></a></h3>
   <p>An <a data-link-type="dfn" href="#aggregatable-report" id="ref-for-aggregatable-report①①">aggregatable report</a> <var>report</var>’s <dfn class="dfn-paneled" data-dfn-for="aggregatable report" data-dfn-type="dfn" data-lt="required aggregatable budget" data-noexport id="aggregatable-report-required-aggregatable-budget"> required aggregatable budget</dfn> is the total <a data-link-type="dfn" href="#aggregatable-contribution-value" id="ref-for-aggregatable-contribution-value②">value</a> of <var>report</var>’s <a data-link-type="dfn" href="#aggregatable-report-contributions" id="ref-for-aggregatable-report-contributions①">contributions</a>.</p>
   <h3 class="heading settled algorithm" data-algorithm="Obtaining an aggregatable report" data-level="13.15" id="obtaining-an-aggregatable-report"><span class="secno">13.15. </span><span class="content">Obtaining an aggregatable report</span><a class="self-link" href="#obtaining-an-aggregatable-report"></a></h3>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="obtain-an-aggregatable-report">obtain an aggregatable report</dfn> given an <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source⑥③">attribution source</a> <var>source</var> and
an <a data-link-type="dfn" href="#attribution-trigger" id="ref-for-attribution-trigger②⑦">attribution trigger</a> <var>trigger</var>:</p>
   <ol>
    <li data-md>
     <p>Let <var>reportTime</var> be the result of running <a data-link-type="dfn" href="#obtain-an-aggregatable-report-delivery-time" id="ref-for-obtain-an-aggregatable-report-delivery-time">obtain an aggregatable report delivery time</a> with <var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-trigger-time" id="ref-for-attribution-trigger-trigger-time①③">trigger time</a>.</p>
    <li data-md>
     <p>Let <var>report</var> be a new <a data-link-type="dfn" href="#aggregatable-report" id="ref-for-aggregatable-report①②">aggregatable report</a> struct whose items are:</p>
     <dl>
      <dt data-md><a data-link-type="dfn" href="#attribution-report-reporting-origin" id="ref-for-attribution-report-reporting-origin③">reporting origin</a>
      <dd data-md>
       <p><var>source</var>’s <a data-link-type="dfn" href="#attribution-source-reporting-origin" id="ref-for-attribution-source-reporting-origin①⑥">reporting origin</a>.</p>
      <dt data-md><a data-link-type="dfn" href="#aggregatable-report-effective-attribution-destination" id="ref-for-aggregatable-report-effective-attribution-destination②">effective attribution destination</a>
      <dd data-md>
       <p><var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-attribution-destination" id="ref-for-attribution-trigger-attribution-destination⑧">attribution destination</a>.</p>
      <dt data-md><a data-link-type="dfn" href="#aggregatable-report-source-time" id="ref-for-aggregatable-report-source-time">source time</a>
      <dd data-md>
       <p><var>source</var>’s <a data-link-type="dfn" href="#attribution-source-source-time" id="ref-for-attribution-source-source-time①⑦">source time</a>.</p>
      <dt data-md><a data-link-type="dfn" href="#attribution-report-original-report-time" id="ref-for-attribution-report-original-report-time①">original report time</a>
      <dd data-md>
       <p><var>reportTime</var>.</p>
      <dt data-md><a data-link-type="dfn" href="#attribution-report-report-time" id="ref-for-attribution-report-report-time③">report time</a>
      <dd data-md>
       <p><var>reportTime</var>.</p>
      <dt data-md><a data-link-type="dfn" href="#attribution-report-report-id" id="ref-for-attribution-report-report-id①">report id</a>
      <dd data-md>
       <p>The result of <a data-link-type="dfn" href="https://wicg.github.io/uuid/#dfn-generate-a-random-uuid" id="ref-for-dfn-generate-a-random-uuid③">generating a random UUID</a>.</p>
      <dt data-md><a data-link-type="dfn" href="#attribution-report-source-debug-key" id="ref-for-attribution-report-source-debug-key③">source debug key</a>
      <dd data-md>
       <p><var>source</var>’s <a data-link-type="dfn" href="#attribution-source-debug-key" id="ref-for-attribution-source-debug-key⑥">debug key</a>.</p>
      <dt data-md><a data-link-type="dfn" href="#attribution-report-trigger-debug-key" id="ref-for-attribution-report-trigger-debug-key③">trigger debug key</a>
      <dd data-md>
       <p><var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-debug-key" id="ref-for-attribution-trigger-debug-key⑤">debug key</a>.</p>
      <dt data-md><a data-link-type="dfn" href="#aggregatable-report-contributions" id="ref-for-aggregatable-report-contributions②">contributions</a>
      <dd data-md>
       <p>The result of running <a data-link-type="dfn" href="#create-aggregatable-contributions" id="ref-for-create-aggregatable-contributions">create aggregatable contributions</a> with <var>source</var> and <var>trigger</var>.</p>
      <dt data-md><a data-link-type="dfn" href="#aggregatable-report-serialized-private-state-token" id="ref-for-aggregatable-report-serialized-private-state-token">serialized private state token</a>
      <dd data-md>
       <p>null.</p>
      <dt data-md><a data-link-type="dfn" href="#aggregatable-report-aggregation-coordinator" id="ref-for-aggregatable-report-aggregation-coordinator">aggregation coordinator</a>
      <dd data-md>
       <p><var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-aggregation-coordinator" id="ref-for-attribution-trigger-aggregation-coordinator②">aggregation coordinator</a>.</p>
      <dt data-md><a data-link-type="dfn" href="#aggregatable-report-source-registration-time-configuration" id="ref-for-aggregatable-report-source-registration-time-configuration">source registration time configuration</a>
      <dd data-md>
       <p><var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-aggregatable-source-registration-time-configuration" id="ref-for-attribution-trigger-aggregatable-source-registration-time-configuration②">aggregatable source registration time configuration</a>.</p>
     </dl>
    <li data-md>
     <p>Return <var>report</var>.</p>
   </ol>
   <h3 class="heading settled" data-level="13.16" id="generating-randomized-null-reports"><span class="secno">13.16. </span><span class="content">Generating randomized null reports</span><a class="self-link" href="#generating-randomized-null-reports"></a></h3>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="obtain-a-null-report">obtain a null report</dfn> given an <a data-link-type="dfn" href="#attribution-trigger" id="ref-for-attribution-trigger②⑧">attribution trigger</a> <var>trigger</var> and a <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-moment" id="ref-for-dfn-moment②③">moment</a> <var>sourceTime</var>:</p>
   <ol>
    <li data-md>
     <p>Let <var>reportTime</var> be the result of running <a data-link-type="dfn" href="#obtain-an-aggregatable-report-delivery-time" id="ref-for-obtain-an-aggregatable-report-delivery-time①">obtain an aggregatable report delivery time</a> with <var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-trigger-time" id="ref-for-attribution-trigger-trigger-time①④">trigger time</a>.</p>
    <li data-md>
     <p>Let <var>contribution</var> be a new <a data-link-type="dfn" href="#aggregatable-contribution" id="ref-for-aggregatable-contribution⑤">aggregatable contribution</a> with the items:</p>
     <dl>
      <dt data-md><a data-link-type="dfn" href="#aggregatable-contribution-key" id="ref-for-aggregatable-contribution-key①">key</a>
      <dd data-md>
       <p>0</p>
      <dt data-md><a data-link-type="dfn" href="#aggregatable-contribution-value" id="ref-for-aggregatable-contribution-value③">value</a>
      <dd data-md>
       <p>0</p>
     </dl>
    <li data-md>
     <p>Let <var>report</var> be a new <a data-link-type="dfn" href="#aggregatable-report" id="ref-for-aggregatable-report①③">aggregatable report</a> struct whose items are:</p>
     <dl>
      <dt data-md><a data-link-type="dfn" href="#attribution-report-reporting-origin" id="ref-for-attribution-report-reporting-origin④">reporting origin</a>
      <dd data-md>
       <p><var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-reporting-origin" id="ref-for-attribution-trigger-reporting-origin⑧">reporting origin</a></p>
      <dt data-md><a data-link-type="dfn" href="#aggregatable-report-effective-attribution-destination" id="ref-for-aggregatable-report-effective-attribution-destination③">effective attribution destination</a>
      <dd data-md>
       <p><var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-attribution-destination" id="ref-for-attribution-trigger-attribution-destination⑨">attribution destination</a></p>
      <dt data-md><a data-link-type="dfn" href="#aggregatable-report-source-time" id="ref-for-aggregatable-report-source-time①">source time</a>
      <dd data-md>
       <p><var>sourceTime</var></p>
      <dt data-md><a data-link-type="dfn" href="#attribution-report-original-report-time" id="ref-for-attribution-report-original-report-time②">original report time</a>
      <dd data-md>
       <p><var>reportTime</var></p>
      <dt data-md><a data-link-type="dfn" href="#attribution-report-report-time" id="ref-for-attribution-report-report-time④">report time</a>
      <dd data-md>
       <p><var>reportTime</var></p>
      <dt data-md><a data-link-type="dfn" href="#attribution-report-report-id" id="ref-for-attribution-report-report-id②">report id</a>
      <dd data-md>
       <p>The result of <a data-link-type="dfn" href="https://wicg.github.io/uuid/#dfn-generate-a-random-uuid" id="ref-for-dfn-generate-a-random-uuid④">generating a random UUID</a></p>
      <dt data-md><a data-link-type="dfn" href="#attribution-report-source-debug-key" id="ref-for-attribution-report-source-debug-key④">source debug key</a>
      <dd data-md>
       <p>null</p>
      <dt data-md><a data-link-type="dfn" href="#attribution-report-trigger-debug-key" id="ref-for-attribution-report-trigger-debug-key④">trigger debug key</a>
      <dd data-md>
       <p><var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-debug-key" id="ref-for-attribution-trigger-debug-key⑥">debug key</a></p>
      <dt data-md><a data-link-type="dfn" href="#aggregatable-report-contributions" id="ref-for-aggregatable-report-contributions③">contributions</a>
      <dd data-md>
       <p>« <var>contribution</var> »</p>
      <dt data-md><a data-link-type="dfn" href="#aggregatable-report-serialized-private-state-token" id="ref-for-aggregatable-report-serialized-private-state-token①">serialized private state token</a>
      <dd data-md>
       <p>null</p>
      <dt data-md><a data-link-type="dfn" href="#aggregatable-report-aggregation-coordinator" id="ref-for-aggregatable-report-aggregation-coordinator①">aggregation coordinator</a>
      <dd data-md>
       <p><var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-aggregation-coordinator" id="ref-for-attribution-trigger-aggregation-coordinator③">aggregation coordinator</a></p>
      <dt data-md><a data-link-type="dfn" href="#aggregatable-report-source-registration-time-configuration" id="ref-for-aggregatable-report-source-registration-time-configuration①">source registration time configuration</a>
      <dd data-md>
       <p><var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-aggregatable-source-registration-time-configuration" id="ref-for-attribution-trigger-aggregatable-source-registration-time-configuration③">aggregatable source registration time configuration</a></p>
      <dt data-md><a data-link-type="dfn" href="#aggregatable-report-is-null-report" id="ref-for-aggregatable-report-is-null-report①">is null report</a>
      <dd data-md>
       <p>true</p>
     </dl>
    <li data-md>
     <p>Return <var>report</var>.</p>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="obtain-rounded-source-time">obtain rounded source time</dfn> given a <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-moment" id="ref-for-dfn-moment②④">moment</a> <var>sourceTime</var>, return <var>sourceTime</var> in seconds
since the UNIX epoch, rounded down to a multiple of a whole day (86400 seconds).</p>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="determine-if-a-randomized-null-report-is-generated">determine if a randomized null report is generated</dfn> given a double <var>randomPickRate</var>:</p>
   <ol>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert①⑥">Assert</a>: <var>randomPickRate</var> is between 0 and 1 (both inclusive).</p>
    <li data-md>
     <p>Let <var>r</var> be a random double beween 0 (inclusive) and 1 (exclusive) with uniform probability.</p>
    <li data-md>
     <p>If <var>r</var> is less than <var>randomPickRate</var>, return true.</p>
    <li data-md>
     <p>Otherwise, return false.</p>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="generate-null-reports">generate null reports</dfn> given an <a data-link-type="dfn" href="#attribution-trigger" id="ref-for-attribution-trigger②⑨">attribution trigger</a> <var>trigger</var> and an optional <a data-link-type="dfn" href="#aggregatable-report" id="ref-for-aggregatable-report①④">aggregatable report</a> <var>report</var> defaulting to null:</p>
   <ol>
    <li data-md>
     <p>Let <var>nullReports</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty②⑨">empty</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list④⑤">list</a>.</p>
    <li data-md>
     <p>If <var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-aggregatable-source-registration-time-configuration" id="ref-for-attribution-trigger-aggregatable-source-registration-time-configuration④">aggregatable source registration time configuration</a> is "<code><a data-link-type="dfn" href="#aggregatable-source-registration-time-configuration-exclude" id="ref-for-aggregatable-source-registration-time-configuration-exclude③">exclude</a></code>":</p>
     <ol>
      <li data-md>
       <p>If <var>report</var> is null and the result of <a data-link-type="dfn" href="#determine-if-a-randomized-null-report-is-generated" id="ref-for-determine-if-a-randomized-null-report-is-generated">determining if a randomized null report is generated</a> with <a data-link-type="dfn" href="#randomized-null-report-rate-excluding-source-registration-time" id="ref-for-randomized-null-report-rate-excluding-source-registration-time">randomized null report rate excluding source registration time</a> is true:</p>
       <ol>
        <li data-md>
         <p>Let <var>nullReport</var> be the result of <a data-link-type="dfn" href="#obtain-a-null-report" id="ref-for-obtain-a-null-report">obtaining a null report</a> with <var>trigger</var> and <var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-trigger-time" id="ref-for-attribution-trigger-trigger-time①⑤">trigger time</a>.</p>
        <li data-md>
         <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-append" id="ref-for-set-append①④">Append</a> <var>nullReport</var> to the <a data-link-type="dfn" href="#aggregatable-report-cache" id="ref-for-aggregatable-report-cache⑤">aggregatable report cache</a>.</p>
        <li data-md>
         <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append②①">Append</a> <var>nullReport</var> to <var>nullReports</var>.</p>
       </ol>
     </ol>
    <li data-md>
     <p>Otherwise:</p>
     <ol>
      <li data-md>
       <p>Let <var>maxSourceExpiry</var> be <a data-link-type="dfn" href="#valid-source-expiry-range" id="ref-for-valid-source-expiry-range①">valid source expiry range</a>[1].</p>
      <li data-md>
       <p>Round <var>maxSourceExpiry</var> away from zero to the nearest day (86400 seconds).</p>
      <li data-md>
       <p>Let <var>roundedAttributedSourceTime</var> be null.</p>
      <li data-md>
       <p>If <var>report</var> is not null, set <var>roundedAttributedSourceTime</var> to the result of <a data-link-type="dfn" href="#obtain-rounded-source-time" id="ref-for-obtain-rounded-source-time">obtaining rounded source time</a> with <var>report</var>’s <a data-link-type="dfn" href="#aggregatable-report-source-time" id="ref-for-aggregatable-report-source-time②">source time</a>.</p>
      <li data-md>
       <p>For each integer <var>day</var> between 0 (inclusive) and the number of days in <var>maxSourceExpiry</var> (inclusive):</p>
       <ol>
        <li data-md>
         <p>Let <var>fakeSourceTime</var> be <var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-trigger-time" id="ref-for-attribution-trigger-trigger-time①⑥">trigger time</a> - <var>day</var> days.</p>
        <li data-md>
         <p>If <var>roundedAttributedSourceTime</var> is not null and equals the result of <a data-link-type="dfn" href="#obtain-rounded-source-time" id="ref-for-obtain-rounded-source-time①">obtaining rounded source time</a> with <var>fakeSourceTime</var>:</p>
         <ol>
          <li data-md>
           <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue①⑦">Continue</a>.</p>
         </ol>
        <li data-md>
         <p>If the result of <a data-link-type="dfn" href="#determine-if-a-randomized-null-report-is-generated" id="ref-for-determine-if-a-randomized-null-report-is-generated①">determining if a randomized null report is generated</a> with <a data-link-type="dfn" href="#randomized-null-report-rate-including-source-registration-time" id="ref-for-randomized-null-report-rate-including-source-registration-time">randomized null report rate including source registration time</a> is true:</p>
         <ol>
          <li data-md>
           <p>Let <var>nullReport</var> be the result of <a data-link-type="dfn" href="#obtain-a-null-report" id="ref-for-obtain-a-null-report①">obtaining a null report</a> with <var>trigger</var> and <var>fakeSourceTime</var>.</p>
          <li data-md>
           <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-append" id="ref-for-set-append①⑤">Append</a> <var>nullReport</var> to the <a data-link-type="dfn" href="#aggregatable-report-cache" id="ref-for-aggregatable-report-cache⑥">aggregatable report cache</a>.</p>
          <li data-md>
           <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append②②">Append</a> <var>nullReport</var> to <var>nullReports</var>.</p>
         </ol>
       </ol>
     </ol>
    <li data-md>
     <p>Return <var>nullReports</var>.</p>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="shuffle-a-list">shuffle a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list④⑥">list</a></dfn> <var>list</var>, reorder <var>list</var>’s elements such that each possible permutation has equal
probability of appearance.</p>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="assign-private-state-tokens">assign private state tokens</dfn> given a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list④⑦">list</a> of <a data-link-type="dfn" href="#aggregatable-report" id="ref-for-aggregatable-report①⑤">aggregatable reports</a> <var>reports</var> and
an <a data-link-type="dfn" href="#attribution-trigger" id="ref-for-attribution-trigger③⓪">attribution trigger</a> <var>trigger</var>:</p>
   <ol>
    <li data-md>
     <p>If <var>reports</var> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty③⓪">is empty</a>, return.</p>
    <li data-md>
     <p>Let <var>verifications</var> be <var>trigger</var>’s <a data-link-type="dfn" href="#attribution-trigger-verifications" id="ref-for-attribution-trigger-verifications②">verifications</a>.</p>
    <li data-md>
     <p>If <var>verifications</var> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty③①">is empty</a>, return.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="#shuffle-a-list" id="ref-for-shuffle-a-list①">Shuffle</a> <var>reports</var>.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="#shuffle-a-list" id="ref-for-shuffle-a-list②">Shuffle</a> <var>verifications</var>.</p>
    <li data-md>
     <p>Let <var>n</var> be the minimum of <var>reports</var>’s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-size" id="ref-for-list-size①⑨">size</a> and <var>verifications</var>’s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-size" id="ref-for-list-size②⓪">size</a>.</p>
    <li data-md>
     <p>For each integer <var>i</var> between 0 (inclusive) and <var>n</var> (exclusive):</p>
     <ol>
      <li data-md>
       <p>Set <var>reports</var>[i]'s <a data-link-type="dfn" href="#attribution-report-report-id" id="ref-for-attribution-report-report-id③">report ID</a> to <var>verifications</var>[i]'s <a data-link-type="dfn" href="#trigger-verification-id" id="ref-for-trigger-verification-id">id</a>.</p>
      <li data-md>
       <p>Set <var>reports</var>[i]'s <a data-link-type="dfn" href="#aggregatable-report-serialized-private-state-token" id="ref-for-aggregatable-report-serialized-private-state-token②">serialized private state token</a> to <var>verifications</var>[i]'s <a data-link-type="dfn" href="#trigger-verification-token" id="ref-for-trigger-verification-token①">token</a>.</p>
     </ol>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="generate-null-reports-and-assign-private-state-tokens">generate null reports and assign private state tokens</dfn> given an <a data-link-type="dfn" href="#attribution-trigger" id="ref-for-attribution-trigger③①">attribution trigger</a> <var>trigger</var> and an optional <a data-link-type="dfn" href="#aggregatable-report" id="ref-for-aggregatable-report①⑥">aggregatable report</a> <dfn class="dfn-paneled" data-dfn-for="generate null reports and assign private state tokens" data-dfn-type="dfn" data-noexport id="generate-null-reports-and-assign-private-state-tokens-report"><var>report</var></dfn> defaulting to null:</p>
   <ol>
    <li data-md>
     <p>Let <var>reports</var> be the result of <a data-link-type="dfn" href="#generate-null-reports" id="ref-for-generate-null-reports">generating null reports</a> with <var>trigger</var> and <var>report</var>.</p>
    <li data-md>
     <p>If <var>report</var> is not null:</p>
     <ol>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append②③">Append</a> <var>report</var> to <var>reports</var>.</p>
     </ol>
    <li data-md>
     <p>Run <a data-link-type="dfn" href="#assign-private-state-tokens" id="ref-for-assign-private-state-tokens">assign private state tokens</a> with <var>reports</var> and <var>trigger</var>.</p>
   </ol>
   <h3 class="heading settled" data-level="13.17" id="deferring-trigger-attribution"><span class="secno">13.17. </span><span class="content">Deferring trigger attribution</span><a class="self-link" href="#deferring-trigger-attribution"></a></h3>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="maybe-defer-and-then-complete-trigger-attribution">maybe defer and then complete trigger attribution</dfn> given an <a data-link-type="dfn" href="#attribution-trigger" id="ref-for-attribution-trigger③②">attribution trigger</a> <var>trigger</var>,
run the following steps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel">in parallel</a>:</p>
   <ol>
    <li data-md>
     <p>Let <var>navigation</var> be the navigation that landed on the <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-document" id="ref-for-concept-document③">document</a> from which <var>trigger</var>’s registration was initiated.</p>
    <li data-md>
     <p>If <var>navigation</var> is null, return.</p>
    <li data-md>
     <p>Let <var>sources</var> be all source registrations originating from background attributionsrc requests initiated by <var>navigation</var>.</p>
    <li data-md>
     <p>If <var>sources</var> is empty, return.</p>
    <li data-md>
     <p>Wait until all <var>sources</var> are <a data-link-type="dfn" href="#process-an-attribution-source" id="ref-for-process-an-attribution-source②">processed</a>.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="#trigger-attribution" id="ref-for-trigger-attribution">Trigger attribution</a> with <var>trigger</var>.</p>
   </ol>
   <p class="issue" id="issue-28aca340"><a class="self-link" href="#issue-28aca340"></a> Specify this in terms of <a href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigating-across-documents">Navigation</a></p>
   <h2 class="heading settled" data-level="14" id="report-delivery"><span class="secno">14. </span><span class="content">Report delivery</span><a class="self-link" href="#report-delivery"></a></h2>
   <p>The user agent MUST periodically <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate②⑧">iterate</a> over its <a data-link-type="dfn" href="#event-level-report-cache" id="ref-for-event-level-report-cache⑧">event-level report cache</a> and <a data-link-type="dfn" href="#aggregatable-report-cache" id="ref-for-aggregatable-report-cache⑦">aggregatable report cache</a> and run <a data-link-type="dfn" href="#queue-a-report-for-delivery" id="ref-for-queue-a-report-for-delivery">queue a report for delivery</a> on each item.</p>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="queue-a-report-for-delivery">queue a report for delivery</dfn> given an <a data-link-type="dfn" href="#attribution-report" id="ref-for-attribution-report⑥">attribution report</a> <var>report</var>, run the following steps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel①">in parallel</a>:</p>
   <ol>
    <li data-md>
     <p>If <var>report</var>’s <a data-link-type="dfn" href="#attribution-report-delivered" id="ref-for-attribution-report-delivered">delivered</a> value is true, return.</p>
    <li data-md>
     <p>Set <var>report</var>’s <a data-link-type="dfn" href="#attribution-report-delivered" id="ref-for-attribution-report-delivered①">delivered</a> value to true.</p>
    <li data-md>
     <p>If <var>report</var>’s <a data-link-type="dfn" href="#attribution-report-report-time" id="ref-for-attribution-report-report-time⑤">report time</a> is less than <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-current-wall-time" id="ref-for-dfn-current-wall-time③">current wall time</a>, add an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#implementation-defined" id="ref-for-implementation-defined③">implementation-defined</a> random non-negative <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-duration" id="ref-for-dfn-duration①②">duration</a> to <var>report</var>’s <a data-link-type="dfn" href="#attribution-report-report-time" id="ref-for-attribution-report-report-time⑥">report time</a>.</p>
     <p class="note" role="note"><span class="marker">Note:</span> On startup, it is possible the user agent will need to send many reports whose report times passed while the browser was
 closed. Adding random delay prevents temporal joining of reports from different <a data-link-type="dfn" href="#attribution-source-source-origin" id="ref-for-attribution-source-source-origin⑤">source origin</a>s.</p>
    <li data-md>
     <p>Wait until <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-current-wall-time" id="ref-for-dfn-current-wall-time④">current wall time</a> is equal to <var>report</var>’s <a data-link-type="dfn" href="#attribution-report-report-time" id="ref-for-attribution-report-report-time⑦">report time</a>.</p>
    <li data-md>
     <p>Optionally, wait a further <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#implementation-defined" id="ref-for-implementation-defined④">implementation-defined</a> <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-duration" id="ref-for-dfn-duration①③">duration</a>.</p>
     <p class="note" role="note"><span class="marker">Note:</span> This is intended to allow user agents to optimize device resource usage.</p>
    <li data-md>
     <p>Run <a data-link-type="dfn" href="#attempt-to-deliver-a-report" id="ref-for-attempt-to-deliver-a-report">attempt to deliver a report</a> with <var>report</var>.</p>
   </ol>
   <h3 class="heading settled" data-level="14.1" id="encode-integer"><span class="secno">14.1. </span><span class="content">Encode an unsigned k-bit integer</span><a class="self-link" href="#encode-integer"></a></h3>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="encode-an-unsigned-k-bit-integer">encode an unsigned k-bit integer</dfn>, represent it as a big-endian <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence" id="ref-for-byte-sequence④">byte sequence</a> of length k / 8, left padding with zero as necessary.</p>
   <h3 class="heading settled" data-level="14.2" id="obtain-aggregatable-report-debug-mode"><span class="secno">14.2. </span><span class="content">Obtaining an aggregatable report’s debug mode</span><a class="self-link" href="#obtain-aggregatable-report-debug-mode"></a></h3>
   <p>An <a data-link-type="dfn" href="#aggregatable-report" id="ref-for-aggregatable-report①⑦">aggregatable report</a> <var>report</var>’s <dfn class="dfn-paneled" data-dfn-for="aggregatable report" data-dfn-type="dfn" data-noexport id="aggregatable-report-debug-mode">debug mode</dfn> is the result
of running the following steps:</p>
   <ol>
    <li data-md>
     <p>If <var>report</var>’s <a data-link-type="dfn" href="#attribution-report-source-debug-key" id="ref-for-attribution-report-source-debug-key⑤">source debug key</a> is null, return <strong>disabled</strong>.</p>
    <li data-md>
     <p>If <var>report</var>’s <a data-link-type="dfn" href="#attribution-report-trigger-debug-key" id="ref-for-attribution-report-trigger-debug-key⑤">trigger debug key</a> is null, return <strong>disabled</strong>.</p>
    <li data-md>
     <p>Return <strong>enabled</strong>.</p>
   </ol>
   <h3 class="heading settled" data-level="14.3" id="obtain-aggregatable-report-shared-info"><span class="secno">14.3. </span><span class="content">Obtaining an aggregatable report’s shared info</span><a class="self-link" href="#obtain-aggregatable-report-shared-info"></a></h3>
   <p>An <a data-link-type="dfn" href="#aggregatable-report" id="ref-for-aggregatable-report①⑧">aggregatable report</a> <var>report</var>’s <dfn class="dfn-paneled" data-dfn-for="aggregatable report" data-dfn-type="dfn" data-noexport id="aggregatable-report-shared-info">shared info</dfn> is the result
of running the following steps:</p>
   <ol>
    <li data-md>
     <p>Let <var>reportingOrigin</var> be <var>report</var>’s <a data-link-type="dfn" href="#attribution-report-reporting-origin" id="ref-for-attribution-report-reporting-origin⑤">reporting origin</a>.</p>
    <li data-md>
     <p>Let <var>sharedInfo</var> be an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map③③">ordered map</a> of the following key/value pairs:</p>
     <dl>
      <dt data-md>"<code>api</code>"
      <dd data-md>
       <p>"<code>attribution-reporting</code>"</p>
      <dt data-md>"<code>attribution_destination</code>"
      <dd data-md>
       <p><var>report</var>’s <a data-link-type="dfn" href="#aggregatable-report-effective-attribution-destination" id="ref-for-aggregatable-report-effective-attribution-destination④">effective attribution destination</a>, <a href="https://html.spec.whatwg.org/multipage/origin.html#serialization-of-a-site">serialized</a></p>
      <dt data-md>"<code>report_id</code>"
      <dd data-md>
       <p><var>report</var>’s <a data-link-type="dfn" href="#attribution-report-report-id" id="ref-for-attribution-report-report-id④">report ID</a></p>
      <dt data-md>"<code>reporting_origin</code>"
      <dd data-md>
       <p><var>reportingOrigin</var>, <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#ascii-serialisation-of-an-origin" id="ref-for-ascii-serialisation-of-an-origin">serialized</a></p>
      <dt data-md>"<code>scheduled_report_time</code>"
      <dd data-md>
       <p><var>report</var>’s <a data-link-type="dfn" href="#attribution-report-original-report-time" id="ref-for-attribution-report-original-report-time③">original report time</a> in seconds since the UNIX epoch, <a data-link-type="dfn" href="#serialize-an-integer" id="ref-for-serialize-an-integer①③">serialized</a></p>
      <dt data-md>"<code>version</code>"
      <dd data-md>
       <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string③①">string</a>, API version.</p>
     </dl>
    <li data-md>
     <p>If <var>report</var>’s <a data-link-type="dfn" href="#aggregatable-report-debug-mode" id="ref-for-aggregatable-report-debug-mode">debug mode</a> is <strong>enabled</strong>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set②②">set</a> <var>sharedInfo</var>["<code>debug_mode</code>"] to "<code>enabled</code>".</p>
    <li data-md>
     <p>If <var>report</var>’s <a data-link-type="dfn" href="#aggregatable-report-source-registration-time-configuration" id="ref-for-aggregatable-report-source-registration-time-configuration②">source registration time configuration</a> is:</p>
     <dl class="switch">
      <dt data-md>"<code><a data-link-type="dfn" href="#aggregatable-source-registration-time-configuration-include" id="ref-for-aggregatable-source-registration-time-configuration-include①">include</a></code>"</dt>
      <p></p>
      <dd data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set②③">Set</a> <var>sharedInfo</var>["<code>source_registration_time</code>"] to the result of <a data-link-type="dfn" href="#obtain-rounded-source-time" id="ref-for-obtain-rounded-source-time②">obtaining rounded source time</a> with <var>report</var>’s <a data-link-type="dfn" href="#aggregatable-report-source-time" id="ref-for-aggregatable-report-source-time③">source time</a>, <a data-link-type="dfn" href="#serialize-an-integer" id="ref-for-serialize-an-integer①④">serialized</a>.</p>
      <dt data-md>"<code><a data-link-type="dfn" href="#aggregatable-source-registration-time-configuration-exclude" id="ref-for-aggregatable-source-registration-time-configuration-exclude④">exclude</a></code>"
      <dd data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set②④">Set</a> <var>sharedInfo</var>["<code>source_registration_time</code>"] to "<code>0</code>".</p>
     </dl>
    <li data-md>
     <p>Return the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string③②">string</a> resulting from executing <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#serialize-an-infra-value-to-a-json-string" id="ref-for-serialize-an-infra-value-to-a-json-string">serialize an infra value to a json string</a> on <var>sharedInfo</var>.</p>
   </ol>
   <h3 class="heading settled" data-level="14.4" id="obtain-aggregatable-report-aggregation-service-payloads"><span class="secno">14.4. </span><span class="content">Obtaining an aggregatable report’s aggregation service payloads</span><a class="self-link" href="#obtain-aggregatable-report-aggregation-service-payloads"></a></h3>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="obtain-the-public-key-for-encryption">obtain the public key for encryption</dfn> given an <a data-link-type="dfn" href="#aggregation-coordinator" id="ref-for-aggregation-coordinator④">aggregation coordinator</a> <var>aggregationCoordinator</var>:</p>
   <ol>
    <li data-md>
     <p>Let <var>url</var> be a new <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url③">URL record</a>.</p>
    <li data-md>
     <p>Set <var>url</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-scheme" id="ref-for-concept-url-scheme①">scheme</a> to <var>aggregationCoordinator</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-scheme" id="ref-for-concept-origin-scheme①">scheme</a>.</p>
    <li data-md>
     <p>Set <var>url</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-host" id="ref-for-concept-url-host">host</a> to <var>aggregationCoordinator</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-host" id="ref-for-concept-origin-host①">host</a>.</p>
    <li data-md>
     <p>Set <var>url</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-port" id="ref-for-concept-url-port">port</a> to <var>aggregationCoordinator</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-port" id="ref-for-concept-origin-port">port</a>.</p>
    <li data-md>
     <p>Set <var>url</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-path" id="ref-for-concept-url-path">path</a> to «"<code>.well-known</code>", "<code>aggregation-service</code>", "<code>public-keys</code>"».</p>
    <li data-md>
     <p>Return a user-agent-determined public key from <var>url</var> or an error in the event that the user
agent failed to obtain the public key from <var>url</var>. This step may be asynchronous.</p>
   </ol>
   <p class="issue" id="issue-0c097fe9"><a class="self-link" href="#issue-0c097fe9"></a> Specify this in terms of <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-fetch" id="ref-for-concept-fetch⑤">fetch</a>.</p>
   <p class="note" role="note"><span class="marker">Note:</span> The user agent might enforce weekly key rotation. If there are multiple keys, the user agent
might independently pick a key uniformly at random for every encryption operation.
The key should be uniquely identifiable.</p>
   <p>An <a data-link-type="dfn" href="#aggregatable-report" id="ref-for-aggregatable-report①⑨">aggregatable report</a> <var>report</var>’s <dfn class="dfn-paneled" data-dfn-for="aggregatable report" data-dfn-type="dfn" data-noexport id="aggregatable-report-plaintext-payload">plaintext payload</dfn> is the result of running the following steps:</p>
   <ol>
    <li data-md>
     <p>Let <var>payloadData</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty③②">empty</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list④⑧">list</a>.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate②⑨">For each</a> <var>contribution</var> of <var>report</var>’s <a data-link-type="dfn" href="#aggregatable-report-contributions" id="ref-for-aggregatable-report-contributions④">contributions</a>:</p>
     <ol>
      <li data-md>
       <p>Let <var>contributionData</var> be a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map③④">map</a> of the following key/value pairs:</p>
       <dl>
        <dt data-md>"<code>bucket</code>"
        <dd data-md>
         <p><var>contribution</var>’s <a data-link-type="dfn" href="#aggregatable-contribution-key" id="ref-for-aggregatable-contribution-key②">key</a>, <a data-link-type="dfn" href="#encode-an-unsigned-k-bit-integer" id="ref-for-encode-an-unsigned-k-bit-integer">encoded</a></p>
        <dt data-md>"<code>value</code>"
        <dd data-md>
         <p><var>contribution</var>’s <a data-link-type="dfn" href="#aggregatable-contribution-value" id="ref-for-aggregatable-contribution-value④">value</a>, <a data-link-type="dfn" href="#encode-an-unsigned-k-bit-integer" id="ref-for-encode-an-unsigned-k-bit-integer①">encoded</a></p>
       </dl>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append②④">Append</a> <var>contributionData</var> to <var>payloadData</var>.</p>
     </ol>
    <li data-md>
     <p>Let <var>payload</var> be a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map③⑤">map</a> of the following key/value pairs:</p>
     <dl>
      <dt data-md>"<code>data</code>"
      <dd data-md>
       <p><var>payloadData</var></p>
      <dt data-md>"<code>operation</code>"
      <dd data-md>
       <p>"<code>histogram</code>"</p>
     </dl>
    <li data-md>
     <p>Return the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence" id="ref-for-byte-sequence⑤">byte sequence</a> resulting from <a data-link-type="biblio" href="#biblio-rfc8949" title="Concise Binary Object Representation (CBOR)">CBOR encoding</a> <var>payload</var>.</p>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="obtain-the-encrypted-payload">obtain the encrypted payload</dfn> given an <a data-link-type="dfn" href="#aggregatable-report" id="ref-for-aggregatable-report②⓪">aggregatable report</a> <var>report</var> and
a public key <var>pkR</var>, run the following steps:</p>
   <ol>
    <li data-md>
     <p>Let <var>plaintext</var> be <var>report</var>’s <a data-link-type="dfn" href="#aggregatable-report-plaintext-payload" id="ref-for-aggregatable-report-plaintext-payload">plaintext payload</a>.</p>
    <li data-md>
     <p>Let <var>encodedSharedInfo</var> be <var>report</var>’s <a data-link-type="dfn" href="#aggregatable-report-shared-info" id="ref-for-aggregatable-report-shared-info②">shared info</a>, <a data-link-type="dfn" href="https://encoding.spec.whatwg.org/#utf-8-encode" id="ref-for-utf-8-encode">encoded</a>.</p>
    <li data-md>
     <p>Let <var>info</var> be the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-concatenate" id="ref-for-string-concatenate①">concatenation</a> of «"<code>aggregation_service</code>", <var>encodedSharedInfo</var>».</p>
    <li data-md>
     <p>Set up <a data-link-type="biblio" href="#biblio-rfc9180" title="Hybrid Public Key Encryption">HPKE</a> <a href="https://www.rfc-editor.org/rfc/rfc9180#name-encryption-to-a-public-key">sender’s context</a> with <var>pkR</var> and <var>info</var>.</p>
    <li data-md>
     <p>Return the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence" id="ref-for-byte-sequence⑥">byte sequence</a> or an error resulting from <a href="https://www.rfc-editor.org/rfc/rfc9180#name-encryption-and-decryption">encrypting</a> <var>plaintext</var> with the <a href="https://www.rfc-editor.org/rfc/rfc9180#name-encryption-to-a-public-key">sender’s context</a>.</p>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="obtain-the-aggregation-service-payloads">obtain the aggregation service payloads</dfn> given an <a data-link-type="dfn" href="#aggregatable-report" id="ref-for-aggregatable-report②①">aggregatable report</a> <var>report</var>,
run the following steps:</p>
   <ol>
    <li data-md>
     <p>Let <var>pkR</var> be the result of running <a data-link-type="dfn" href="#obtain-the-public-key-for-encryption" id="ref-for-obtain-the-public-key-for-encryption">obtain the public key for encryption</a> with <var>report</var>’s <a data-link-type="dfn" href="#aggregatable-report-aggregation-coordinator" id="ref-for-aggregatable-report-aggregation-coordinator②">aggregation coordinator</a>.</p>
    <li data-md>
     <p>If <var>pkR</var> is an error, return <var>pkR</var>.</p>
    <li data-md>
     <p>Let <var>encryptedPayload</var> be the result of running <a data-link-type="dfn" href="#obtain-the-encrypted-payload" id="ref-for-obtain-the-encrypted-payload">obtain the encrypted payload</a> with <var>report</var> and <var>pkR</var>.</p>
    <li data-md>
     <p>If <var>encryptedPayload</var> is an error, return <var>encryptedPayload</var>.</p>
    <li data-md>
     <p>Let <var>aggregationServicePayloads</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty③③">empty</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list④⑨">list</a>.</p>
    <li data-md>
     <p>Let <var>aggregationServicePayload</var> be a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map③⑥">map</a> of the following key/value pairs:</p>
     <dl>
      <dt data-md>"<code>payload</code>"
      <dd data-md>
       <p><var>encryptedPayload</var>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#forgiving-base64-encode" id="ref-for-forgiving-base64-encode①">base64 encoded</a></p>
      <dt data-md>"<code>key_id</code>"
      <dd data-md>
       <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string③③">string</a> identifying <var>pkR</var></p>
     </dl>
    <li data-md>
     <p>If <var>report</var>’s <a data-link-type="dfn" href="#aggregatable-report-debug-mode" id="ref-for-aggregatable-report-debug-mode①">debug mode</a> is <strong>enabled</strong>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set②⑤">set</a> <var>aggregationServicePayload</var>["<code>debug_cleartext_payload</code>"] to <var>report</var>’s <a data-link-type="dfn" href="#aggregatable-report-plaintext-payload" id="ref-for-aggregatable-report-plaintext-payload①">plaintext payload</a>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#forgiving-base64-encode" id="ref-for-forgiving-base64-encode②">base64 encoded</a>.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append②⑤">Append</a> <var>aggregationServicePayload</var> to <var>aggregationServicePayloads</var>.</p>
    <li data-md>
     <p>Return <var>aggregationServicePayloads</var>.</p>
   </ol>
   <h3 class="heading settled" data-level="14.5" id="serialize-report-body"><span class="secno">14.5. </span><span class="content">Serialize attribution report body</span><a class="self-link" href="#serialize-report-body"></a></h3>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="obtain-an-event-level-report-body">obtain an event-level report body</dfn> given an <a data-link-type="dfn" href="#attribution-report" id="ref-for-attribution-report⑦">attribution report</a> <var>report</var>, run the following steps:</p>
   <ol>
    <li data-md>
     <p>Let <var>data</var> be a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map③⑦">map</a> of the following key/value pairs:</p>
     <dl>
      <dt data-md>"<code>attribution_destination</code>"
      <dd data-md>
       <p><var>report</var>’s <a data-link-type="dfn" href="#event-level-report-attribution-destinations" id="ref-for-event-level-report-attribution-destinations④">attribution destinations</a>, <a data-link-type="dfn" href="#serialize-attribution-destinations" id="ref-for-serialize-attribution-destinations①">serialized</a>.</p>
      <dt data-md>"<code>randomized_trigger_rate</code>"
      <dd data-md>
       <p><var>report</var>’s <a data-link-type="dfn" href="#event-level-report-randomized-trigger-rate" id="ref-for-event-level-report-randomized-trigger-rate①">randomized trigger rate</a></p>
      <dt data-md>"<code>source_type</code>"
      <dd data-md>
       <p><var>report</var>’s <a data-link-type="dfn" href="#event-level-report-source-type" id="ref-for-event-level-report-source-type">source type</a></p>
      <dt data-md>"<code>source_event_id</code>"
      <dd data-md>
       <p><var>report</var>’s <a data-link-type="dfn" href="#event-level-report-event-id" id="ref-for-event-level-report-event-id①">event ID</a>, <a data-link-type="dfn" href="#serialize-an-integer" id="ref-for-serialize-an-integer①⑤">serialized</a></p>
      <dt data-md>"<code>trigger_data</code>"
      <dd data-md>
       <p><var>report</var>’s <a data-link-type="dfn" href="#event-level-report-trigger-data" id="ref-for-event-level-report-trigger-data①">trigger data</a>, <a data-link-type="dfn" href="#serialize-an-integer" id="ref-for-serialize-an-integer①⑥">serialized</a></p>
      <dt data-md>"<code>report_id</code>"
      <dd data-md>
       <p><var>report</var>’s <a data-link-type="dfn" href="#attribution-report-report-id" id="ref-for-attribution-report-report-id⑤">report ID</a></p>
      <dt data-md>"<code>scheduled_report_time</code>"
      <dd data-md>
       <p><var>report</var>’s <a data-link-type="dfn" href="#attribution-report-original-report-time" id="ref-for-attribution-report-original-report-time④">original report time</a> in seconds since the UNIX epoch, <a data-link-type="dfn" href="#serialize-an-integer" id="ref-for-serialize-an-integer①⑦">serialized</a></p>
     </dl>
    <li data-md>
     <p>If <var>report</var>’s <a data-link-type="dfn" href="#attribution-report-source-debug-key" id="ref-for-attribution-report-source-debug-key⑥">source debug key</a> is not null, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set②⑥">set</a> <var>data</var>["<code>source_debug_key</code>"] to <var>report</var>’s <a data-link-type="dfn" href="#attribution-report-source-debug-key" id="ref-for-attribution-report-source-debug-key⑦">source debug key</a>, <a data-link-type="dfn" href="#serialize-an-integer" id="ref-for-serialize-an-integer①⑧">serialized</a>.</p>
    <li data-md>
     <p>If <var>report</var>’s <a data-link-type="dfn" href="#attribution-report-trigger-debug-key" id="ref-for-attribution-report-trigger-debug-key⑥">trigger debug key</a> is not null, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set②⑦">set</a> <var>data</var>["<code>trigger_debug_key</code>"] to <var>report</var>’s <a data-link-type="dfn" href="#attribution-report-trigger-debug-key" id="ref-for-attribution-report-trigger-debug-key⑦">trigger debug key</a>, <a data-link-type="dfn" href="#serialize-an-integer" id="ref-for-serialize-an-integer①⑨">serialized</a>.</p>
    <li data-md>
     <p>Return <var>data</var>.</p>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="serialize-an-event-level-report">serialize an <a data-link-type="dfn" href="#event-level-report" id="ref-for-event-level-report①②">event-level report</a></dfn> <var>report</var>, run the following steps:</p>
   <ol>
    <li data-md>
     <p>Let <var>data</var> be the result of running <a data-link-type="dfn" href="#obtain-an-event-level-report-body" id="ref-for-obtain-an-event-level-report-body①">obtain an event-level report body</a> with <var>report</var>.</p>
    <li data-md>
     <p>Return the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence" id="ref-for-byte-sequence⑦">byte sequence</a> resulting from executing <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#serialize-an-infra-value-to-json-bytes" id="ref-for-serialize-an-infra-value-to-json-bytes">serialize an infra value to JSON bytes</a> on <var>data</var>.</p>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="serialize an aggregatable report" data-noexport id="serialize-an-aggregatable-report">serialize an <a data-link-type="dfn" href="#aggregatable-report" id="ref-for-aggregatable-report②②">aggregatable report</a> </dfn> <var>report</var>, run the following steps:</p>
   <ol>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert①⑦">Assert</a>: <var>report</var>’s <a data-link-type="dfn" href="#aggregatable-report-effective-attribution-destination" id="ref-for-aggregatable-report-effective-attribution-destination⑤">effective attribution destination</a> is not the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-opaque" id="ref-for-concept-origin-opaque①">opaque origin</a>.</p>
    <li data-md>
     <p>Let <var>aggregationServicePayloads</var> be the result of running <a data-link-type="dfn" href="#obtain-the-aggregation-service-payloads" id="ref-for-obtain-the-aggregation-service-payloads">obtain the aggregation service payloads</a>.</p>
    <li data-md>
     <p>If <var>aggregationServicePayloads</var> is an error, return <var>aggregationServicePayloads</var>.</p>
    <li data-md>
     <p>Let <var>data</var> be a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map③⑧">map</a> of the following key/value pairs:</p>
     <dl>
      <dt data-md>"<code>shared_info</code>"
      <dd data-md>
       <p><var>report</var>’s <a data-link-type="dfn" href="#aggregatable-report-shared-info" id="ref-for-aggregatable-report-shared-info③">shared info</a></p>
      <dt data-md>"<code>aggregation_service_payloads</code>"
      <dd data-md>
       <p><var>aggregationServicePayloads</var></p>
      <dt data-md>"<code>aggregation_coordinator_origin</code>"
      <dd data-md>
       <p><var>report</var>’s <a data-link-type="dfn" href="#aggregatable-report-aggregation-coordinator" id="ref-for-aggregatable-report-aggregation-coordinator③">aggregation coordinator</a>, <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#ascii-serialisation-of-an-origin" id="ref-for-ascii-serialisation-of-an-origin①">serialized</a></p>
     </dl>
    <li data-md>
     <p>If <var>report</var>’s <a data-link-type="dfn" href="#attribution-report-source-debug-key" id="ref-for-attribution-report-source-debug-key⑧">source debug key</a> is not null, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set②⑧">set</a> <var>data</var>["<code>source_debug_key</code>"] to <var>report</var>’s <a data-link-type="dfn" href="#attribution-report-source-debug-key" id="ref-for-attribution-report-source-debug-key⑨">source debug key</a>, <a data-link-type="dfn" href="#serialize-an-integer" id="ref-for-serialize-an-integer②⓪">serialized</a>.</p>
    <li data-md>
     <p>If <var>report</var>’s <a data-link-type="dfn" href="#attribution-report-trigger-debug-key" id="ref-for-attribution-report-trigger-debug-key⑧">trigger debug key</a> is not null, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set②⑨">set</a> <var>data</var>["<code>trigger_debug_key</code>"] to <var>report</var>’s <a data-link-type="dfn" href="#attribution-report-trigger-debug-key" id="ref-for-attribution-report-trigger-debug-key⑨">trigger debug key</a>, <a data-link-type="dfn" href="#serialize-an-integer" id="ref-for-serialize-an-integer②①">serialized</a>.</p>
    <li data-md>
     <p>Return the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence" id="ref-for-byte-sequence⑧">byte sequence</a> resulting from executing <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#serialize-an-infra-value-to-json-bytes" id="ref-for-serialize-an-infra-value-to-json-bytes①">serialize an infra value to JSON bytes</a> on <var>data</var>.</p>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="serialize-an-attribution-report">serialize an <a data-link-type="dfn" href="#attribution-report" id="ref-for-attribution-report⑧">attribution report</a></dfn> <var>report</var>, run the following steps:</p>
   <ol>
    <li data-md>
     <p>If <var>report</var> is an:</p>
     <dl class="switch">
      <dt><a data-link-type="dfn" href="#event-level-report" id="ref-for-event-level-report①③">event-level report</a>
      <dd>Return the result of running <a data-link-type="dfn" href="#serialize-an-event-level-report" id="ref-for-serialize-an-event-level-report">serialize an event-level report</a> with <var>report</var>.
      <dt><a data-link-type="dfn" href="#aggregatable-report" id="ref-for-aggregatable-report②③">aggregatable report</a>
      <dd>Return the result of running <a data-link-type="dfn" href="#serialize-an-aggregatable-report" id="ref-for-serialize-an-aggregatable-report">serialize an aggregatable report</a> with <var>report</var>.
     </dl>
   </ol>
   <p class="note" role="note"><span class="marker">Note:</span> The inclusion of "<code>report_id</code>" in the report body is intended to allow the report recipient
to perform deduplication and prevent double counting, in the event that the user agent retries
reports on failure. To prevent the report recipient from learning additional information about
whether a user is online, retries might be limited in number and subject to random delays.</p>
   <h3 class="heading settled" data-level="14.6" id="serialize-debug-report-body"><span class="secno">14.6. </span><span class="content">Serialize attribution debug report body</span><a class="self-link" href="#serialize-debug-report-body"></a></h3>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="serialize-an-attribution-debug-report">serialize an <a data-link-type="dfn" href="#attribution-debug-report" id="ref-for-attribution-debug-report①">attribution debug report</a></dfn> <var>report</var>, run the following steps:</p>
   <ol>
    <li data-md>
     <p>Let <var>collection</var> be an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty③④">empty</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list⑤⓪">list</a>.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate③⓪">For each</a> <var>debugData</var> of <var>report</var>’s <a data-link-type="dfn" href="#attribution-debug-report-data" id="ref-for-attribution-debug-report-data①">data</a>:</p>
     <ol>
      <li data-md>
       <p>Let <var>data</var> be a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map③⑨">map</a> of the following key/value pairs:</p>
       <dl>
        <dt data-md>"<code>type</code>"
        <dd data-md>
         <p><var>debugData</var>’s <a data-link-type="dfn" href="#attribution-debug-data-data-type" id="ref-for-attribution-debug-data-data-type⑤">data type</a></p>
        <dt data-md>"<code>body</code>"
        <dd data-md>
         <p><var>debugData</var>’s <a data-link-type="dfn" href="#attribution-debug-data-body" id="ref-for-attribution-debug-data-body③">body</a></p>
       </dl>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append②⑥">Append</a> <var>data</var> to <var>collection</var>.</p>
     </ol>
    <li data-md>
     <p>Return the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence" id="ref-for-byte-sequence⑨">byte sequence</a> resulting from executing <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#serialize-an-infra-value-to-json-bytes" id="ref-for-serialize-an-infra-value-to-json-bytes②">serialize an Infra value to JSON bytes</a> on <var>collection</var>.</p>
   </ol>
   <h3 class="heading settled" data-level="14.7" id="get-report-url"><span class="secno">14.7. </span><span class="content">Get report request URL</span><a class="self-link" href="#get-report-url"></a></h3>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="generate-a-report-url">generate a report URL</dfn> given a <a data-link-type="dfn" href="#suitable-origin" id="ref-for-suitable-origin①⑤">suitable origin</a> <var>reportingOrigin</var> and a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list⑤①">list</a> of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string③④">strings</a> <var>path</var>:</p>
   <ol>
    <li data-md>
     <p>Let <var>reportUrl</var> be a new <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url④">URL</a> record.</p>
    <li data-md>
     <p>Set <var>reportUrl</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-scheme" id="ref-for-concept-url-scheme②">scheme</a> to <var>reportingOrigin</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-scheme" id="ref-for-concept-origin-scheme②">scheme</a>.</p>
    <li data-md>
     <p>Set <var>reportUrl</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-host" id="ref-for-concept-url-host①">host</a> to <var>reportingOrigin</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-host" id="ref-for-concept-origin-host②">host</a>.</p>
    <li data-md>
     <p>Set <var>reportUrl</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-port" id="ref-for-concept-url-port①">port</a> to <var>reportingOrigin</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-port" id="ref-for-concept-origin-port①">port</a>.</p>
    <li data-md>
     <p>Let <var>fullPath</var> be «"<code>.well-known</code>", "<code>attribution-reporting</code>"».</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append②⑦">Append</a> <var>path</var> to <var>fullPath</var>.</p>
    <li data-md>
     <p>Set <var>reportUrl</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-path" id="ref-for-concept-url-path①">path</a> to <var>fullPath</var>.</p>
    <li data-md>
     <p>Return <var>reportUrl</var>.</p>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="generate-an-attribution-report-url">generate an attribution report URL</dfn> given an <a data-link-type="dfn" href="#attribution-report" id="ref-for-attribution-report⑨">attribution report</a> <var>report</var> and an optional <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#boolean" id="ref-for-boolean①①">boolean</a> <dfn class="dfn-paneled" data-dfn-for="generate an attribution report URL" data-dfn-type="dfn" data-noexport id="generate-an-attribution-report-url-isdebugreport"><var>isDebugReport</var></dfn> (default false):</p>
   <ol>
    <li data-md>
     <p>Let <var>path</var> be an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty③⑤">empty</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list⑤②">list</a>.</p>
    <li data-md>
     <p>If <var>isDebugReport</var> is true, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append②⑧">append</a> "<code>debug</code>" to <var>path</var>.</p>
    <li data-md>
     <p>If <var>report</var> is an:</p>
     <dl class="switch">
      <dt><a data-link-type="dfn" href="#event-level-report" id="ref-for-event-level-report①④">event-level report</a>
      <dd><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append②⑨">Append</a> "<code>report-event-attribution</code>" to <var>path</var>.
      <dt><a data-link-type="dfn" href="#aggregatable-report" id="ref-for-aggregatable-report②④">aggregatable report</a>
      <dd><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append③⓪">Append</a> "<code>report-aggregate-attribution</code>" to <var>path</var>.
     </dl>
    <li data-md>
     <p>Return the result of running <a data-link-type="dfn" href="#generate-a-report-url" id="ref-for-generate-a-report-url">generate a report URL</a> with <var>report</var>’s <a data-link-type="dfn" href="#attribution-report-reporting-origin" id="ref-for-attribution-report-reporting-origin⑥">reporting origin</a> and <var>path</var>.</p>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="generate-an-attribution-debug-report-url">generate an attribution debug report URL</dfn> given an <a data-link-type="dfn" href="#attribution-debug-report" id="ref-for-attribution-debug-report②">attribution debug report</a> <var>report</var>:</p>
   <ol>
    <li data-md>
     <p>Let <var>path</var> be «"<code>debug</code>", "<code>verbose</code>"».</p>
    <li data-md>
     <p>Return the result of running <a data-link-type="dfn" href="#generate-a-report-url" id="ref-for-generate-a-report-url①">generate a report URL</a> with <var>report</var>’s <a data-link-type="dfn" href="#attribution-debug-report-reporting-origin" id="ref-for-attribution-debug-report-reporting-origin①">reporting origin</a> and <var>path</var>.</p>
   </ol>
   <h3 class="heading settled" data-level="14.8" id="create-report-request"><span class="secno">14.8. </span><span class="content">Creating a report request</span><a class="self-link" href="#create-report-request"></a></h3>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="create-a-report-request">create a report request</dfn> given a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url⑤">URL</a> <var>url</var>, a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence" id="ref-for-byte-sequence①⓪">byte sequence</a> <var>body</var>,
and a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-list" id="ref-for-concept-header-list">header list</a> <var>newHeaders</var> (defaults to an empty <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list⑤③">list</a>):</p>
   <ol>
    <li data-md>
     <p>Let <var>headers</var> be a new <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-list" id="ref-for-concept-header-list①">header list</a> containing a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header" id="ref-for-concept-header">header</a> named
"<code>Content-Type</code>" whose value is "<code>application/json</code>".</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate③①">For each</a> <var>header</var> in <var>newHeaders</var>:</p>
     <ol>
      <li data-md>
       <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-list-append" id="ref-for-concept-header-list-append">Append</a> <var>header</var> to <var>headers</var>.</p>
     </ol>
    <li data-md>
     <p>Let <var>request</var> be a new <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request" id="ref-for-concept-request⑧">request</a> with the following properties:</p>
     <dl>
      <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-method" id="ref-for-concept-request-method①">method</a>
      <dd data-md>
       <p>"<code>POST</code>"</p>
      <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-url" id="ref-for-concept-request-url①">URL</a>
      <dd data-md>
       <p><var>url</var></p>
      <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-header-list" id="ref-for-concept-request-header-list②">header list</a>
      <dd data-md>
       <p><var>headers</var></p>
      <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-body" id="ref-for-concept-request-body">body</a>
      <dd data-md>
       <p>A <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-body" id="ref-for-concept-body">body</a> whose <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-body-source" id="ref-for-concept-body-source">source</a> is <var>body</var>.</p>
      <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-referrer" id="ref-for-concept-request-referrer">referrer</a>
      <dd data-md>
       <p>"<code>no-referrer</code>"</p>
      <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-client" id="ref-for-concept-request-client">client</a>
      <dd data-md>
       <p><code>null</code></p>
      <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-origin" id="ref-for-concept-request-origin">origin</a>
      <dd data-md>
       <p><var>url</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-origin" id="ref-for-concept-url-origin⑥">origin</a></p>
      <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-window" id="ref-for-concept-request-window">window</a>
      <dd data-md>
       <p>"<code>no-window</code>"</p>
      <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#request-service-workers-mode" id="ref-for-request-service-workers-mode">service-workers mode</a>
      <dd data-md>
       <p>"<code>none</code>"</p>
      <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-initiator" id="ref-for-concept-request-initiator">initiator</a>
      <dd data-md>
       <p>""</p>
      <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-mode" id="ref-for-concept-request-mode">mode</a>
      <dd data-md>
       <p>"<code>same-origin</code>"</p>
      <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#unsafe-request-flag" id="ref-for-unsafe-request-flag">unsafe-request flag</a>
      <dd data-md>
       <p>set</p>
      <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-credentials-mode" id="ref-for-concept-request-credentials-mode">credentials mode</a>
      <dd data-md>
       <p>"<code>omit</code>"</p>
      <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-cache-mode" id="ref-for-concept-request-cache-mode">cache mode</a>
      <dd data-md>
       <p>"<code>no-store</code>"</p>
     </dl>
    <li data-md>
     <p>Return <var>request</var>.</p>
   </ol>
   <h3 class="heading settled" data-level="14.9" id="get-report-headers"><span class="secno">14.9. </span><span class="content">Get report request headers</span><a class="self-link" href="#get-report-headers"></a></h3>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="generate-attribution-report-headers">generate attribution report headers</dfn> given an <a data-link-type="dfn" href="#attribution-report" id="ref-for-attribution-report①⓪">attribution report</a> <var>report</var>:</p>
   <ol>
    <li data-md>
     <p>Let <var>newHeaders</var> be a new <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-list" id="ref-for-concept-header-list②">header list</a>.</p>
    <li data-md>
     <p>If <var>report</var> is an <a data-link-type="dfn" href="#aggregatable-report" id="ref-for-aggregatable-report②⑤">aggregatable report</a>:</p>
     <ol>
      <li data-md>
       <p>If <var>report</var>’s <a data-link-type="dfn" href="#aggregatable-report-serialized-private-state-token" id="ref-for-aggregatable-report-serialized-private-state-token③">serialized private state token</a> is not null, <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-list-append" id="ref-for-concept-header-list-append①">append</a> a new <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header" id="ref-for-concept-header①">header</a> named "<code>Sec-Attribution-Reporting-Private-State-Token</code>" to <var>newHeaders</var> whose value is <var>report</var>’s <a data-link-type="dfn" href="#aggregatable-report-serialized-private-state-token" id="ref-for-aggregatable-report-serialized-private-state-token④">serialized private state token</a>.</p>
     </ol>
    <li data-md>
     <p>Return <var>newHeaders</var>.</p>
   </ol>
   <h3 class="heading settled" data-level="14.10" id="issue-report-request"><span class="secno">14.10. </span><span class="content">Issuing a report request</span><a class="self-link" href="#issue-report-request"></a></h3>
   <p>This algorithm constructs a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request" id="ref-for-concept-request⑨">request</a> and attempts to deliver it to a <a data-link-type="dfn" href="#suitable-origin" id="ref-for-suitable-origin①⑥">suitable origin</a>.</p>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="remove-a-report-from-the-cache">remove a report from the cache</dfn> given an <a data-link-type="dfn" href="#attribution-report" id="ref-for-attribution-report①①">attribution report</a> <var>report</var>:</p>
   <ol>
    <li data-md>
     <p>If <var>report</var> is an:</p>
     <dl class="switch">
      <dt><a data-link-type="dfn" href="#event-level-report" id="ref-for-event-level-report①⑤">event-level report</a>
      <dd><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task③">Queue a task</a> to <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove" id="ref-for-list-remove①⓪">remove</a> <var>report</var> from the <a data-link-type="dfn" href="#event-level-report-cache" id="ref-for-event-level-report-cache⑨">event-level report cache</a>.
      <dt><a data-link-type="dfn" href="#aggregatable-report" id="ref-for-aggregatable-report②⑥">aggregatable report</a>
      <dd><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task④">Queue a task</a> to <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove" id="ref-for-list-remove①①">remove</a> <var>report</var> from the <a data-link-type="dfn" href="#aggregatable-report-cache" id="ref-for-aggregatable-report-cache⑧">aggregatable report cache</a>.
     </dl>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="attempt-to-deliver-a-report">attempt to deliver a report</dfn> given an <a data-link-type="dfn" href="#attribution-report" id="ref-for-attribution-report①②">attribution report</a> <var>report</var>, run the following steps:</p>
   <ol>
    <li data-md>
     <p>The user-agent MAY ignore the report; if so, return.</p>
    <li data-md>
     <p>Let <var>url</var> be the result of executing <a data-link-type="dfn" href="#generate-an-attribution-report-url" id="ref-for-generate-an-attribution-report-url">generate an attribution report URL</a> on <var>report</var>.</p>
    <li data-md>
     <p>Let <var>data</var> be the result of executing <a data-link-type="dfn" href="#serialize-an-attribution-report" id="ref-for-serialize-an-attribution-report">serialize an attribution report</a> on <var>report</var>.</p>
    <li data-md>
     <p>If <var>data</var> is an error, run <a data-link-type="dfn" href="#remove-a-report-from-the-cache" id="ref-for-remove-a-report-from-the-cache">remove a report from the cache</a> with <var>report</var> and return.</p>
    <li data-md>
     <p>Let <var>headers</var> be the result of executing <a data-link-type="dfn" href="#generate-attribution-report-headers" id="ref-for-generate-attribution-report-headers">generate attribution report headers</a>.</p>
    <li data-md>
     <p>Let <var>request</var> be the result of executing <a data-link-type="dfn" href="#create-a-report-request" id="ref-for-create-a-report-request">create a report request</a> on <var>url</var>, <var>data</var>, and <var>headers</var>.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task⑤">Queue a task</a> to <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-fetch" id="ref-for-concept-fetch⑥">fetch</a> <var>request</var> with <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#process-response" id="ref-for-process-response②">processResponse</a> being <a data-link-type="dfn" href="#remove-a-report-from-the-cache" id="ref-for-remove-a-report-from-the-cache①">remove a report from the cache</a> with <var>report</var>.</p>
   </ol>
   <p class="issue" id="issue-c8706ee1"><a class="self-link" href="#issue-c8706ee1"></a> This fetch should use a network partition key for an opaque origin. <a href="https://github.com/WICG/attribution-reporting-api/issues/220">[Issue #220]</a></p>
   <p>A user agent MAY retry this algorithm in the event that there was an error.</p>
   <h3 class="heading settled" data-level="14.11" id="issue-debug-report-request"><span class="secno">14.11. </span><span class="content">Issuing a debug report request</span><a class="self-link" href="#issue-debug-report-request"></a></h3>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="attempt-to-deliver-a-debug-report">attempt to deliver a debug report</dfn> given an <a data-link-type="dfn" href="#attribution-report" id="ref-for-attribution-report①③">attribution report</a> <var>report</var>:</p>
   <ol>
    <li data-md>
     <p>The user-agent MAY ignore the report; if so, return.</p>
    <li data-md>
     <p>Let <var>url</var> be the result of executing <a data-link-type="dfn" href="#generate-an-attribution-report-url" id="ref-for-generate-an-attribution-report-url①">generate an attribution report URL</a> on <var>report</var> with <a data-link-type="dfn" href="#generate-an-attribution-report-url-isdebugreport" id="ref-for-generate-an-attribution-report-url-isdebugreport">isDebugReport</a> set to true.</p>
    <li data-md>
     <p>Let <var>data</var> be the result of executing <a data-link-type="dfn" href="#serialize-an-attribution-report" id="ref-for-serialize-an-attribution-report①">serialize an attribution report</a> on <var>report</var>.</p>
    <li data-md>
     <p>If <var>data</var> is an error, return.</p>
    <li data-md>
     <p>Let <var>headers</var> be the result of executing <a data-link-type="dfn" href="#generate-attribution-report-headers" id="ref-for-generate-attribution-report-headers①">generate attribution report headers</a>.</p>
    <li data-md>
     <p>Let <var>request</var> be the result of executing <a data-link-type="dfn" href="#create-a-report-request" id="ref-for-create-a-report-request①">create a report request</a> on <var>url</var>, <var>data</var>, and <var>headers</var>.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-fetch" id="ref-for-concept-fetch⑦">Fetch</a> <var>request</var>.</p>
   </ol>
   <h3 class="heading settled" data-level="14.12" id="issue-verbose-debug-report-request"><span class="secno">14.12. </span><span class="content">Issuing a verbose debug request</span><a class="self-link" href="#issue-verbose-debug-report-request"></a></h3>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="attempt-to-deliver-a-verbose-debug-report">attempt to deliver a verbose debug report</dfn> given an <a data-link-type="dfn" href="#attribution-debug-report" id="ref-for-attribution-debug-report③">attribution debug report</a> <var>report</var>:</p>
   <ol>
    <li data-md>
     <p>The user-agent MAY ignore the report; if so, return.</p>
    <li data-md>
     <p>Let <var>url</var> be the result of executing <a data-link-type="dfn" href="#generate-an-attribution-debug-report-url" id="ref-for-generate-an-attribution-debug-report-url">generate an attribution debug report URL</a> on <var>report</var>.</p>
    <li data-md>
     <p>Let <var>data</var> be the result of executing <a data-link-type="dfn" href="#serialize-an-attribution-debug-report" id="ref-for-serialize-an-attribution-debug-report">serialize an attribution debug report</a> on <var>report</var>.</p>
    <li data-md>
     <p>Let <var>request</var> be the result of executing <a data-link-type="dfn" href="#create-a-report-request" id="ref-for-create-a-report-request②">create a report request</a> on <var>url</var> and <var>data</var>.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-fetch" id="ref-for-concept-fetch⑧">Fetch</a> <var>request</var>.</p>
   </ol>
   <p class="issue" id="issue-c8706ee1①"><a class="self-link" href="#issue-c8706ee1①"></a> This fetch should use a network partition key for an opaque origin. <a href="https://github.com/WICG/attribution-reporting-api/issues/220">[Issue #220]</a></p>
   <p>A user agent MAY retry this algorithm in the event that there was an error.</p>
   <h2 class="heading settled" data-level="15" id="cross-app-and-web"><span class="secno">15. </span><span class="content">Cross App and Web Algorithms</span><a class="self-link" href="#cross-app-and-web"></a></h2>
   <p>An <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="os-registration">OS registration</dfn> is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct①⑦">struct</a> with the following items:</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="OS registration" data-dfn-type="dfn" data-noexport id="os-registration-url">URL</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url⑥">URL</a></p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="OS registration" data-dfn-type="dfn" data-noexport id="os-registration-debug-reporting-enabled">debug reporting enabled</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#boolean" id="ref-for-boolean①②">boolean</a></p>
   </dl>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="get-os-registrations-from-a-header-list">get <a data-link-type="dfn" href="#os-registration" id="ref-for-os-registration">OS registrations</a> from a header list</dfn> given a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-list" id="ref-for-concept-header-list③">header list</a> <var>headers</var> and a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#header-name" id="ref-for-header-name">header name</a> <var>name</var>:</p>
   <ol>
    <li data-md>
     <p>Let <var>values</var> be the result of <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-list-get-structured-header" id="ref-for-concept-header-list-get-structured-header">getting</a> <var>name</var> from <var>headers</var> with a type of "<code>list</code>".</p>
    <li data-md>
     <p>If <var>values</var> is not a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list⑤④">list</a>, return null.</p>
    <li data-md>
     <p>Let <var>registrations</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list⑤⑤">list</a>.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate③②">For each</a> <var>value</var> of <var>values</var>:</p>
     <ol>
      <li data-md>
       <p>If <var>value</var> is not a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string③⑤">string</a>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue①⑧">continue</a>.</p>
      <li data-md>
       <p>Let <var>url</var> be the result of running the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-parser" id="ref-for-concept-url-parser②">URL parser</a> on <var>value</var>.</p>
      <li data-md>
       <p>If <var>url</var> is failure or null, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue①⑨">continue</a>.</p>
      <li data-md>
       <p>Let <var>debugReporting</var> be false.</p>
      <li data-md>
       <p>Let <var>params</var> be the <a href="https://httpwg.org/specs/rfc8941.html#param">parameters</a> associated with <var>value</var>.</p>
      <li data-md>
       <p>If <var>params</var>["<code>debug-reporting</code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists③③">exists</a> and <var>params</var>["<code>debug-reporting</code>"] is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#boolean" id="ref-for-boolean①③">boolean</a>,
 set <var>debugReporting</var> to <var>params</var>["<code>debug-reporting</code>"].</p>
      <li data-md>
       <p>Let <var>registration</var> be a new <a data-link-type="dfn" href="#os-registration" id="ref-for-os-registration①">OS registration</a> struct whose items are:</p>
       <dl>
        <dt data-md><a data-link-type="dfn" href="#os-registration-url" id="ref-for-os-registration-url">URL</a>
        <dd data-md>
         <p><var>url</var></p>
        <dt data-md><a data-link-type="dfn" href="#os-registration-debug-reporting-enabled" id="ref-for-os-registration-debug-reporting-enabled">debug reporting enabled</a>
        <dd data-md>
         <p><var>debugReporting</var></p>
       </dl>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append③①">Append</a> <var>registration</var> to <var>registrations</var>.</p>
     </ol>
    <li data-md>
     <p>Return <var>registrations</var>.</p>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="get-supported-registrars">get supported registrars</dfn>:</p>
   <ol>
    <li data-md>
     <p>Let <var>supportedRegistrars</var> be an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty③⑥">empty</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list⑤⑥">list</a>.</p>
    <li data-md>
     <p>If the user agent supports web registrations, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append③②">append</a> "<code><a data-link-type="dfn" href="#registrar-web" id="ref-for-registrar-web">web</a></code>"
to <var>supportedRegistrars</var>.</p>
    <li data-md>
     <p>If the user agent supports OS registrations, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append③③">append</a> "<code><a data-link-type="dfn" href="#registrar-os" id="ref-for-registrar-os">os</a></code>"
to <var>supportedRegistrars</var>.</p>
    <li data-md>
     <p>Return <var>supportedRegistrars</var>.</p>
   </ol>
   <p>"<code><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="attribution-reporting-support">Attribution-Reporting-Support</dfn></code>" is a <a href="https://httpwg.org/specs/rfc8941.html#dictionary">Dictionary Structured
Header</a> set on a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request" id="ref-for-concept-request①⓪">request</a> that indicates which registrars, if
any, the corresponding <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response" id="ref-for-concept-response④">response</a> can use. Its values are not specified and
its allowed keys are the <a data-link-type="dfn" href="#registrar" id="ref-for-registrar">registrars</a>.</p>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="set-an-os-support-header">set an OS-support header</dfn> given a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-list" id="ref-for-concept-header-list④">header list</a> <var>headers</var>:</p>
   <ol>
    <li data-md>
     <p>Let <var>supportedRegistrars</var> be the result of <a data-link-type="dfn" href="#get-supported-registrars" id="ref-for-get-supported-registrars②">getting supported registrars</a>.</p>
    <li data-md>
     <p>Let <var>dict</var> be the result of <a data-link-type="dfn" href="#obtain-a-dictionary-structured-header-value" id="ref-for-obtain-a-dictionary-structured-header-value①">obtaining a dictionary structured header value</a> with <var>supportedRegistrars</var> and the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set②⑨">set</a> containing all the <a data-link-type="dfn" href="#registrar" id="ref-for-registrar①">registrars</a>.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-list-set-structured-header" id="ref-for-concept-header-list-set-structured-header①">Set a structured field value</a> given
("<code><a data-link-type="dfn" href="#attribution-reporting-support" id="ref-for-attribution-reporting-support①">Attribution-Reporting-Support</a></code>", <var>dict</var>) in <var>headers</var>.</p>
   </ol>
   <h2 class="heading settled" data-level="16" id="report-verification"><span class="secno">16. </span><span class="content">Report Verification Algorithms</span><a class="self-link" href="#report-verification"></a></h2>
   <p>"<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="sec-attribution-reporting-private-state-token"><code>Sec-Attribution-Reporting-Private-State-Token</code></dfn>" is a <a data-link-type="dfn" href="https://tools.ietf.org/html/rfc8941#name-introduction" id="ref-for-name-introduction">structured header</a> used
to orchestrate report verification.</p>
   <ul>
    <li data-md>
     <p>When <a data-link-type="dfn" href="#set-trigger-verification-request-headers" id="ref-for-set-trigger-verification-request-headers②">setting trigger verification request headers</a>, the field is a collection of unsigned masked tokens formatted as a <a data-link-type="dfn" href="https://tools.ietf.org/html/rfc8941#name-lists" id="ref-for-name-lists">list</a> of <a data-link-type="dfn" href="https://tools.ietf.org/html/rfc8941#name-strings" id="ref-for-name-strings">string</a>.</p>
    <li data-md>
     <p>When <a data-link-type="dfn" href="#receive-trigger-verification-tokens" id="ref-for-receive-trigger-verification-tokens①">receiving trigger verification tokens</a>, the field is a collection of signed masked tokens formatted as a <a data-link-type="dfn" href="https://tools.ietf.org/html/rfc8941#name-lists" id="ref-for-name-lists①">list</a> of <a data-link-type="dfn" href="https://tools.ietf.org/html/rfc8941#name-strings" id="ref-for-name-strings①">string</a>.</p>
    <li data-md>
     <p>When <a data-link-type="dfn" href="#generate-attribution-report-headers" id="ref-for-generate-attribution-report-headers②">generating attribution report headers</a>, the header field is a single signed unmasked token formatted as a <a data-link-type="dfn" href="https://tools.ietf.org/html/rfc8941#name-strings" id="ref-for-name-strings②">string</a>.</p>
   </ul>
   <h3 class="heading settled" data-level="16.1" id="initiate-trigger-verification"><span class="secno">16.1. </span><span class="content">Initiate trigger verification</span><a class="self-link" href="#initiate-trigger-verification"></a></h3>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="set-trigger-verification-request-headers">set trigger verification request headers</dfn> given a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request" id="ref-for-concept-request①①">request</a> <var>request</var> and a <a data-link-type="dfn" href="#suitable-origin" id="ref-for-suitable-origin①⑦">suitable origin</a> <var>destination</var>:</p>
   <ol>
    <li data-md>
     <p>Let <var>issuer</var> be <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-url" id="ref-for-concept-request-url②">URL</a>'s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-origin" id="ref-for-concept-url-origin⑦">origin</a>.</p>
    <li data-md>
     <p>If <var>issuer</var> is not <a data-link-type="dfn" href="#check-if-an-origin-is-suitable" id="ref-for-check-if-an-origin-is-suitable⑤">suitable</a>, return.</p>
    <li data-md>
     <p>Let (<var>issuerKeys</var>, <var>pretokens</var>, <var>cryptoProtocolVersion</var>) be the result of <a data-link-type="dfn" href="https://wicg.github.io/trust-token-api/#look-up-the-key-commitments" id="ref-for-look-up-the-key-commitments">looking up the key commitments</a> for <var>issuer</var>.</p>
    <li data-md>
     <p>If <var>issuerKeys</var> is null, return.</p>
    <li data-md>
     <p>Let <var>ids</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list⑤⑦">list</a>.</p>
    <li data-md>
     <p>Let <var>base64EncodedMaskedMessages</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list⑤⑧">list</a>.</p>
    <li data-md>
     <p>While <var>ids</var>’s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-size" id="ref-for-list-size②①">size</a> is less than <a data-link-type="dfn" href="#verification-tokens-per-trigger" id="ref-for-verification-tokens-per-trigger">verification tokens per trigger</a>:</p>
     <ol>
      <li data-md>
       <p>Let <var>id</var> be the result of <a data-link-type="dfn" href="https://wicg.github.io/uuid/#dfn-generate-a-random-uuid" id="ref-for-dfn-generate-a-random-uuid⑤">generating a random UUID</a>.</p>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append③④">Append</a> <var>id</var> to <var>ids</var>.</p>
      <li data-md>
       <p>Let <var>message</var> be the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-concatenate" id="ref-for-string-concatenate②">concatenation</a> of <var>id</var> and <var>destination</var>.</p>
      <li data-md>
       <p>Let <var>maskedMessage</var> be the result of <a data-link-type="dfn" href="https://wicg.github.io/trust-token-api/#generate-masked-tokens" id="ref-for-generate-masked-tokens">generating masked tokens</a> with <var>issuerKeys</var> and <var>message</var>.</p>
      <li data-md>
       <p>Let <var>base64EncodedMaskedMessage</var> be the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#forgiving-base64-encode" id="ref-for-forgiving-base64-encode③">forgiving-base64 encoding</a> of <var>maskedMessage</var>.</p>
      <li data-md>
       <p>Let <var>fieldValue</var> be the result of <a data-link-type="dfn" href="https://tools.ietf.org/html/rfc8941#name-serializing-a-string" id="ref-for-name-serializing-a-string">serializing a string</a> with <var>base64EncodedMaskedMessage</var>.</p>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append③⑤">Append</a> <var>fieldValue</var> to <var>base64EncodedMaskedMessages</var>.</p>
     </ol>
    <li data-md>
     <p>Let <var>request</var>’s <a data-link-type="dfn" href="#request-trigger-verification-metadata" id="ref-for-request-trigger-verification-metadata②">trigger verification metadata</a> be a <a data-link-type="dfn" href="#trigger-verification-metadata" id="ref-for-trigger-verification-metadata①">trigger verification metadata</a> with the items:</p>
     <dl>
      <dt data-md><a data-link-type="dfn" href="#trigger-verification-metadata-pretokens" id="ref-for-trigger-verification-metadata-pretokens">pretokens</a>
      <dd data-md>
       <p><var>pretokens</var></p>
      <dt data-md><a data-link-type="dfn" href="#trigger-verification-metadata-ids" id="ref-for-trigger-verification-metadata-ids">IDs</a>
      <dd data-md>
       <p><var>ids</var></p>
     </dl>
    <li data-md>
     <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-list-set-structured-header" id="ref-for-concept-header-list-set-structured-header②">Set a structured field value</a> given
("<code><a data-link-type="dfn" href="#sec-attribution-reporting-private-state-token" id="ref-for-sec-attribution-reporting-private-state-token">Sec-Attribution-Reporting-Private-State-Token</a></code>", <var>base64EncodedMaskedMessages</var>)
in <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-header-list" id="ref-for-concept-request-header-list③">header list</a>.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-list-set-structured-header" id="ref-for-concept-header-list-set-structured-header③">Set a structured field value</a> given
("<code><a data-link-type="dfn" href="https://wicg.github.io/trust-token-api/#sec-private-state-token-crypto-version" id="ref-for-sec-private-state-token-crypto-version">Sec-Private-State-Token-Crypto-Version</a></code>", <var>cryptoProtocolVersion</var>)
in <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-header-list" id="ref-for-concept-request-header-list④">header list</a>.</p>
   </ol>
   <p class="issue" id="issue-c851da68"><a class="self-link" href="#issue-c851da68"></a> Link to a generating masked tokens algorithm that receives messages.</p>
   <h3 class="heading settled" data-level="16.2" id="handle-trigger-verification"><span class="secno">16.2. </span><span class="content">Handle trigger verification</span><a class="self-link" href="#handle-trigger-verification"></a></h3>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="receive-trigger-verification-tokens">receive trigger verification tokens</dfn> given an <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-origin" id="ref-for-concept-url-origin⑧">origin</a> <var>issuer</var>, a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-list" id="ref-for-concept-header-list⑤">header list</a>, <var>headers</var>, and a <a data-link-type="dfn" href="#request-trigger-verification-metadata" id="ref-for-request-trigger-verification-metadata③">trigger verification metadata</a> <var>metadata</var>:</p>
   <ol>
    <li data-md>
     <p>If <var>metadata</var> is null, return a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list⑤⑨">list</a>.</p>
    <li data-md>
     <p>If <var>metadata</var>’s <a data-link-type="dfn" href="#trigger-verification-metadata-ids" id="ref-for-trigger-verification-metadata-ids①">IDs</a>'s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-size" id="ref-for-list-size②②">size</a> is not equal to <a data-link-type="dfn" href="#verification-tokens-per-trigger" id="ref-for-verification-tokens-per-trigger①">verification tokens per trigger</a>, return a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list⑥⓪">list</a>.</p>
    <li data-md>
     <p>Let <var>pretokens</var> be <var>metadata</var>’s <a data-link-type="dfn" href="#trigger-verification-metadata-pretokens" id="ref-for-trigger-verification-metadata-pretokens①">pretokens</a>.</p>
    <li data-md>
     <p>Let <var>issuerKeys</var> be the result of <a data-link-type="dfn" href="https://wicg.github.io/trust-token-api/#look-up-the-key-commitments" id="ref-for-look-up-the-key-commitments①">looking up the key commitments</a> for <var>issuer</var>.</p>
    <li data-md>
     <p>If <var>issuerKeys</var> is null, return a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list⑥①">list</a>.</p>
    <li data-md>
     <p>Let <var>fieldValue</var> be the result of <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-list-get-structured-header" id="ref-for-concept-header-list-get-structured-header①">getting a structured field value</a> given
("<code><a data-link-type="dfn" href="#sec-attribution-reporting-private-state-token" id="ref-for-sec-attribution-reporting-private-state-token①">Sec-Attribution-Reporting-Private-State-Token</a></code>", "<code>list</code>") from <var>response</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-header-list" id="ref-for-concept-response-header-list⑤">header list</a>.</p>
    <li data-md>
     <p>Let <var>base64EncodedMaskedTokens</var> be the result of <a data-link-type="dfn" href="https://tools.ietf.org/html/rfc8941#name-parsing-a-list" id="ref-for-name-parsing-a-list">parsing a list</a> with <var>fieldValue</var>.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-list-delete" id="ref-for-concept-header-list-delete②">Delete</a> "<code><a data-link-type="dfn" href="#sec-attribution-reporting-private-state-token" id="ref-for-sec-attribution-reporting-private-state-token②">Sec-Attribution-Reporting-Private-State-Token</a></code>" from <var>response</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-header-list" id="ref-for-concept-response-header-list⑥">header list</a>.</p>
    <li data-md>
     <p>If <var>base64EncodedMaskedTokens</var>’s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-size" id="ref-for-list-size②③">size</a> is greater than <var>metadata</var>’s <a data-link-type="dfn" href="#trigger-verification-metadata-ids" id="ref-for-trigger-verification-metadata-ids②">IDs</a>'s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-size" id="ref-for-list-size②④">size</a>, return a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list⑥②">list</a>.</p>
    <li data-md>
     <p>Let <var>base64EncodedPrivateStateTokens</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list⑥③">list</a>.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate③③">For each</a> <var>base64EncodedMaskedToken</var> of <var>base64EncodedMaskedTokens</var>:</p>
     <ol>
      <li data-md>
       <p>Let <var>base64EncodedMaskedTokenValue</var> be the result of <a data-link-type="dfn" href="https://tools.ietf.org/html/rfc8941#name-parse-a-string" id="ref-for-name-parse-a-string">parsing a string</a> with <var>base64EncodedMaskedToken</var>.</p>
      <li data-md>
       <p>Let <var>maskedToken</var> be the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#forgiving-base64-decode" id="ref-for-forgiving-base64-decode">forgiving-base64 decoding</a> of <var>base64EncodedMaskedTokenValue</var>.</p>
      <li data-md>
       <p>Let <var>token</var> be the result of <a data-link-type="dfn" href="https://wicg.github.io/trust-token-api/#unmask-tokens" id="ref-for-unmask-tokens">unmasking tokens</a> given <var>issuerKeys</var>, <var>pretokens</var>, and <var>maskedToken</var>.</p>
      <li data-md>
       <p>If <var>token</var> is null, return a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list⑥④">list</a>.</p>
      <li data-md>
       <p>Let <var>privateStateToken</var> be the result of running a cryptographic redemption procedure with <var>token</var>.</p>
      <li data-md>
       <p>If <var>privateStateToken</var> is null, return a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list⑥⑤">list</a>.</p>
      <li data-md>
       <p>Let <var>base64EncodedPrivateStateToken</var> be the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#forgiving-base64-encode" id="ref-for-forgiving-base64-encode④">forgiving-base64 encoding</a> of <var>privateStateToken</var>.</p>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append③⑥">Append</a> <var>base64EncodedPrivateStateToken</var> to <var>base64EncodedPrivateStateTokens</var>.</p>
     </ol>
    <li data-md>
     <p>Let <var>triggerVerifications</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list⑥⑥">list</a>.</p>
    <li data-md>
     <p>For each integer <var>i</var> between 0 (inclusive) and <var>base64EncodedPrivateStateTokens</var>’s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-size" id="ref-for-list-size②⑤">size</a> (exclusive):</p>
     <ol>
      <li data-md>
       <p>Let <var>triggerVerification</var> be a <a data-link-type="dfn" href="#trigger-verification" id="ref-for-trigger-verification②">trigger verification</a> with the items:</p>
       <dl>
        <dt data-md><a data-link-type="dfn" href="#trigger-verification-token" id="ref-for-trigger-verification-token②">token</a>
        <dd data-md>
         <p><var>base64EncodedPrivateStateTokens</var>[i]</p>
        <dt data-md><a data-link-type="dfn" href="#trigger-verification-id" id="ref-for-trigger-verification-id①">id</a>
        <dd data-md>
         <p><var>metadata</var>’s <a data-link-type="dfn" href="#trigger-verification-metadata-ids" id="ref-for-trigger-verification-metadata-ids③">IDs</a>[i]</p>
       </dl>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append③⑦">Append</a> <var>triggerVerification</var> to <var>triggerVerifications</var>.</p>
     </ol>
    <li data-md>
     <p>Return <var>triggerVerifications</var>.</p>
   </ol>
   <p class="issue" id="issue-cca95cd5"><a class="self-link" href="#issue-cca95cd5"></a> Specify the cryptographic redemption procedure.</p>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="obtain-and-deliver-debug-reports-on-os-registrations">obtain and deliver debug reports on OS registrations</dfn> given an <a data-link-type="dfn" href="#os-debug-data-type" id="ref-for-os-debug-data-type">OS debug data type</a> <var>dataType</var>, a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list⑥⑦">list</a> of <a data-link-type="dfn" href="#os-registration" id="ref-for-os-registration②">OS registrations</a> <var>registrations</var>,
and an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin⑧">origin</a> <var>contextOrigin</var>:</p>
   <ol>
    <li data-md>
     <p>If <var>registrations</var> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty③⑦">is empty</a>, return.</p>
    <li data-md>
     <p>Let <var>contextSite</var> be the result of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#obtain-a-site" id="ref-for-obtain-a-site③">obtaining a site</a> from <var>contextOrigin</var>.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate③④">For each</a> <var>registration</var> of <var>registrations</var>:</p>
     <ol>
      <li data-md>
       <p>If <var>registration</var>’s <a data-link-type="dfn" href="#os-registration-debug-reporting-enabled" id="ref-for-os-registration-debug-reporting-enabled①">debug reporting enabled</a> is false, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue②⓪">continue</a>.</p>
      <li data-md>
       <p>Let <var>origin</var> be <var>registration</var>’s <a data-link-type="dfn" href="#os-registration-url" id="ref-for-os-registration-url①">URL</a>'s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-origin" id="ref-for-concept-url-origin⑨">origin</a>.</p>
      <li data-md>
       <p>If <var>origin</var> is not <a data-link-type="dfn" href="#check-if-an-origin-is-suitable" id="ref-for-check-if-an-origin-is-suitable⑥">suitable</a>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue②①">continue</a>.</p>
      <li data-md>
       <p>Let <var>body</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map④⓪">map</a> with the following key/value pairs:</p>
       <dl>
        <dt data-md>"<code>context_site</code>"
        <dd data-md>
         <p><var>contextSite</var>, <a href="https://html.spec.whatwg.org/multipage/origin.html#serialization-of-a-site">serialized</a>.</p>
        <dt data-md>"<code>registration_url</code>"
        <dd data-md>
         <p><var>registration</var>’s <a data-link-type="dfn" href="#os-registration-url" id="ref-for-os-registration-url②">URL</a>, <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-serializer" id="ref-for-concept-url-serializer">serialized</a>.</p>
       </dl>
      <li data-md>
       <p>Let <var>data</var> be a new <a data-link-type="dfn" href="#attribution-debug-data" id="ref-for-attribution-debug-data⑥">attribution debug data</a> with the items:</p>
       <dl>
        <dt data-md><a data-link-type="dfn" href="#attribution-debug-data-data-type" id="ref-for-attribution-debug-data-data-type⑥">data type</a>
        <dd data-md>
         <p><var>dataType</var></p>
        <dt data-md><a data-link-type="dfn" href="#attribution-debug-data-body" id="ref-for-attribution-debug-data-body④">body</a>
        <dd data-md>
         <p><var>body</var></p>
       </dl>
      <li data-md>
       <p>Run <a data-link-type="dfn" href="#obtain-and-deliver-a-debug-report" id="ref-for-obtain-and-deliver-a-debug-report③">obtain and deliver a debug report</a> with « <var>data</var> » and <var>origin</var>.</p>
     </ol>
   </ol>
   <h2 class="heading settled" data-level="17" id="automation"><span class="secno">17. </span><span class="content">User-Agent Automation</span><a class="self-link" href="#automation"></a></h2>
   <p>The user-agent has an associated boolean <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="automation-local-testing-mode">automation local testing mode</dfn> (default false).</p>
   <p>For the purposes of user-agent automation and website testing, this document
defines the below <a data-link-type="biblio" href="#biblio-webdriver" title="WebDriver">[WebDriver]</a> <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-extension-commands" id="ref-for-dfn-extension-commands">extension commands</a> to control the API
configuration.</p>
   <h3 class="heading settled" data-level="17.1" id="webdriver-setlocaltestingmode"><span class="secno">17.1. </span><span class="content">Set local testing mode</span><a class="self-link" href="#webdriver-setlocaltestingmode"></a></h3>
   <figure class="table" id="table-webdriver-setlocaltestingmode">
    <table class="data">
     <thead>
      <tr>
       <th>HTTP Method
       <th>URI Template
     <tbody>
      <tr>
       <td>POST
       <td><code>/session/{session id}/ara/</code><dfn data-dfn-type="dfn" data-noexport id="localtestingmode"><code>localtestingmode</code><a class="self-link" href="#localtestingmode"></a></dfn>
    </table>
   </figure>
   <p>The <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-remote-end-steps" id="ref-for-dfn-remote-end-steps">remote end steps</a> are:</p>
   <ol>
    <li data-md>
     <p>If <var>parameters</var> is not a JSON-formatted <a href="https://tc39.es/ecma262/multipage/overview.html#sec-objects">Object</a>,
return a <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-error" id="ref-for-dfn-error">WebDriver error</a> with <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-error-code" id="ref-for-dfn-error-code">error code</a> <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-invalid-argument" id="ref-for-dfn-invalid-argument">invalid argument</a>.</p>
    <li data-md>
     <p>Let <var>enabled</var> be the result of <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-getting-properties" id="ref-for-dfn-getting-properties">getting a property</a> named <code>"enabled"</code> from <var>parameters</var>.</p>
    <li data-md>
     <p>If <var>enabled</var> is <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined①">undefined</a></code> or is not a boolean, return a <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-error" id="ref-for-dfn-error①">WebDriver error</a> with <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-error-code" id="ref-for-dfn-error-code①">error code</a> <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-invalid-argument" id="ref-for-dfn-invalid-argument①">invalid argument</a>.</p>
    <li data-md>
     <p>Set <a data-link-type="dfn" href="#automation-local-testing-mode" id="ref-for-automation-local-testing-mode⑤">automation local testing mode</a> to <var>enabled</var>.</p>
    <li data-md>
     <p>Return <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-success" id="ref-for-dfn-success">success</a> with data <code>null</code>.</p>
   </ol>
   <p class="note" role="note"><span class="marker">Note:</span> Without this, reports would be subject to noise and delays, making testing difficult.</p>
   <h2 class="heading settled" data-level="18" id="security-considerations"><span class="secno">18. </span><span class="content">Security considerations</span><a class="self-link" href="#security-considerations"></a></h2>
   <h3 class="heading settled" data-level="18.1" id="same-origin-policy"><span class="secno">18.1. </span><span class="content">Same-Origin Policy</span><a class="self-link" href="#same-origin-policy"></a></h3>
   <p><em>This section is non-normative.</em></p>
   <p>Writes to the <a data-link-type="dfn" href="#attribution-source-cache" id="ref-for-attribution-source-cache⑥">attribution source cache</a>, <a data-link-type="dfn" href="#event-level-report-cache" id="ref-for-event-level-report-cache①⓪">event-level report cache</a>, and <a data-link-type="dfn" href="#aggregatable-report-cache" id="ref-for-aggregatable-report-cache⑨">aggregatable report cache</a> are separated by the reporting <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin⑨">origin</a>, and reports sent
to a given <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin①⓪">origin</a> are generated via data only written to by that <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin①①">origin</a>, via
HTTP response headers.</p>
   <p>However, the <a data-link-type="dfn" href="#attribution-rate-limit-cache" id="ref-for-attribution-rate-limit-cache①①">attribution rate-limit cache</a> is not fully partitioned by <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin①②">origin</a>. Reads
to that cache involve grouping together data submitted by multiple origins. This is the case
for the following limits:</p>
   <ul>
    <li data-md>
     <p><a data-link-type="dfn" href="#max-destinations-per-rate-limit-window" id="ref-for-max-destinations-per-rate-limit-window③">max destinations per rate-limit window</a>[0]</p>
    <li data-md>
     <p><a data-link-type="dfn" href="#max-source-reporting-origins-per-rate-limit-window" id="ref-for-max-source-reporting-origins-per-rate-limit-window①">max source reporting origins per rate-limit window</a></p>
    <li data-md>
     <p><a data-link-type="dfn" href="#max-source-reporting-origins-per-source-reporting-site" id="ref-for-max-source-reporting-origins-per-source-reporting-site③">max source reporting origins per source reporting site</a></p>
    <li data-md>
     <p><a data-link-type="dfn" href="#max-attribution-reporting-origins-per-rate-limit-window" id="ref-for-max-attribution-reporting-origins-per-rate-limit-window②">max attribution reporting origins per rate-limit window</a></p>
   </ul>
   <p>These limits are explicit relaxations of the Same-Origin Policy, in that they allow
different origins to influence the API’s behavior. In particular, one risk that is
introduced with these shared limits is denial of service attacks, where a group of
origins could collude to intentionally hit a rate-limit, causing subsequent origins to
be unable to access the API.</p>
   <p>This trades off security for privacy, in that the limits are there to reduce the efficacy
of many origins colluding together to violate privacy. API deployments should monitor
for abuse using these vectors to evaluate the trade-off.</p>
   <p>The generation of <a data-link-type="dfn" href="#attribution-debug-report" id="ref-for-attribution-debug-report④">attribution debug reports</a> involves reads to the <a data-link-type="dfn" href="#attribution-source-cache" id="ref-for-attribution-source-cache⑦">attribution source cache</a>, <a data-link-type="dfn" href="#event-level-report-cache" id="ref-for-event-level-report-cache①①">event-level report cache</a>, <a data-link-type="dfn" href="#aggregatable-report-cache" id="ref-for-aggregatable-report-cache①⓪">aggregatable report cache</a>, and <a data-link-type="dfn" href="#attribution-rate-limit-cache" id="ref-for-attribution-rate-limit-cache①②">attribution rate-limit cache</a>,
and the <a data-link-type="dfn" href="#attribution-debug-data" id="ref-for-attribution-debug-data⑦">attribution debug data</a> sent to a given <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin①③">origin</a> may encode non-Same-Origin
data that are generated from grouping together data submitted by multiple <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin①④">origins</a>,
e.g. failures due to rate-limits that are not fully compliant with the Same-Origin Policy.
This is of greater concern for source registrations as the <a data-link-type="dfn" href="#attribution-source-source-origin" id="ref-for-attribution-source-source-origin⑥">source origin</a> could intentionally hit a rate-limit to identify sensitive user data. These <a data-link-type="dfn" href="#attribution-debug-data" id="ref-for-attribution-debug-data⑧">attribution debug data</a> cannot be reported explicitly and may be reported as a <a data-link-type="dfn" href="#source-debug-data-type-source-success" id="ref-for-source-debug-data-type-source-success⑤">source-success</a> <a data-link-type="dfn" href="#attribution-debug-report" id="ref-for-attribution-debug-report⑤">attribution debug report</a>. This is a tradeoff between security and utility, and mitigates the
security concern with respect to the Same-Origin Policy. The risk is of less concern for
trigger registrations as <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source⑥④">attribution sources</a> have to be registered to start with and
it requires browsing activity on multiple sites.</p>
   <h3 class="heading settled" data-level="18.2" id="opting-in-to-the-api"><span class="secno">18.2. </span><span class="content">Opting in to the API</span><a class="self-link" href="#opting-in-to-the-api"></a></h3>
   <p><em>This section is non-normative.</em></p>
   <p>As a general principle, the API cannot be used purely at the HTTP layer without some level of
opt-in from JavaScript or HTML. For HTML, this opt-in is in the form of the <code class="idl"><a data-link-type="idl" href="#dom-htmlattributionsrcelementutils-attributionsrc" id="ref-for-dom-htmlattributionsrcelementutils-attributionsrc③">attributionSrc</a></code> attribute, and for JavaScript, it is
the various modifications to <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-fetch" id="ref-for-concept-fetch⑨">fetch</a>, <code class="idl"><a data-link-type="idl" href="https://xhr.spec.whatwg.org/#xmlhttprequest" id="ref-for-xmlhttprequest②">XMLHttpRequest</a></code>, and the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window-open-steps" id="ref-for-window-open-steps①">window open steps</a>.</p>
   <p>However, this principle is only strictly applied to registering <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source⑥⑤">attribution sources</a>. For <a data-link-type="dfn" href="#trigger-attribution" id="ref-for-trigger-attribution①">triggering attribution</a>, we waive this requirement for the sake of compatibility with existing
systems, see <a href="https://github.com/WICG/attribution-reporting-api/issues/347">347</a> for
context.</p>
   <h2 class="heading settled" data-level="19" id="privacy-considerations"><span class="secno">19. </span><span class="content">Privacy considerations</span><a class="self-link" href="#privacy-considerations"></a></h2>
   <h3 class="heading settled" data-level="19.1" id="clearing-site-data"><span class="secno">19.1. </span><span class="content">Clearing site data</span><a class="self-link" href="#clearing-site-data"></a></h3>
   <p>The <a data-link-type="dfn" href="#attribution-caches" id="ref-for-attribution-caches①">attribution caches</a> contain data about a user’s web activity. As such,
the user agent MAY expose controls that allow the user to delete data from them.</p>
   <h3 class="heading settled" data-level="19.2" id="cross-site-information-disclosure"><span class="secno">19.2. </span><span class="content">Cross-site information disclosure</span><a class="self-link" href="#cross-site-information-disclosure"></a></h3>
   <p><em>This section is non-normative.</em></p>
   <p>The API is concerned with protecting arbitrary cross-site information from being passed
from one site to another. For a given <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source⑥⑥">attribution source</a>, any outcome associated with it
is considered cross-site information. This includes:</p>
   <ul>
    <li data-md>
     <p>Whether the <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source⑥⑦">attribution source</a> generates any <a data-link-type="dfn" href="#attribution-report" id="ref-for-attribution-report①④">attribution reports</a> or not</p>
    <li data-md>
     <p>The contents of the associated <a data-link-type="dfn" href="#attribution-report" id="ref-for-attribution-report①⑤">attribution reports</a>, if present</p>
   </ul>
   <p>The information embedded in the API output is arbitrary but can include things like browsing
history and other cross-site activity. The API aims to provide some protection for this information:</p>
   <h4 class="heading settled" data-level="19.2.1" id="cross-site-information-disclosure-event-level-reports"><span class="secno">19.2.1. </span><span class="content">Event-level reports</span><a class="self-link" href="#cross-site-information-disclosure-event-level-reports"></a></h4>
   <p>Any given <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source⑥⑧">attribution source</a> has a <a data-link-type="dfn" href="#obtain-a-set-of-possible-trigger-states" id="ref-for-obtain-a-set-of-possible-trigger-states③">set of possible trigger states</a>.
The choice of trigger state may encode cross-site information. To protect the cross-site information disclosure,
each <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source⑥⑨">attribution source</a> is subject to a <a data-link-type="dfn" href="#obtain-a-randomized-response" id="ref-for-obtain-a-randomized-response①">randomized response mechanism</a> <a data-link-type="biblio" href="#biblio-rr" title="Randomized response">[RR]</a>,
which will choose a state at random with <a data-link-type="dfn" href="#obtain-a-randomized-source-response-pick-rate" id="ref-for-obtain-a-randomized-source-response-pick-rate③">pick rate</a> dependent on the user agent’s <a data-link-type="dfn" href="#randomized-response-epsilon" id="ref-for-randomized-response-epsilon①">randomized response epsilon</a>.</p>
   <p>This introduces some level of plausible deniability into the resulting <a data-link-type="dfn" href="#event-level-report" id="ref-for-event-level-report①⑥">event-level reports</a> (or lack thereof),
as there is always a chance that the output was generated from a random process. We can reason about the
protection this gives an individual <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source⑦⓪">attribution source</a> from the lens of differential privacy <a data-link-type="biblio" href="#biblio-dp" title="Differential privacy">[DP]</a>.</p>
   <p>Additionally, <a data-link-type="dfn" href="#event-level-report" id="ref-for-event-level-report①⑦">event-level reports</a> limit the <em>amount</em> of relative cross-site information associated with
a particular <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source⑦①">attribution source</a>. We model this using the notion of channel capacity <a data-link-type="biblio" href="#biblio-chan" title="Channel capacity">[CHAN]</a>.  For every <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source⑦②">attribution source</a>,
it is possible to model its output as a noisy channel. The number of input/output symbols is governed by its associated <a data-link-type="dfn" href="#obtain-a-set-of-possible-trigger-states" id="ref-for-obtain-a-set-of-possible-trigger-states④">set of possible trigger states</a>. With the randomized response mechanism,
this allows us to analyze the output as a q-ary symmetric channel <a data-link-type="biblio" href="#biblio-q-sc" title="q-ary symmetric channel">[Q-SC]</a>, with <code>q</code> equal to the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-size" id="ref-for-list-size②⑥">size</a> of the <a data-link-type="dfn" href="#obtain-a-set-of-possible-trigger-states" id="ref-for-obtain-a-set-of-possible-trigger-states⑤">set of possible trigger states</a>. This is normatively defined in the <a data-link-type="dfn" href="#compute-the-channel-capacity-of-a-source" id="ref-for-compute-the-channel-capacity-of-a-source①">compute the channel capacity of a source</a> algorithm.</p>
   <p>Note that <a data-link-type="dfn" href="#source-type-navigation" id="ref-for-source-type-navigation⑦">navigation</a> <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source⑦③">attribution sources</a> and <a data-link-type="dfn" href="#source-type-event" id="ref-for-source-type-event①⓪">event</a> <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source⑦④">attribution sources</a> may
have different channel capacities, given that <a data-link-type="dfn" href="#source-type-event" id="ref-for-source-type-event①①">event</a> <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source⑦⑤">attribution sources</a> can be registered without <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#tracking-user-activation" id="ref-for-tracking-user-activation">user activation</a> or top-level navigation. Maximum capacity for each type is governed by the vendor-defined <a data-link-type="dfn" href="#max-event-level-channel-capacity-per-source" id="ref-for-max-event-level-channel-capacity-per-source①">max event-level channel capacity per source</a>.</p>
   <h4 class="heading settled" data-level="19.2.2" id="cross-site-information-disclosure-aggregatable-reports"><span class="secno">19.2.2. </span><span class="content">Aggregatable reports</span><a class="self-link" href="#cross-site-information-disclosure-aggregatable-reports"></a></h4>
   <p>Aggregatable reports protect against cross-site information disclosure in two primary ways:</p>
   <ol>
    <li data-md>
     <p>For a given <a data-link-type="dfn" href="#attribution-trigger" id="ref-for-attribution-trigger③③">attribution trigger</a>, whether it is <a data-link-type="dfn" href="#trigger-attribution" id="ref-for-trigger-attribution②">attributed</a> to a
source is subject to one-way noise via <a data-link-type="dfn" href="#generate-null-reports" id="ref-for-generate-null-reports①">generating null reports</a> with
some probability. Note that because the noise does not drop true reports, this is only a partial
mitigation, as if an <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source⑦⑥">attribution source</a> never generates an <a data-link-type="dfn" href="#aggregatable-report" id="ref-for-aggregatable-report②⑦">aggregatable report</a>, an
adversary can learn with 100% certainty that an <a data-link-type="dfn" href="#attribution-source" id="ref-for-attribution-source⑦⑦">attribution source</a> was never matched with
an <a data-link-type="dfn" href="#attribution-trigger" id="ref-for-attribution-trigger③④">attribution trigger</a>.</p>
    <li data-md>
     <p>Cross-site information embedded in an <a data-link-type="dfn" href="#aggregatable-report" id="ref-for-aggregatable-report②⑧">aggregatable report</a>'s <a data-link-type="dfn" href="#aggregatable-report-contributions" id="ref-for-aggregatable-report-contributions⑤">contributions</a> is encrypted with a <a data-link-type="dfn" href="#obtain-the-public-key-for-encryption" id="ref-for-obtain-the-public-key-for-encryption①">public key</a>, ensuring that individual
contributions cannot be accessed until an aggregation service subjects them to aggregation
and an additive noise process.</p>
   </ol>
   <p class="issue" id="issue-b6dec5fe"><a class="self-link" href="#issue-b6dec5fe"></a> add links to the aggregation service noise addition algorithm.</p>
   <p class="issue" id="issue-42c97a9a"><a class="self-link" href="#issue-42c97a9a"></a> model the channel capacity of a trigger registration.</p>
   <h4 class="heading settled" data-level="19.2.3" id="cross-site-information-disclosure-debug-reports"><span class="secno">19.2.3. </span><span class="content">Debug reports</span><a class="self-link" href="#cross-site-information-disclosure-debug-reports"></a></h4>
   <p>Fine-grained cross-site information may be embedded in <a data-link-type="dfn" href="#attribution-report" id="ref-for-attribution-report①⑥">attribution reports</a> sent with <a data-link-type="dfn" href="#generate-an-attribution-report-url-isdebugreport" id="ref-for-generate-an-attribution-report-url-isdebugreport①">isDebugReport</a> being true and certain <a data-link-type="dfn" href="#debug-data-type" id="ref-for-debug-data-type④">types</a> of <a data-link-type="dfn" href="#attribution-debug-report" id="ref-for-attribution-debug-report⑥">attribution debug reports</a>. These reports will only be <a data-link-type="dfn" href="#check-if-cookie-based-debugging-is-allowed" id="ref-for-check-if-cookie-based-debugging-is-allowed④">allowed</a> when third-party cookies are available, in which case the API caller
had the capability to learn the underlying information.</p>
   <h3 class="heading settled" data-level="19.3" id="protecting-against-cross-site-recognition"><span class="secno">19.3. </span><span class="content">Protecting against cross-site recognition</span><a class="self-link" href="#protecting-against-cross-site-recognition"></a></h3>
   <p><em>This section is non-normative.</em></p>
   <p>A primary privacy goal of the API is to make linking identity between two different top-level sites
difficult. This happens when either a request or a JavaScript environment has two user IDs from two
different sites simultaneously. Both <a data-link-type="dfn" href="#event-level-report" id="ref-for-event-level-report①⑧">event-level reports</a> and <a data-link-type="dfn" href="#aggregatable-report" id="ref-for-aggregatable-report②⑨">aggregatable reports</a> were
designed to make this kind of recognition difficult:</p>
   <h4 class="heading settled" data-level="19.3.1" id="cross-site-recognition-event-level-reports"><span class="secno">19.3.1. </span><span class="content">Event-level reports</span><a class="self-link" href="#cross-site-recognition-event-level-reports"></a></h4>
   <p><a data-link-type="dfn" href="#event-level-report" id="ref-for-event-level-report①⑨">Event-level reports</a> come bearing a fine-grained <a data-link-type="dfn" href="#event-level-report-event-id" id="ref-for-event-level-report-event-id②">event id</a> that can
uniquely identify the source event, which may be joinable with a user’s identity. As such, for <a data-link-type="dfn" href="#event-level-report" id="ref-for-event-level-report②⓪">event-level reports</a> to protect the cross-site recognition risk, they contain only a small
amount (measured via channel capacity) of relative cross-site information from any of the <a data-link-type="dfn" href="#attribution-source-attribution-destinations" id="ref-for-attribution-source-attribution-destinations①⑤">attribution destinations</a>. By limiting the amount of relative cross-site
information embedded in <a data-link-type="dfn" href="#event-level-report" id="ref-for-event-level-report②①">event-level reports</a>, we make it difficult for an identifier to be passed
through this channel to enable cross-site recognition alone.</p>
   <h4 class="heading settled" data-level="19.3.2" id="cross-site-recognition-aggregatable-reports"><span class="secno">19.3.2. </span><span class="content">Aggregatable reports</span><a class="self-link" href="#cross-site-recognition-aggregatable-reports"></a></h4>
   <p><a data-link-type="dfn" href="#aggregatable-report" id="ref-for-aggregatable-report③⓪">Aggregatable reports</a> only contain fine-grained cross-site information in encrypted form.
In cleartext, they contain only coarse-grained information from the <a data-link-type="dfn" href="#attribution-source-source-site" id="ref-for-attribution-source-source-site①①">source site</a> and <a data-link-type="dfn" href="#aggregatable-report-effective-attribution-destination" id="ref-for-aggregatable-report-effective-attribution-destination⑥">effective attribution destination</a>. This makes it difficult for an <a data-link-type="dfn" href="#aggregatable-report" id="ref-for-aggregatable-report③①">aggregatable report</a> to be associated with a user from either site.</p>
   <p>The cross-site recognition risk of the data encrypted in "<code>aggregation_service_payloads</code>" is
mitigated by the additive noise addition in the aggregation service.</p>
   <h3 class="heading settled" data-level="19.4" id="mitigating-against-repeated-API-use"><span class="secno">19.4. </span><span class="content">Mitigating against repeated API use</span><a class="self-link" href="#mitigating-against-repeated-API-use"></a></h3>
   <p class="issue" id="issue-1f7fff6a"><a class="self-link" href="#issue-1f7fff6a"></a> fill in this section</p>
   <h3 class="heading settled" data-level="19.5" id="protecting-against-browsing-history-reconstruction"><span class="secno">19.5. </span><span class="content">Protecting against browsing history reconstruction</span><a class="self-link" href="#protecting-against-browsing-history-reconstruction"></a></h3>
   <p class="issue" id="issue-1f7fff6a①"><a class="self-link" href="#issue-1f7fff6a①"></a> fill in this section</p>
   <h3 class="heading settled" data-level="19.6" id="reporting-delay-concerns"><span class="secno">19.6. </span><span class="content">Reporting-delay concerns</span><a class="self-link" href="#reporting-delay-concerns"></a></h3>
   <p><em>This section is non-normative.</em></p>
   <p>Sending reports some time after attribution occurs enables side-channel leakage
in some situations.</p>
   <h4 class="heading settled" data-level="19.6.1" id="cross-network-reporting-origin-leakage"><span class="secno">19.6.1. </span><span class="content">Cross-network reporting-origin leakage</span><a class="self-link" href="#cross-network-reporting-origin-leakage"></a></h4>
   <p>A report may be <em>stored</em> while the browser is connected to one network but <em>sent</em> while the browser is connected to a different network, potentially
enabling cross-network leakage of the reporting origin.</p>
   <p>Example: A user runs the browser with a particular browsing profile on their
home network. An attribution report with a particular reporting origin is stored
with a scheduled report time in the future. After the scheduled report time is
reached, the user runs the browser with the same browsing profile on their
employer’s network, at which point the browser sends the report to the reporting
origin. Although the report itself may be sent over HTTPS, the reporting origin
may be visible to the network administrator via DNS or the TLS client hello
(which can be mitigated with <a href="https://datatracker.ietf.org/doc/html/draft-ietf-tls-esni">ECH</a>).
Some reporting origins may be known to operate only or primarily on sensitive sites,
so this could leak information about the user’s browsing activity to the user’s
employer without their knowledge or consent.</p>
   <p>Possible mitigations:</p>
   <ol>
    <li data-md>
     <p>Only send reports with a given reporting origin when the browser has already
made a request to that origin on the same network. This prevents the network
administrator from gaining additional information from the Attribution
Reporting API. However, it increases report loss and report delays, which
reduces the utility of the API for the reporting origin. It might also
increase the effectiveness of timing attacks, as the origin may be able to
better link the report with the user’s request that allowed the report to be released.</p>
    <li data-md>
     <p>Send reports immediately: This reduces the likelihood of a report being
stored and sent on different networks. However, it increases the likelihood
that the reporting origin can correlate the original request made to the
reporting origin for attribution to the report, which weakens the
attribution-side privacy controls of the API. In particular,
this destroys the differential privacy framework we have
for event-level reports. It would also make the <a data-link-type="dfn" href="#event-level-report-trigger-priority" id="ref-for-event-level-report-trigger-priority⑤">trigger priority</a> functionality impossible, as there
would be no way to replace a lower-priority report that was already sent.</p>
    <li data-md>
     <p>Use a trusted proxy server to send reports: This effectively moves the
reporting origin into the report body, so only the proxy server would be
visible to the network administrator.</p>
    <li data-md>
     <p>Require <a href="https://datatracker.ietf.org/doc/html/rfc8484">DNS over HTTPS</a>:
This effectively hides the reporting origin from the network administrator, but is
likely impractical to enforce and is itself perhaps circumventable by the network
administrator.</p>
   </ol>
   <h4 class="heading settled" data-level="19.6.2" id="user-presence-tracking"><span class="secno">19.6.2. </span><span class="content">User-presence tracking</span><a class="self-link" href="#user-presence-tracking"></a></h4>
   <p>The browser only tries to send reports while it is running and while it has
internet connectivity (even without an explicit check for connectivity,
naturally the report will fail to be sent if there is none), so receiving or not
receiving an <a data-link-type="dfn" href="#event-level-report" id="ref-for-event-level-report②②">event-level report</a> at the expected time leaks information about the user’s
presence. Additionally, because the report request inherently includes an IP
address, this could reveal the user’s IP-derived whereabouts to the reporting
origin, including at-home vs. at-work or approximate real-world geolocation,
or reveal patterns in the user’s browsing activity.</p>
   <p>Possible mitigations:</p>
   <ol>
    <li data-md>
     <p>Send reports immediately: This effectively eliminates the presence tracking,
as the original request made to the reporting origin is in close temporal
proximity to the report request. However, it increases the likelihood that
the reporting origin can correlate the two requests, which weakens the
attribution-side privacy controls of the API. It would also make the <a data-link-type="dfn" href="#event-level-report-trigger-priority" id="ref-for-event-level-report-trigger-priority⑥">trigger priority</a> functionality impossible, as there
would be no way to replace a lower-priority report that was already sent.</p>
    <li data-md>
     <p>Send reports immediately to a trusted proxy server, which would itself send
the report to the reporting origin with additional delay. This would
effectively hide both the user’s IP address and their online-offline
presence from the reporting origin. Compared to the previous mitigation, the
proxy server could itself handle the <a data-link-type="dfn" href="#event-level-report-trigger-priority" id="ref-for-event-level-report-trigger-priority⑦">trigger priority</a> functionality, at the cost of increased complexity in the proxy.</p>
   </ol>
  </main>
  <div data-fill-with="conformance">
   <h2 class="no-ref no-num heading settled" id="w3c-conformance"><span class="content">Conformance</span><a class="self-link" href="#w3c-conformance"></a></h2>
   <h3 class="no-ref no-num heading settled" id="w3c-conventions"><span class="content">Document conventions</span><a class="self-link" href="#w3c-conventions"></a></h3>
   <p>Conformance requirements are expressed
    with a combination of descriptive assertions
    and RFC 2119 terminology.
    The key words “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”, “RECOMMENDED”, “MAY”, and “OPTIONAL”
    in the normative parts of this document
    are to be interpreted as described in RFC 2119.
    However, for readability,
    these words do not appear in all uppercase letters in this specification. </p>
   <p>All of the text of this specification is normative
    except sections explicitly marked as non-normative, examples, and notes. <a data-link-type="biblio" href="#biblio-rfc2119" title="Key words for use in RFCs to Indicate Requirement Levels">[RFC2119]</a> </p>
   <p>Examples in this specification are introduced with the words “for example”
    or are set apart from the normative text
    with <code>class="example"</code>,
    like this: </p>
   <div class="example" id="w3c-example">
    <a class="self-link" href="#w3c-example"></a> 
    <p>This is an example of an informative example. </p>
   </div>
   <p>Informative notes begin with the word “Note”
    and are set apart from the normative text
    with <code>class="note"</code>,
    like this: </p>
   <p class="note" role="note">Note, this is an informative note.</p>
  </div>
<script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
  <h2 class="no-num no-ref heading settled" id="index"><span class="content">Index</span><a class="self-link" href="#index"></a></h2>
  <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">Terms defined by this specification</span><a class="self-link" href="#index-defined-here"></a></h3>
  <ul class="index">
   <li><a href="#event-level-report-replacement-result-add-new-report">add-new-report</a><span>, in § 13.9</span>
   <li><a href="#attribution-source-aggregatable-budget-consumed">aggregatable budget consumed</a><span>, in § 7.8</span>
   <li><a href="#aggregatable-contribution">Aggregatable contribution</a><span>, in § 7.16</span>
   <li><a href="#aggregatable-dedup-key">Aggregatable dedup key</a><span>, in § 7.9</span>
   <li>
    aggregatable dedup keys
    <ul>
     <li><a href="#attribution-source-aggregatable-dedup-keys">dfn for attribution source</a><span>, in § 7.8</span>
     <li><a href="#attribution-trigger-aggregatable-dedup-keys">dfn for attribution trigger</a><span>, in § 7.14</span>
    </ul>
   <li><a href="#aggregatable-report">Aggregatable report</a><span>, in § 7.17</span>
   <li><a href="#aggregatable-report-cache">aggregatable report cache</a><span>, in § 8</span>
   <li><a href="#attribution-source-aggregatable-report-window">aggregatable report window</a><span>, in § 7.8</span>
   <li>
    aggregatable source registration time configuration
    <ul>
     <li><a href="#aggregatable-source-registration-time-configuration">definition of</a><span>, in § 7.13</span>
     <li><a href="#attribution-trigger-aggregatable-source-registration-time-configuration">dfn for attribution trigger</a><span>, in § 7.14</span>
    </ul>
   <li><a href="#aggregatable-trigger-data">Aggregatable trigger data</a><span>, in § 7.8</span>
   <li><a href="#attribution-trigger-aggregatable-trigger-data">aggregatable trigger data</a><span>, in § 7.14</span>
   <li><a href="#attribution-trigger-aggregatable-values">aggregatable values</a><span>, in § 7.14</span>
   <li>
    aggregation coordinator
    <ul>
     <li><a href="#aggregation-coordinator">definition of</a><span>, in § 7.12</span>
     <li><a href="#aggregatable-report-aggregation-coordinator">dfn for aggregatable report</a><span>, in § 7.18</span>
     <li><a href="#attribution-trigger-aggregation-coordinator">dfn for attribution trigger</a><span>, in § 7.14</span>
    </ul>
   <li><a href="#attribution-source-aggregation-keys">aggregation keys</a><span>, in § 7.8</span>
   <li><a href="#destination-rate-limit-result-allowed">allowed</a><span>, in § 7.26</span>
   <li><a href="#allowed-aggregatable-budget-per-source">Allowed aggregatable budget per source</a><span>, in § 10</span>
   <li><a href="#assign-private-state-tokens">assign private state tokens</a><span>, in § 13.16</span>
   <li><a href="#attempt-to-deliver-a-debug-report">attempt to deliver a debug report</a><span>, in § 14.11</span>
   <li><a href="#attempt-to-deliver-a-report">attempt to deliver a report</a><span>, in § 14.10</span>
   <li><a href="#attempt-to-deliver-a-verbose-debug-report">attempt to deliver a verbose debug report</a><span>, in § 14.12</span>
   <li><a href="#triggering-status-attributed">attributed</a><span>, in § 7.25</span>
   <li><a href="#rate-limit-scope-attribution">attribution</a><span>, in § 7.19</span>
   <li><a href="#attribution-caches">attribution caches</a><span>, in § 8</span>
   <li><a href="#attribution-debug-data">Attribution debug data</a><span>, in § 7.19</span>
   <li><a href="#attribution-debug-report">Attribution debug report</a><span>, in § 7.20</span>
   <li>
    attribution destination
    <ul>
     <li><a href="#attribution-rate-limit-record-attribution-destination">dfn for attribution rate-limit record</a><span>, in § 7.19</span>
     <li><a href="#attribution-trigger-attribution-destination">dfn for attribution trigger</a><span>, in § 7.14</span>
    </ul>
   <li>
    attribution destinations
    <ul>
     <li><a href="#attribution-source-attribution-destinations">dfn for attribution source</a><span>, in § 7.8</span>
     <li><a href="#event-level-report-attribution-destinations">dfn for event-level report</a><span>, in § 7.16</span>
    </ul>
   <li><a href="#attribution-rate-limit-cache">attribution rate-limit cache</a><span>, in § 8</span>
   <li><a href="#attribution-rate-limit-record">attribution rate-limit record</a><span>, in § 7.19</span>
   <li><a href="#attribution-rate-limit-window">Attribution rate-limit window</a><span>, in § 9</span>
   <li><a href="#attribution-report">Attribution report</a><span>, in § 7.14</span>
   <li><a href="#dom-permissionpolicy-attribution-reporting">attribution-reporting</a><span>, in § 5</span>
   <li><a href="#dom-requestinit-attributionreporting">attributionReporting</a><span>, in § 3</span>
   <li>
    Attribution Reporting eligibility
    <ul>
     <li><a href="#xmlhttprequest-eligibility">definition of</a><span>, in § 3.2</span>
     <li><a href="#request-attribution-reporting-eligibility">dfn for request</a><span>, in § 3</span>
     <li><a href="#script-fetch-options-attribution-reporting-eligibility">dfn for script fetch options</a><span>, in § 2.1</span>
    </ul>
   <li><a href="#attribution-reporting-eligible">Attribution-Reporting-Eligible</a><span>, in § 3</span>
   <li><a href="#pending-event-attributionreportingenabled">attributionReportingEnabled</a><span>, in § 4</span>
   <li><a href="#dictdef-attributionreportingrequestoptions">AttributionReportingRequestOptions</a><span>, in § 3</span>
   <li><a href="#attribution-reporting-support">Attribution-Reporting-Support</a><span>, in § 15</span>
   <li><a href="#attribution-source">Attribution source</a><span>, in § 7.7</span>
   <li><a href="#attribution-source-cache">attribution source cache</a><span>, in § 8</span>
   <li><a href="#dom-htmlattributionsrcelementutils-attributionsrc">attributionSrc</a><span>, in § 2.1</span>
   <li>
    attributionsrc
    <ul>
     <li><a href="#element-attrdef-a-attributionsrc">element-attr for a</a><span>, in § 2.1</span>
     <li><a href="#element-attrdef-img-attributionsrc">element-attr for img</a><span>, in § 2.1</span>
     <li><a href="#element-attrdef-script-attributionsrc">element-attr for script</a><span>, in § 2.1</span>
    </ul>
   <li><a href="#attribution-trigger">Attribution trigger</a><span>, in § 7.13</span>
   <li><a href="#automation-local-testing-mode">automation local testing mode</a><span>, in § 17</span>
   <li><a href="#attribution-debug-data-body">body</a><span>, in § 7.20</span>
   <li><a href="#can-attribution-rate-limit-record-be-removed">Can attribution rate-limit record be removed</a><span>, in § 11.9</span>
   <li><a href="#check-if-an-attribution-source-can-create-aggregatable-contributions">check if an attribution source can create aggregatable contributions</a><span>, in § 13.7</span>
   <li><a href="#check-if-an-attribution-source-exceeds-the-time-based-destination-limits">check if an attribution source exceeds the time-based destination limits</a><span>, in § 12.4</span>
   <li><a href="#check-if-an-attribution-source-exceeds-the-unexpired-destination-limit">check if an attribution source exceeds the unexpired destination limit</a><span>, in § 12.4</span>
   <li><a href="#check-if-an-attribution-trigger-contains-aggregatable-data">check if an attribution trigger contains aggregatable data</a><span>, in § 13.11</span>
   <li><a href="#check-if-an-origin-is-suitable">check if an origin is suitable</a><span>, in § 11.3</span>
   <li><a href="#check-if-a-scheme-is-suitable">check if a scheme is suitable</a><span>, in § 11.3</span>
   <li><a href="#check-if-cookie-based-debugging-is-allowed">check if cookie-based debugging is allowed</a><span>, in § 11.6</span>
   <li><a href="#check-if-debug-reporting-is-allowed">check if debug reporting is allowed</a><span>, in § 12.4</span>
   <li><a href="#check-whether-a-moment-falls-within-a-window">check whether a moment falls within a window</a><span>, in § 13.12</span>
   <li><a href="#clear-site-data">clear site data</a><span>, in § 6</span>
   <li><a href="#compute-the-channel-capacity-of-a-source">compute the channel capacity of a source</a><span>, in § 12.2</span>
   <li><a href="#node-context-origin">context origin</a><span>, in § 11.7</span>
   <li><a href="#pending-event-contextorigin">contextOrigin</a><span>, in § 4</span>
   <li><a href="#aggregatable-report-contributions">contributions</a><span>, in § 7.18</span>
   <li><a href="#create-aggregatable-contributions">create aggregatable contributions</a><span>, in § 13.6</span>
   <li><a href="#create-an-attribution-trigger">create an attribution trigger</a><span>, in § 13.1</span>
   <li><a href="#create-a-report-request">create a report request</a><span>, in § 14.8</span>
   <li><a href="#attribution-debug-report-data">data</a><span>, in § 7.21</span>
   <li><a href="#attribution-debug-data-data-type">data type</a><span>, in § 7.20</span>
   <li><a href="#triggering-result-debug-data">debug data</a><span>, in § 7.25</span>
   <li><a href="#debug-data-type">debug data type</a><span>, in § 7.20</span>
   <li>
    debug key
    <ul>
     <li><a href="#attribution-source-debug-key">dfn for attribution source</a><span>, in § 7.8</span>
     <li><a href="#attribution-trigger-debug-key">dfn for attribution trigger</a><span>, in § 7.14</span>
    </ul>
   <li><a href="#aggregatable-report-debug-mode">debug mode</a><span>, in § 14.2</span>
   <li>
    debug reporting enabled
    <ul>
     <li><a href="#os-registration-debug-reporting-enabled">dfn for OS registration</a><span>, in § 15</span>
     <li><a href="#attribution-source-debug-reporting-enabled">dfn for attribution source</a><span>, in § 7.8</span>
     <li><a href="#attribution-trigger-debug-reporting-enabled">dfn for attribution trigger</a><span>, in § 7.14</span>
    </ul>
   <li>
    dedup key
    <ul>
     <li><a href="#aggregatable-dedup-key-dedup-key">dfn for aggregatable dedup key</a><span>, in § 7.10</span>
     <li><a href="#event-level-trigger-configuration-dedup-key">dfn for event-level trigger configuration</a><span>, in § 7.11</span>
    </ul>
   <li><a href="#attribution-source-dedup-keys">dedup keys</a><span>, in § 7.8</span>
   <li><a href="#default-aggregation-coordinator">Default aggregation coordinator</a><span>, in § 10</span>
   <li><a href="#default-event-level-attributions-per-source">Default event-level attributions per source</a><span>, in § 10</span>
   <li><a href="#default-trigger-data-cardinality">Default trigger data cardinality</a><span>, in § 10</span>
   <li><a href="#attribution-report-delivered">delivered</a><span>, in § 7.15</span>
   <li><a href="#destination-rate-limit-result">Destination rate-limit result</a><span>, in § 7.25</span>
   <li><a href="#destination-rate-limit-window">Destination rate-limit window</a><span>, in § 10</span>
   <li><a href="#determine-if-a-randomized-null-report-is-generated">determine if a randomized null report is generated</a><span>, in § 13.16</span>
   <li><a href="#does-filter-data-match">Does filter data match</a><span>, in § 13.1</span>
   <li><a href="#event-level-report-replacement-result-drop-new-report-low-priority">drop-new-report-low-priority</a><span>, in § 13.9</span>
   <li><a href="#event-level-report-replacement-result-drop-new-report-none-to-replace">drop-new-report-none-to-replace</a><span>, in § 13.9</span>
   <li><a href="#triggering-status-dropped">dropped</a><span>, in § 7.25</span>
   <li><a href="#aggregatable-report-effective-attribution-destination">effective attribution destination</a><span>, in § 7.18</span>
   <li><a href="#eligibility">eligibility</a><span>, in § 11.12</span>
   <li><a href="#eligible-key">eligible key</a><span>, in § 3</span>
   <li><a href="#eligibility-empty">empty</a><span>, in § 11.12</span>
   <li><a href="#encode-an-unsigned-k-bit-integer">encode an unsigned k-bit integer</a><span>, in § 14.1</span>
   <li><a href="#report-window-end">end</a><span>, in § 7.7</span>
   <li><a href="#source-type-event">event</a><span>, in § 7.6</span>
   <li>
    event ID
    <ul>
     <li><a href="#attribution-source-event-id">dfn for attribution source</a><span>, in § 7.8</span>
     <li><a href="#event-level-report-event-id">dfn for event-level report</a><span>, in § 7.16</span>
    </ul>
   <li><a href="#attribution-source-event-level-attributable">event-level attributable</a><span>, in § 7.8</span>
   <li><a href="#event-level-report">Event-level report</a><span>, in § 7.15</span>
   <li><a href="#event-level-report-cache">event-level report cache</a><span>, in § 8</span>
   <li><a href="#event-level-report-replacement-result">event-level-report-replacement result</a><span>, in § 13.9</span>
   <li><a href="#attribution-source-event-level-report-windows">event-level report windows</a><span>, in § 7.8</span>
   <li><a href="#event-level-trigger-configuration">Event-level trigger configuration</a><span>, in § 7.10</span>
   <li><a href="#attribution-trigger-event-level-trigger-configurations">event-level trigger configurations</a><span>, in § 7.14</span>
   <li>
    event-source
    <ul>
     <li><a href="#eligibility-event-source">dfn for eligibility</a><span>, in § 11.12</span>
     <li><a href="#eligible-key-event-source">dfn for eligible key</a><span>, in § 3</span>
    </ul>
   <li><a href="#dom-attributionreportingrequestoptions-eventsourceeligible">eventSourceEligible</a><span>, in § 3</span>
   <li><a href="#eligibility-event-source-or-trigger">event-source-or-trigger</a><span>, in § 11.12</span>
   <li><a href="#aggregatable-source-registration-time-configuration-exclude">exclude</a><span>, in § 7.13</span>
   <li><a href="#attribution-source-expiry">expiry</a><span>, in § 7.8</span>
   <li>
    expiry time
    <ul>
     <li><a href="#attribution-rate-limit-record-expiry-time">dfn for attribution rate-limit record</a><span>, in § 7.19</span>
     <li><a href="#attribution-source-expiry-time">dfn for attribution source</a><span>, in § 7.8</span>
    </ul>
   <li><a href="#filter-config">filter config</a><span>, in § 7.4</span>
   <li><a href="#attribution-source-filter-data">filter data</a><span>, in § 7.8</span>
   <li><a href="#filter-map">filter map</a><span>, in § 7.4</span>
   <li>
    filters
    <ul>
     <li><a href="#aggregatable-dedup-key-filters">dfn for aggregatable dedup key</a><span>, in § 7.10</span>
     <li><a href="#aggregatable-trigger-data-filters">dfn for aggregatable trigger data</a><span>, in § 7.9</span>
     <li><a href="#attribution-trigger-filters">dfn for attribution trigger</a><span>, in § 7.14</span>
     <li><a href="#event-level-trigger-configuration-filters">dfn for event-level trigger configuration</a><span>, in § 7.11</span>
    </ul>
   <li><a href="#filter-value">filter value</a><span>, in § 7.4</span>
   <li><a href="#find-matching-sources">find matching sources</a><span>, in § 13.11</span>
   <li><a href="#generate-an-attribution-debug-report-url">generate an attribution debug report URL</a><span>, in § 14.7</span>
   <li><a href="#generate-an-attribution-report-url">generate an attribution report URL</a><span>, in § 14.7</span>
   <li><a href="#generate-a-report-url">generate a report URL</a><span>, in § 14.7</span>
   <li><a href="#generate-attribution-report-headers">generate attribution report headers</a><span>, in § 14.9</span>
   <li><a href="#generate-null-reports">generate null reports</a><span>, in § 13.16</span>
   <li><a href="#generate-null-reports-and-assign-private-state-tokens">generate null reports and assign private state tokens</a><span>, in § 13.16</span>
   <li><a href="#get-an-eligibility-from-attributionreportingrequestoptions">get an eligibility from AttributionReportingRequestOptions</a><span>, in § 3</span>
   <li><a href="#get-os-registrations-from-a-header-list">get OS registrations from a header list</a><span>, in § 15</span>
   <li><a href="#get-supported-registrars">get supported registrars</a><span>, in § 15</span>
   <li><a href="#destination-rate-limit-result-hit-global-limit">hit global limit</a><span>, in § 7.26</span>
   <li><a href="#destination-rate-limit-result-hit-reporting-limit">hit reporting limit</a><span>, in § 7.26</span>
   <li><a href="#htmlattributionsrcelementutils">HTMLAttributionSrcElementUtils</a><span>, in § 2.1</span>
   <li><a href="#trigger-verification-id">id</a><span>, in § 7.23</span>
   <li><a href="#trigger-verification-metadata-ids">IDs</a><span>, in § 7.24</span>
   <li><a href="#aggregatable-source-registration-time-configuration-include">include</a><span>, in § 7.13</span>
   <li><a href="#generate-an-attribution-report-url-isdebugreport">isDebugReport</a><span>, in § 14.7</span>
   <li><a href="#event-level-report-is-lower-priority-than">is lower-priority than</a><span>, in § 13.9</span>
   <li>
    isNegated
    <ul>
     <li><a href="#match-an-attribution-sources-filter-data-against-a-filter-config-isnegated">dfn for match an attribution source’s filter data against a filter config</a><span>, in § 13.2</span>
     <li><a href="#match-an-attribution-sources-filter-data-against-filters-isnegated">dfn for match an attribution source’s filter data against filters</a><span>, in § 13.2</span>
    </ul>
   <li><a href="#aggregatable-report-is-null-report">is null report</a><span>, in § 7.18</span>
   <li><a href="#aggregatable-contribution-key">key</a><span>, in § 7.17</span>
   <li><a href="#aggregatable-trigger-data-key-piece">key piece</a><span>, in § 7.9</span>
   <li><a href="#localtestingmode">localtestingmode</a><span>, in § 17.1</span>
   <li><a href="#filter-config-lookback-window">lookback window</a><span>, in § 7.4</span>
   <li><a href="#make-a-background-attributionsrc-request">make a background attributionsrc request</a><span>, in § 11.12</span>
   <li><a href="#make-background-attributionsrc-requests">make background attributionsrc requests</a><span>, in § 11.12</span>
   <li><a href="#filter-config-map">map</a><span>, in § 7.4</span>
   <li><a href="#match-an-attribution-sources-filter-data-against-a-filter-config">match an attribution source’s filter data against a filter config</a><span>, in § 13.2</span>
   <li><a href="#match-an-attribution-sources-filter-data-against-filters">match an attribution source’s filter data against filters</a><span>, in § 13.2</span>
   <li><a href="#match-an-attribution-sources-filter-data-against-filters-and-negated-filters">match an attribution source’s filter data against filters and negated filters</a><span>, in § 13.2</span>
   <li><a href="#match-filter-values">match filter values</a><span>, in § 13.2</span>
   <li><a href="#match-filter-values-with-negation">match filter values with negation</a><span>, in § 13.2</span>
   <li><a href="#max-aggregatable-reports-per-attribution-destination">Max aggregatable reports per attribution destination</a><span>, in § 10</span>
   <li><a href="#max-aggregatable-reports-per-source">Max aggregatable reports per source</a><span>, in § 10</span>
   <li><a href="#max-aggregation-keys-per-attribution">Max aggregation keys per attribution</a><span>, in § 10</span>
   <li><a href="#max-attribution-reporting-origins-per-rate-limit-window">Max attribution reporting origins per rate-limit window</a><span>, in § 10</span>
   <li><a href="#max-attributions-per-rate-limit-window">Max attributions per rate-limit window</a><span>, in § 10</span>
   <li><a href="#randomized-response-output-configuration-max-attributions-per-source">max attributions per source</a><span>, in § 7.2</span>
   <li><a href="#max-destinations-covered-by-unexpired-sources">Max destinations covered by unexpired sources</a><span>, in § 10</span>
   <li><a href="#max-destinations-per-rate-limit-window">Max destinations per rate-limit window</a><span>, in § 10</span>
   <li><a href="#max-destinations-per-source">Max destinations per source</a><span>, in § 9</span>
   <li><a href="#max-entries-per-filter-data">Max entries per filter data</a><span>, in § 9</span>
   <li><a href="#max-event-level-channel-capacity-per-source">Max event-level channel capacity per source</a><span>, in § 10</span>
   <li><a href="#max-event-level-reports-per-attribution-destination">Max event-level reports per attribution destination</a><span>, in § 10</span>
   <li><a href="#attribution-source-max-number-of-event-level-reports">Max number of event-level reports</a><span>, in § 7.8</span>
   <li><a href="#max-pending-sources-per-source-origin">Max pending sources per source origin</a><span>, in § 10</span>
   <li><a href="#max-settable-event-level-attributions-per-source">Max settable event-level attributions per source</a><span>, in § 9</span>
   <li><a href="#max-settable-event-level-report-windows">Max settable event-level report windows</a><span>, in § 9</span>
   <li><a href="#max-source-reporting-origins-per-rate-limit-window">Max source reporting origins per rate-limit window</a><span>, in § 10</span>
   <li><a href="#max-source-reporting-origins-per-source-reporting-site">Max source reporting origins per source reporting site</a><span>, in § 10</span>
   <li><a href="#max-values-per-filter-data-entry">Max values per filter data entry</a><span>, in § 9</span>
   <li><a href="#maybe-defer-and-then-complete-trigger-attribution">maybe defer and then complete trigger attribution</a><span>, in § 13.17</span>
   <li><a href="#maybe-replace-event-level-report">maybe replace event-level report</a><span>, in § 13.9</span>
   <li><a href="#min-report-window">Min report window</a><span>, in § 9</span>
   <li><a href="#source-type-navigation">navigation</a><span>, in § 7.6</span>
   <li>
    navigation-source
    <ul>
     <li><a href="#eligibility-navigation-source">dfn for eligibility</a><span>, in § 11.12</span>
     <li><a href="#eligible-key-navigation-source">dfn for eligible key</a><span>, in § 3</span>
    </ul>
   <li>
    navigationSourceEligible
    <ul>
     <li><a href="#navigate-navigationsourceeligible">dfn for navigate</a><span>, in § 2.3</span>
     <li><a href="#navigation-params-navigationsourceeligible">dfn for navigation params</a><span>, in § 2.3</span>
    </ul>
   <li>
    negated filters
    <ul>
     <li><a href="#aggregatable-dedup-key-negated-filters">dfn for aggregatable dedup key</a><span>, in § 7.10</span>
     <li><a href="#aggregatable-trigger-data-negated-filters">dfn for aggregatable trigger data</a><span>, in § 7.9</span>
     <li><a href="#attribution-trigger-negated-filters">dfn for attribution trigger</a><span>, in § 7.14</span>
     <li><a href="#event-level-trigger-configuration-negated-filters">dfn for event-level trigger configuration</a><span>, in § 7.11</span>
    </ul>
   <li><a href="#triggering-status-noised">noised</a><span>, in § 7.25</span>
   <li><a href="#attribution-source-number-of-aggregatable-reports">number of aggregatable reports</a><span>, in § 7.8</span>
   <li><a href="#attribution-source-number-of-event-level-reports">number of event-level reports</a><span>, in § 7.8</span>
   <li><a href="#randomized-response-output-configuration-num-report-windows">num report windows</a><span>, in § 7.2</span>
   <li><a href="#obtain-a-dictionary-structured-header-value">obtain a dictionary structured header value</a><span>, in § 3</span>
   <li><a href="#obtain-a-fake-report">obtain a fake report</a><span>, in § 12.4</span>
   <li><a href="#obtain-an-aggregatable-report">obtain an aggregatable report</a><span>, in § 13.15</span>
   <li><a href="#obtain-an-aggregatable-report-delivery-time">obtain an aggregatable report delivery time</a><span>, in § 13.12</span>
   <li><a href="#obtain-and-deliver-a-debug-report">obtain and deliver a debug report</a><span>, in § 11.11</span>
   <li><a href="#obtain-and-deliver-a-debug-report-on-source-registration">obtain and deliver a debug report on source registration</a><span>, in § 12.4</span>
   <li><a href="#obtain-and-deliver-a-debug-report-on-trigger-registration">obtain and deliver a debug report on trigger registration</a><span>, in § 13.11</span>
   <li><a href="#obtain-and-deliver-debug-reports-on-os-registrations">obtain and deliver debug reports on OS registrations</a><span>, in § 16.2</span>
   <li><a href="#obtain-an-event-level-report">obtain an event-level report</a><span>, in § 13.13</span>
   <li><a href="#obtain-an-event-level-report-body">obtain an event-level report body</a><span>, in § 14.5</span>
   <li><a href="#obtain-an-event-level-report-delivery-time">obtain an event-level report delivery time</a><span>, in § 13.12</span>
   <li><a href="#obtain-a-null-report">obtain a null report</a><span>, in § 13.16</span>
   <li><a href="#obtain-a-randomized-response">obtain a randomized response</a><span>, in § 11.8</span>
   <li><a href="#obtain-a-randomized-source-response">obtain a randomized source response</a><span>, in § 12.1</span>
   <li><a href="#obtain-a-randomized-source-response-pick-rate">obtain a randomized source response pick rate</a><span>, in § 12.1</span>
   <li><a href="#obtain-a-report-time-from-a-window">obtain a report time from a window</a><span>, in § 13.12</span>
   <li><a href="#obtain-a-set-of-possible-trigger-states">obtain a set of possible trigger states</a><span>, in § 12.1</span>
   <li><a href="#obtain-debug-data-body-on-trigger-registration">obtain debug data body on trigger registration</a><span>, in § 13.8</span>
   <li><a href="#obtain-debug-data-on-trigger-registration">obtain debug data on trigger registration</a><span>, in § 13.8</span>
   <li><a href="#obtain-default-effective-windows">obtain default effective windows</a><span>, in § 12.3</span>
   <li><a href="#obtain-rounded-source-time">obtain rounded source time</a><span>, in § 13.16</span>
   <li><a href="#obtain-the-aggregation-service-payloads">obtain the aggregation service payloads</a><span>, in § 14.4</span>
   <li><a href="#obtain-the-encrypted-payload">obtain the encrypted payload</a><span>, in § 14.4</span>
   <li><a href="#obtain-the-public-key-for-encryption">obtain the public key for encryption</a><span>, in § 14.4</span>
   <li><a href="#obtain-the-report-time-at-a-window">obtain the report time at a window</a><span>, in § 13.12</span>
   <li><a href="#attribution-report-original-report-time">original report time</a><span>, in § 7.15</span>
   <li><a href="#origin-rate-limit-window">Origin rate-limit window</a><span>, in § 10</span>
   <li><a href="#registrar-os">os</a><span>, in § 11.12</span>
   <li><a href="#os-debug-data-type">OS debug data type</a><span>, in § 7.20</span>
   <li><a href="#os-registration">OS registration</a><span>, in § 15</span>
   <li><a href="#os-debug-data-type-os-source-delegated">os-source-delegated</a><span>, in § 7.20</span>
   <li><a href="#os-debug-data-type-os-trigger-delegated">os-trigger-delegated</a><span>, in § 7.20</span>
   <li><a href="#parse-a-duration">parse a duration</a><span>, in § 12.3</span>
   <li><a href="#parse-a-filter-pair">parse a filter pair</a><span>, in § 11.5</span>
   <li><a href="#parse-aggregatable-dedup-keys">parse aggregatable dedup keys</a><span>, in § 13.1</span>
   <li><a href="#parse-aggregatable-trigger-data">parse aggregatable trigger data</a><span>, in § 13.1</span>
   <li><a href="#parse-aggregatable-values">parse aggregatable values</a><span>, in § 13.1</span>
   <li><a href="#parse-aggregation-keys">parse aggregation keys</a><span>, in § 12.3</span>
   <li><a href="#parse-an-aggregation-key-piece">parse an aggregation key piece</a><span>, in § 11.9</span>
   <li><a href="#parse-an-attribution-destination">parse an attribution destination</a><span>, in § 12.3</span>
   <li><a href="#parse-an-optional-64-bit-signed-integer">parse an optional 64-bit signed integer</a><span>, in § 11.2</span>
   <li><a href="#parse-an-optional-64-bit-unsigned-integer">parse an optional 64-bit unsigned integer</a><span>, in § 11.2</span>
   <li><a href="#parse-attribution-destinations">parse attribution destinations</a><span>, in § 12.3</span>
   <li><a href="#parse-event-triggers">parse event triggers</a><span>, in § 13.1</span>
   <li><a href="#parse-filter-config">parse filter config</a><span>, in § 11.4</span>
   <li><a href="#parse-filter-data">parse filter data</a><span>, in § 11.4</span>
   <li><a href="#parse-filters">parse filters</a><span>, in § 11.5</span>
   <li><a href="#parse-filter-values">parse filter values</a><span>, in § 11.4</span>
   <li><a href="#parse-report-windows">parse report windows</a><span>, in § 12.3</span>
   <li><a href="#parse-source-registration-json">parse source-registration JSON</a><span>, in § 12.3</span>
   <li><a href="#aggregatable-report-plaintext-payload">plaintext payload</a><span>, in § 14.4</span>
   <li><a href="#trigger-verification-metadata-pretokens">pretokens</a><span>, in § 7.24</span>
   <li>
    priority
    <ul>
     <li><a href="#attribution-source-priority">dfn for attribution source</a><span>, in § 7.8</span>
     <li><a href="#event-level-trigger-configuration-priority">dfn for event-level trigger configuration</a><span>, in § 7.11</span>
    </ul>
   <li><a href="#process-an-attribution-eligible-response">process an attribution eligible response</a><span>, in § 11.12</span>
   <li><a href="#process-an-attribution-source">process an attribution source</a><span>, in § 12.4</span>
   <li><a href="#process-an-attributionsrc-response">process an attributionsrc response</a><span>, in § 11.12</span>
   <li><a href="#queue-a-report-for-delivery">queue a report for delivery</a><span>, in § 14</span>
   <li><a href="#randomized-aggregatable-report-delay">Randomized aggregatable report delay</a><span>, in § 10</span>
   <li><a href="#randomized-null-report-rate-excluding-source-registration-time">Randomized null report rate excluding source registration time</a><span>, in § 10</span>
   <li><a href="#randomized-null-report-rate-including-source-registration-time">Randomized null report rate including source registration time</a><span>, in § 10</span>
   <li><a href="#attribution-source-randomized-response">randomized response</a><span>, in § 7.8</span>
   <li><a href="#randomized-response-epsilon">Randomized response epsilon</a><span>, in § 10</span>
   <li><a href="#randomized-response-output-configuration">Randomized response output configuration</a><span>, in § 7.1</span>
   <li><a href="#randomized-source-response">Randomized source response</a><span>, in § 7.2</span>
   <li>
    randomized trigger rate
    <ul>
     <li><a href="#attribution-source-randomized-trigger-rate">dfn for attribution source</a><span>, in § 7.8</span>
     <li><a href="#event-level-report-randomized-trigger-rate">dfn for event-level report</a><span>, in § 7.16</span>
    </ul>
   <li><a href="#rate-limit-scope">rate-limit scope</a><span>, in § 7.19</span>
   <li><a href="#receive-trigger-verification-tokens">receive trigger verification tokens</a><span>, in § 16.2</span>
   <li><a href="#registrar">registrar</a><span>, in § 11.12</span>
   <li><a href="#remove-a-report-from-the-cache">remove a report from the cache</a><span>, in § 14.10</span>
   <li>
    report
    <ul>
     <li><a href="#generate-null-reports-and-assign-private-state-tokens-report">dfn for generate null reports and assign private state tokens</a><span>, in § 13.16</span>
     <li><a href="#obtain-debug-data-body-on-trigger-registration-report">dfn for obtain debug data body on trigger registration</a><span>, in § 13.8</span>
     <li><a href="#obtain-debug-data-on-trigger-registration-report">dfn for obtain debug data on trigger registration</a><span>, in § 13.8</span>
    </ul>
   <li><a href="#attribution-report-report-id">report ID</a><span>, in § 7.15</span>
   <li>
    reporting origin
    <ul>
     <li><a href="#attribution-debug-report-reporting-origin">dfn for attribution debug report</a><span>, in § 7.21</span>
     <li><a href="#attribution-rate-limit-record-reporting-origin">dfn for attribution rate-limit record</a><span>, in § 7.19</span>
     <li><a href="#attribution-report-reporting-origin">dfn for attribution report, aggregatable report, event-level report</a><span>, in § 7.15</span>
     <li><a href="#attribution-source-reporting-origin">dfn for attribution source</a><span>, in § 7.8</span>
     <li><a href="#attribution-trigger-reporting-origin">dfn for attribution trigger</a><span>, in § 7.14</span>
    </ul>
   <li><a href="#attribution-report-report-time">report time</a><span>, in § 7.15</span>
   <li>
    report window
    <ul>
     <li><a href="#report-window">definition of</a><span>, in § 7.7</span>
     <li><a href="#trigger-state-report-window">dfn for trigger state</a><span>, in § 7.1</span>
    </ul>
   <li><a href="#report-window-list">report window list</a><span>, in § 7.7</span>
   <li><a href="#aggregatable-report-required-aggregatable-budget">required aggregatable budget</a><span>, in § 13.14</span>
   <li><a href="#attribution-rate-limit-record-scope">scope</a><span>, in § 7.19</span>
   <li><a href="#sec-attribution-reporting-private-state-token">Sec-Attribution-Reporting-Private-State-Token</a><span>, in § 16</span>
   <li><a href="#serialize-an-aggregatable-report">serialize an aggregatable report</a><span>, in § 14.5</span>
   <li><a href="#serialize-an-attribution-debug-report">serialize an attribution debug report</a><span>, in § 14.6</span>
   <li><a href="#serialize-an-attribution-report">serialize an attribution report</a><span>, in § 14.5</span>
   <li><a href="#serialize-an-event-level-report">serialize an event-level report</a><span>, in § 14.5</span>
   <li><a href="#serialize-an-integer">serialize an integer</a><span>, in § 11.1</span>
   <li><a href="#serialize-attribution-destinations">serialize attribution destinations</a><span>, in § 11.3</span>
   <li><a href="#serialized-private-state-token">Serialized private state token</a><span>, in § 7.21</span>
   <li><a href="#aggregatable-report-serialized-private-state-token">serialized private state token</a><span>, in § 7.18</span>
   <li><a href="#set-an-os-support-header">set an OS-support header</a><span>, in § 15</span>
   <li><a href="#set-attribution-reporting-headers">set Attribution Reporting headers</a><span>, in § 3</span>
   <li><a href="#dom-xmlhttprequest-setattributionreporting">setAttributionReporting(options)</a><span>, in § 3</span>
   <li><a href="#set-trigger-verification-request-headers">set trigger verification request headers</a><span>, in § 16.1</span>
   <li><a href="#aggregatable-report-shared-info">shared info</a><span>, in § 14.3</span>
   <li><a href="#should-block-attribution-for-attribution-limit">Should attribution be blocked by attribution rate limit</a><span>, in § 13.2</span>
   <li><a href="#should-block-attribution-for-rate-limits">Should attribution be blocked by rate limits</a><span>, in § 13.4</span>
   <li><a href="#should-block-processing-for-reporting-origin-limit">Should processing be blocked by reporting-origin limit</a><span>, in § 13.3</span>
   <li><a href="#shuffle-a-list">shuffle a list</a><span>, in § 13.16</span>
   <li><a href="#rate-limit-scope-source">source</a><span>, in § 7.19</span>
   <li><a href="#source-debug-data-type">source debug data type</a><span>, in § 7.20</span>
   <li><a href="#attribution-report-source-debug-key">source debug key</a><span>, in § 7.15</span>
   <li><a href="#source-debug-data-type-source-destination-limit">source-destination-limit</a><span>, in § 7.20</span>
   <li><a href="#source-debug-data-type-source-destination-rate-limit">source-destination-rate-limit</a><span>, in § 7.20</span>
   <li>
    source identifier
    <ul>
     <li><a href="#attribution-source-source-identifier">dfn for attribution source</a><span>, in § 7.8</span>
     <li><a href="#event-level-report-source-identifier">dfn for event-level report</a><span>, in § 7.16</span>
    </ul>
   <li><a href="#aggregatable-trigger-data-source-keys">source keys</a><span>, in § 7.9</span>
   <li><a href="#source-debug-data-type-source-noised">source-noised</a><span>, in § 7.20</span>
   <li><a href="#attribution-source-source-origin">source origin</a><span>, in § 7.8</span>
   <li><a href="#aggregatable-report-source-registration-time-configuration">source registration time configuration</a><span>, in § 7.18</span>
   <li>
    source site
    <ul>
     <li><a href="#attribution-rate-limit-record-source-site">dfn for attribution rate-limit record</a><span>, in § 7.19</span>
     <li><a href="#attribution-source-source-site">dfn for attribution source</a><span>, in § 7.8</span>
    </ul>
   <li><a href="#source-debug-data-type-source-storage-limit">source-storage-limit</a><span>, in § 7.20</span>
   <li><a href="#source-debug-data-type-source-success">source-success</a><span>, in § 7.20</span>
   <li>
    source time
    <ul>
     <li><a href="#aggregatable-report-source-time">dfn for aggregatable report</a><span>, in § 7.18</span>
     <li><a href="#attribution-source-source-time">dfn for attribution source</a><span>, in § 7.8</span>
    </ul>
   <li>
    sourceToAttribute
    <ul>
     <li><a href="#obtain-and-deliver-a-debug-report-on-trigger-registration-sourcetoattribute">dfn for obtain and deliver a debug report on trigger registration</a><span>, in § 13.11</span>
     <li><a href="#obtain-debug-data-body-on-trigger-registration-sourcetoattribute">dfn for obtain debug data body on trigger registration</a><span>, in § 13.8</span>
     <li><a href="#obtain-debug-data-on-trigger-registration-sourcetoattribute">dfn for obtain debug data on trigger registration</a><span>, in § 13.8</span>
    </ul>
   <li>
    source type
    <ul>
     <li><a href="#source-type">definition of</a><span>, in § 7.6</span>
     <li><a href="#attribution-source-source-type">dfn for attribution source</a><span>, in § 7.8</span>
     <li><a href="#event-level-report-source-type">dfn for event-level report</a><span>, in § 7.16</span>
    </ul>
   <li><a href="#source-debug-data-type-source-unknown-error">source-unknown-error</a><span>, in § 7.20</span>
   <li><a href="#report-window-start">start</a><span>, in § 7.7</span>
   <li><a href="#triggering-result-status">status</a><span>, in § 7.25</span>
   <li><a href="#suitable-origin">Suitable origin</a><span>, in § 7.4</span>
   <li><a href="#attribution-rate-limit-record-time">time</a><span>, in § 7.19</span>
   <li><a href="#trigger-verification-token">token</a><span>, in § 7.23</span>
   <li><a href="#attribution-source-total-event-level-report-window">total event-level report window</a><span>, in § 7.8</span>
   <li>
    trigger
    <ul>
     <li><a href="#eligibility-trigger">dfn for eligibility</a><span>, in § 11.12</span>
     <li><a href="#eligible-key-trigger">dfn for eligible key</a><span>, in § 3</span>
    </ul>
   <li><a href="#trigger-aggregatable-attribution">trigger aggregatable attribution</a><span>, in § 13.10</span>
   <li><a href="#trigger-debug-data-type-trigger-aggregate-deduplicated">trigger-aggregate-deduplicated</a><span>, in § 7.20</span>
   <li><a href="#trigger-debug-data-type-trigger-aggregate-excessive-reports">trigger-aggregate-excessive-reports</a><span>, in § 7.20</span>
   <li><a href="#trigger-debug-data-type-trigger-aggregate-insufficient-budget">trigger-aggregate-insufficient-budget</a><span>, in § 7.20</span>
   <li><a href="#trigger-debug-data-type-trigger-aggregate-no-contributions">trigger-aggregate-no-contributions</a><span>, in § 7.20</span>
   <li><a href="#trigger-debug-data-type-trigger-aggregate-report-window-passed">trigger-aggregate-report-window-passed</a><span>, in § 7.20</span>
   <li><a href="#trigger-debug-data-type-trigger-aggregate-storage-limit">trigger-aggregate-storage-limit</a><span>, in § 7.20</span>
   <li><a href="#trigger-attribution">trigger attribution</a><span>, in § 13.11</span>
   <li><a href="#trigger-debug-data-type-trigger-attributions-per-source-destination-limit">trigger-attributions-per-source-destination-limit</a><span>, in § 7.20</span>
   <li>
    trigger data
    <ul>
     <li><a href="#event-level-report-trigger-data">dfn for event-level report</a><span>, in § 7.16</span>
     <li><a href="#event-level-trigger-configuration-trigger-data">dfn for event-level trigger configuration</a><span>, in § 7.11</span>
     <li><a href="#trigger-state-trigger-data">dfn for trigger state</a><span>, in § 7.1</span>
    </ul>
   <li><a href="#randomized-response-output-configuration-trigger-data-cardinality">trigger data cardinality</a><span>, in § 7.2</span>
   <li><a href="#trigger-debug-data-type">trigger debug data type</a><span>, in § 7.20</span>
   <li><a href="#attribution-report-trigger-debug-key">trigger debug key</a><span>, in § 7.15</span>
   <li><a href="#dom-attributionreportingrequestoptions-triggereligible">triggerEligible</a><span>, in § 3</span>
   <li><a href="#trigger-debug-data-type-trigger-event-deduplicated">trigger-event-deduplicated</a><span>, in § 7.20</span>
   <li><a href="#trigger-debug-data-type-trigger-event-excessive-reports">trigger-event-excessive-reports</a><span>, in § 7.20</span>
   <li><a href="#trigger-event-level-attribution">trigger event-level attribution</a><span>, in § 13.9</span>
   <li><a href="#trigger-debug-data-type-trigger-event-low-priority">trigger-event-low-priority</a><span>, in § 7.20</span>
   <li><a href="#trigger-debug-data-type-trigger-event-noise">trigger-event-noise</a><span>, in § 7.20</span>
   <li><a href="#trigger-debug-data-type-trigger-event-no-matching-configurations">trigger-event-no-matching-configurations</a><span>, in § 7.20</span>
   <li><a href="#trigger-debug-data-type-trigger-event-report-window-not-started">trigger-event-report-window-not-started</a><span>, in § 7.20</span>
   <li><a href="#trigger-debug-data-type-trigger-event-report-window-passed">trigger-event-report-window-passed</a><span>, in § 7.20</span>
   <li><a href="#trigger-debug-data-type-trigger-event-storage-limit">trigger-event-storage-limit</a><span>, in § 7.20</span>
   <li><a href="#triggering-result">Triggering result</a><span>, in § 7.24</span>
   <li><a href="#triggering-status">triggering status</a><span>, in § 7.25</span>
   <li><a href="#trigger-debug-data-type-trigger-no-matching-filter-data">trigger-no-matching-filter-data</a><span>, in § 7.20</span>
   <li><a href="#trigger-debug-data-type-trigger-no-matching-source">trigger-no-matching-source</a><span>, in § 7.20</span>
   <li><a href="#event-level-report-trigger-priority">trigger priority</a><span>, in § 7.16</span>
   <li><a href="#trigger-debug-data-type-trigger-reporting-origin-limit">trigger-reporting-origin-limit</a><span>, in § 7.20</span>
   <li><a href="#trigger-state">Trigger state</a><span>, in § 7</span>
   <li>
    trigger time
    <ul>
     <li><a href="#attribution-trigger-trigger-time">dfn for attribution trigger</a><span>, in § 7.14</span>
     <li><a href="#event-level-report-trigger-time">dfn for event-level report</a><span>, in § 7.16</span>
    </ul>
   <li><a href="#trigger-debug-data-type-trigger-unknown-error">trigger-unknown-error</a><span>, in § 7.20</span>
   <li><a href="#trigger-verification">Trigger verification</a><span>, in § 7.22</span>
   <li><a href="#trigger-verification-metadata">Trigger verification metadata</a><span>, in § 7.23</span>
   <li><a href="#request-trigger-verification-metadata">trigger verification metadata</a><span>, in § 3</span>
   <li><a href="#eligibility-unset">unset</a><span>, in § 11.12</span>
   <li><a href="#os-registration-url">URL</a><span>, in § 15</span>
   <li><a href="#validate-a-background-attributionsrc-eligibility">validate a background attributionsrc eligibility</a><span>, in § 11.12</span>
   <li><a href="#valid-source-expiry-range">Valid source expiry range</a><span>, in § 9</span>
   <li><a href="#aggregatable-contribution-value">value</a><span>, in § 7.17</span>
   <li><a href="#attribution-trigger-verifications">verifications</a><span>, in § 7.14</span>
   <li><a href="#verification-tokens-per-trigger">Verification tokens per trigger</a><span>, in § 10</span>
   <li><a href="#registrar-web">web</a><span>, in § 11.12</span>
  </ul>
  <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">Terms defined by reference</span><a class="self-link" href="#index-defined-elsewhere"></a></h3>
  <ul class="index">
   <li>
    <a data-link-type="biblio">[CLEAR-SITE-DATA]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="0143b71b">clear dom-accessible storage for origin</span>
    </ul>
   <li>
    <a data-link-type="biblio">[DOM]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="85394472">Document</span>
     <li><span class="dfn-paneled" id="a973e0fe">document</span>
     <li><span class="dfn-paneled" id="5216e1a0">node document</span>
     <li><span class="dfn-paneled" id="2ef14d2e">nodes</span>
    </ul>
   <li>
    <a data-link-type="biblio">[ENCODING]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="a3033be5">utf-8 decode without bom</span>
     <li><span class="dfn-paneled" id="0303e8e5">utf-8 encode</span>
    </ul>
   <li>
    <a data-link-type="biblio">[FENCED-FRAME]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="f09e6fca">eventData</span>
     <li><span class="dfn-paneled" id="adcea05f">eventType</span>
     <li><span class="dfn-paneled" id="bde1dd23">eventdata</span>
     <li><span class="dfn-paneled" id="b4f454ce">eventtype</span>
     <li><span class="dfn-paneled" id="76af9408">fenced frame reporter</span>
     <li><span class="dfn-paneled" id="b80593f9">finalize a reporting destination</span>
     <li><span class="dfn-paneled" id="eb34a7a5">pending event</span>
     <li><span class="dfn-paneled" id="51cae5d0">report an event</span>
     <li><span class="dfn-paneled" id="a49a20d4">reportEvent(event)</span>
     <li><span class="dfn-paneled" id="a62378ab">send a beacon</span>
     <li><span class="dfn-paneled" id="c409d816">unfenced container document</span>
    </ul>
   <li>
    <a data-link-type="biblio">[FETCH]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="0dcd4ad9">RequestInit</span>
     <li><span class="dfn-paneled" id="a6a8ec88">append</span>
     <li><span class="dfn-paneled" id="644cb530">body</span>
     <li><span class="dfn-paneled" id="8e9945a0">body <small>(for request)</small></span>
     <li><span class="dfn-paneled" id="688f9669">cache mode</span>
     <li><span class="dfn-paneled" id="857d5516">client</span>
     <li><span class="dfn-paneled" id="2f2a44c6">constructor(input, init)</span>
     <li><span class="dfn-paneled" id="902380f7">credentials mode</span>
     <li><span class="dfn-paneled" id="ee95ecc7">delete</span>
     <li><span class="dfn-paneled" id="a33db89a">fetch</span>
     <li><span class="dfn-paneled" id="d47d0690">get</span>
     <li><span class="dfn-paneled" id="5c66de35">get a structured field value</span>
     <li><span class="dfn-paneled" id="c9e7c11a">header</span>
     <li><span class="dfn-paneled" id="d85a6c84">header list</span>
     <li><span class="dfn-paneled" id="6ee0eab1">header list <small>(for request)</small></span>
     <li><span class="dfn-paneled" id="f7b00a8b">header list <small>(for response)</small></span>
     <li><span class="dfn-paneled" id="1534f1eb">header name</span>
     <li><span class="dfn-paneled" id="fa4ea124">initiator</span>
     <li><span class="dfn-paneled" id="8394d1b7">keepalive</span>
     <li><span class="dfn-paneled" id="50b05fad">method</span>
     <li><span class="dfn-paneled" id="cb98f71f">mode</span>
     <li><span class="dfn-paneled" id="2889d1ec">navigation request</span>
     <li><span class="dfn-paneled" id="f78d5b5c">origin</span>
     <li><span class="dfn-paneled" id="d83f8790">priority</span>
     <li><span class="dfn-paneled" id="bd2fe71e">processresponse</span>
     <li><span class="dfn-paneled" id="358f1dbd">referrer</span>
     <li><span class="dfn-paneled" id="55213b5b">request</span>
     <li><span class="dfn-paneled" id="ee7bba09">response</span>
     <li><span class="dfn-paneled" id="6d1db60d">service-workers mode</span>
     <li><span class="dfn-paneled" id="35b98f13">set a structured field value</span>
     <li><span class="dfn-paneled" id="449b55f1">source</span>
     <li><span class="dfn-paneled" id="6f7f62df">unsafe-request flag</span>
     <li><span class="dfn-paneled" id="dc1cd39b">url <small>(for request)</small></span>
     <li><span class="dfn-paneled" id="3268a8eb">url <small>(for response)</small></span>
     <li><span class="dfn-paneled" id="2c8ec3a8">useparallelqueue</span>
     <li><span class="dfn-paneled" id="1ab127d6">window</span>
    </ul>
   <li>
    <a data-link-type="biblio">[HR-TIME-3]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="a09bfce2">current wall time</span>
     <li><span class="dfn-paneled" id="4b2c8c72">duration</span>
     <li><span class="dfn-paneled" id="c9a0df83">duration from</span>
     <li><span class="dfn-paneled" id="1e2edd5b">moment</span>
    </ul>
   <li>
    <a data-link-type="biblio">[HTML]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="402ed79d">CEReactions</span>
     <li><span class="dfn-paneled" id="041f209a">HTMLAnchorElement</span>
     <li><span class="dfn-paneled" id="c5891539">HTMLImageElement</span>
     <li><span class="dfn-paneled" id="ec4838d8">HTMLScriptElement</span>
     <li><span class="dfn-paneled" id="68bf3d31">a</span>
     <li><span class="dfn-paneled" id="3610bd67">allowed to use</span>
     <li><span class="dfn-paneled" id="3349d69f">associated document</span>
     <li><span class="dfn-paneled" id="68675e70">content attributes</span>
     <li><span class="dfn-paneled" id="d9aeb25e">entry settings object</span>
     <li><span class="dfn-paneled" id="3e12e042">environment settings object</span>
     <li><span class="dfn-paneled" id="87298d74">feature separator</span>
     <li><span class="dfn-paneled" id="87f27c71">fetchpriority</span>
     <li><span class="dfn-paneled" id="f0246dc8">follow the hyperlink</span>
     <li><span class="dfn-paneled" id="77a2ee6e">host</span>
     <li><span class="dfn-paneled" id="f0811ff8">img</span>
     <li><span class="dfn-paneled" id="a72449dd">in parallel</span>
     <li><span class="dfn-paneled" id="2594e562">navigate</span>
     <li><span class="dfn-paneled" id="4437edc6">navigation params</span>
     <li><span class="dfn-paneled" id="13dd6cae">node navigable</span>
     <li><span class="dfn-paneled" id="602b1a68">obtain a site</span>
     <li><span class="dfn-paneled" id="b01b1359">opaque origin</span>
     <li><span class="dfn-paneled" id="086e3aff">origin</span>
     <li><span class="dfn-paneled" id="55a8e1b3">parse a url</span>
     <li><span class="dfn-paneled" id="98e31e77">port</span>
     <li><span class="dfn-paneled" id="037b46da">prepare the script element</span>
     <li><span class="dfn-paneled" id="9a517a7d">queue a task</span>
     <li><span class="dfn-paneled" id="5ab7b520">reflect</span>
     <li><span class="dfn-paneled" id="e99bd18e">relevant global object</span>
     <li><span class="dfn-paneled" id="9c4c1e66">relevant settings object</span>
     <li><span class="dfn-paneled" id="d773d0d1">rules for parsing integers</span>
     <li><span class="dfn-paneled" id="81cb0e1a">rules for parsing non-negative integers</span>
     <li><span class="dfn-paneled" id="7393da89">same origin</span>
     <li><span class="dfn-paneled" id="feac4ab3">same site</span>
     <li><span class="dfn-paneled" id="a23d12a9">scheme</span>
     <li><span class="dfn-paneled" id="0cf3964f">script</span>
     <li><span class="dfn-paneled" id="1f3af105">script fetch options</span>
     <li><span class="dfn-paneled" id="65181da8">secure context</span>
     <li><span class="dfn-paneled" id="dae0bfde">serialization of an origin</span>
     <li><span class="dfn-paneled" id="7bf4a4dd">set up the classic script request</span>
     <li><span class="dfn-paneled" id="b55c7c95">set up the module script request</span>
     <li><span class="dfn-paneled" id="fb9bb722">site</span>
     <li><span class="dfn-paneled" id="bc7a6100">tokenize the features argument</span>
     <li><span class="dfn-paneled" id="b402424d">update the image data</span>
     <li><span class="dfn-paneled" id="b79e50d6">user activation</span>
     <li><span class="dfn-paneled" id="7907cfc3">window open steps</span>
    </ul>
   <li>
    <a data-link-type="biblio">[IDL]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="b4cfa5ce">throw</span>
    </ul>
   <li>
    <a data-link-type="biblio">[INFRA]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="53275e46">append <small>(for list)</small></span>
     <li><span class="dfn-paneled" id="a3b18719">append <small>(for set)</small></span>
     <li><span class="dfn-paneled" id="57ca97cc">ascii hex digit</span>
     <li><span class="dfn-paneled" id="6f2dfa22">ascii lowercase</span>
     <li><span class="dfn-paneled" id="77b4c09a">assert</span>
     <li><span class="dfn-paneled" id="36858240">boolean</span>
     <li><span class="dfn-paneled" id="7b0d918d">break</span>
     <li><span class="dfn-paneled" id="3de9e659">byte sequence</span>
     <li><span class="dfn-paneled" id="ab3919d2">clone</span>
     <li><span class="dfn-paneled" id="4ef39030">code point length</span>
     <li><span class="dfn-paneled" id="bb1f9628">code point substring</span>
     <li><span class="dfn-paneled" id="d24334b4">collect a sequence of code points</span>
     <li><span class="dfn-paneled" id="4a3bf5fb">concatenate</span>
     <li><span class="dfn-paneled" id="e28ccd60">concatenation</span>
     <li><span class="dfn-paneled" id="ae8def21">contain</span>
     <li><span class="dfn-paneled" id="f937b7b6">continue</span>
     <li><span class="dfn-paneled" id="75393c04">exist <small>(for list)</small></span>
     <li><span class="dfn-paneled" id="1243a891">exist <small>(for map)</small></span>
     <li><span class="dfn-paneled" id="73e75483">forgiving-base64 decode</span>
     <li><span class="dfn-paneled" id="b012ccb2">forgiving-base64 encode</span>
     <li><span class="dfn-paneled" id="860300d4">implementation-defined</span>
     <li><span class="dfn-paneled" id="e5ea84f2">intersection</span>
     <li><span class="dfn-paneled" id="6b815fdd">is empty <small>(for list)</small></span>
     <li><span class="dfn-paneled" id="dc3369de">is empty <small>(for map)</small></span>
     <li><span class="dfn-paneled" id="f02cd417">iterate <small>(for list)</small></span>
     <li><span class="dfn-paneled" id="efe8653e">iterate <small>(for map)</small></span>
     <li><span class="dfn-paneled" id="d14a6f26">key</span>
     <li><span class="dfn-paneled" id="0fa357c3">length</span>
     <li><span class="dfn-paneled" id="649608b9">list</span>
     <li><span class="dfn-paneled" id="3fca5a9e">map</span>
     <li><span class="dfn-paneled" id="84b454ff">ordered map</span>
     <li><span class="dfn-paneled" id="692595fe">ordered set</span>
     <li><span class="dfn-paneled" id="0a78af08">parse json bytes to an infra value</span>
     <li><span class="dfn-paneled" id="99c988d6">remove <small>(for list)</small></span>
     <li><span class="dfn-paneled" id="7d4424b2">remove <small>(for map)</small></span>
     <li><span class="dfn-paneled" id="4c94dd02">serialize an infra value to a json string</span>
     <li><span class="dfn-paneled" id="4c07280e">serialize an infra value to json bytes</span>
     <li><span class="dfn-paneled" id="15e48c39">set</span>
     <li><span class="dfn-paneled" id="0e6b2056">set <small>(for map)</small></span>
     <li><span class="dfn-paneled" id="0204d188">size <small>(for list)</small></span>
     <li><span class="dfn-paneled" id="653d0848">size <small>(for map)</small></span>
     <li><span class="dfn-paneled" id="5ecc2082">sort in ascending order</span>
     <li><span class="dfn-paneled" id="25d7533d">sort in descending order</span>
     <li><span class="dfn-paneled" id="23cac254">split a string on ascii whitespace</span>
     <li><span class="dfn-paneled" id="54627f47">starts with</span>
     <li><span class="dfn-paneled" id="0698d556">string</span>
     <li><span class="dfn-paneled" id="984221ca">struct</span>
     <li><span class="dfn-paneled" id="0e8de730">tuple</span>
     <li><span class="dfn-paneled" id="5eb733b4">union</span>
     <li><span class="dfn-paneled" id="802b0fdd">value</span>
    </ul>
   <li>
    <a data-link-type="biblio">[MEDIACAPTURE-STREAMS]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="bc273a04">source</span>
    </ul>
   <li>
    <a data-link-type="biblio">[PERMISSIONS-POLICY-1]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="1570624a">default allowlist</span>
     <li><span class="dfn-paneled" id="cc890cc1">policy-controlled feature</span>
    </ul>
   <li>
    <a data-link-type="biblio">[PRIVATE-STATE-TOKEN-API]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="3bda058c">generate masked tokens</span>
     <li><span class="dfn-paneled" id="1b89ceb7">look up the key commitments</span>
     <li><span class="dfn-paneled" id="560fad62">sec-private-state-token-crypto-version</span>
     <li><span class="dfn-paneled" id="24c1f4ff">unmask tokens</span>
    </ul>
   <li>
    <a data-link-type="biblio">[PUB-MANIFEST]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="273241b0">urls</span>
    </ul>
   <li>
    <a data-link-type="biblio">[SECURE-CONTEXTS]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="96dabee7">potentially trustworthy origin</span>
    </ul>
   <li>
    <a data-link-type="biblio">[STORAGE]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="67130339">storage bottle</span>
    </ul>
   <li>
    <a data-link-type="biblio">[STRUCTURED HEADER]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="c8a66c76">list</span>
     <li><span class="dfn-paneled" id="5b77f894">parse a list</span>
     <li><span class="dfn-paneled" id="70481778">parse a string</span>
     <li><span class="dfn-paneled" id="20b4e45d">serialize a string</span>
     <li><span class="dfn-paneled" id="2ec30805">string</span>
     <li><span class="dfn-paneled" id="b8e46276">structured header</span>
    </ul>
   <li>
    <a data-link-type="biblio">[URL]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="b85ee3be">host</span>
     <li><span class="dfn-paneled" id="959ad97b">origin</span>
     <li><span class="dfn-paneled" id="c0868016">path</span>
     <li><span class="dfn-paneled" id="8f69ce41">percent-decode</span>
     <li><span class="dfn-paneled" id="852ada56">port</span>
     <li><span class="dfn-paneled" id="3a711be7">scheme</span>
     <li><span class="dfn-paneled" id="dcffbccd">url</span>
     <li><span class="dfn-paneled" id="ca3ca4ae">url parser</span>
     <li><span class="dfn-paneled" id="a8c7461b">url record</span>
     <li><span class="dfn-paneled" id="5442ea33">url serializer</span>
    </ul>
   <li>
    <a data-link-type="biblio">[UUID]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="d4b32370">generate a random uuid</span>
    </ul>
   <li>
    <a data-link-type="biblio">[WebDriver]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="c8ff8493">error code</span>
     <li><span class="dfn-paneled" id="5b668531">getting a property</span>
    </ul>
   <li>
    <a data-link-type="biblio">[WEBDRIVER2]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="bb4c269e">error</span>
     <li><span class="dfn-paneled" id="09daa25c">extension commands</span>
     <li><span class="dfn-paneled" id="8da4d1e3">invalid argument</span>
     <li><span class="dfn-paneled" id="82c23298">remote end steps</span>
     <li><span class="dfn-paneled" id="4be6272b">success</span>
    </ul>
   <li>
    <a data-link-type="biblio">[WEBIDL]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="dca2de17">DOMException</span>
     <li><span class="dfn-paneled" id="797018a7">InvalidStateError</span>
     <li><span class="dfn-paneled" id="b75bb3bd">SecureContext</span>
     <li><span class="dfn-paneled" id="b0d7f3c3">USVString</span>
     <li><span class="dfn-paneled" id="5372cca8">boolean</span>
     <li><span class="dfn-paneled" id="4013a022">this</span>
     <li><span class="dfn-paneled" id="5f90bbfb">undefined</span>
    </ul>
   <li>
    <a data-link-type="biblio">[XHR]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="d06b2b8c">XMLHttpRequest</span>
     <li><span class="dfn-paneled" id="4316437c">send(body)</span>
    </ul>
  </ul>
  <h2 class="no-num no-ref heading settled" id="references"><span class="content">References</span><a class="self-link" href="#references"></a></h2>
  <h3 class="no-num no-ref heading settled" id="normative"><span class="content">Normative References</span><a class="self-link" href="#normative"></a></h3>
  <dl>
   <dt id="biblio-clear-site-data">[CLEAR-SITE-DATA]
   <dd>Mike West. <a href="https://w3c.github.io/webappsec-clear-site-data/"><cite>Clear Site Data</cite></a>. URL: <a href="https://w3c.github.io/webappsec-clear-site-data/">https://w3c.github.io/webappsec-clear-site-data/</a>
   <dt id="biblio-dom">[DOM]
   <dd>Anne van Kesteren. <a href="https://dom.spec.whatwg.org/"><cite>DOM Standard</cite></a>. Living Standard. URL: <a href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
   <dt id="biblio-ecmascript">[ECMASCRIPT]
   <dd><a href="https://tc39.es/ecma262/multipage/"><cite>ECMAScript Language Specification</cite></a>. URL: <a href="https://tc39.es/ecma262/multipage/">https://tc39.es/ecma262/multipage/</a>
   <dt id="biblio-encoding">[ENCODING]
   <dd>Anne van Kesteren. <a href="https://encoding.spec.whatwg.org/"><cite>Encoding Standard</cite></a>. Living Standard. URL: <a href="https://encoding.spec.whatwg.org/">https://encoding.spec.whatwg.org/</a>
   <dt id="biblio-fenced-frame">[FENCED-FRAME]
   <dd><a href="https://wicg.github.io/fenced-frame/"><cite>Fenced Frame</cite></a>. Draft Community Group Report. URL: <a href="https://wicg.github.io/fenced-frame/">https://wicg.github.io/fenced-frame/</a>
   <dt id="biblio-fetch">[FETCH]
   <dd>Anne van Kesteren. <a href="https://fetch.spec.whatwg.org/"><cite>Fetch Standard</cite></a>. Living Standard. URL: <a href="https://fetch.spec.whatwg.org/">https://fetch.spec.whatwg.org/</a>
   <dt id="biblio-hr-time-3">[HR-TIME-3]
   <dd>Yoav Weiss. <a href="https://w3c.github.io/hr-time/"><cite>High Resolution Time</cite></a>. URL: <a href="https://w3c.github.io/hr-time/">https://w3c.github.io/hr-time/</a>
   <dt id="biblio-html">[HTML]
   <dd>Anne van Kesteren; et al. <a href="https://html.spec.whatwg.org/multipage/"><cite>HTML Standard</cite></a>. Living Standard. URL: <a href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
   <dt id="biblio-infra">[INFRA]
   <dd>Anne van Kesteren; Domenic Denicola. <a href="https://infra.spec.whatwg.org/"><cite>Infra Standard</cite></a>. Living Standard. URL: <a href="https://infra.spec.whatwg.org/">https://infra.spec.whatwg.org/</a>
   <dt id="biblio-mediacapture-streams">[MEDIACAPTURE-STREAMS]
   <dd>Cullen Jennings; et al. <a href="https://w3c.github.io/mediacapture-main/"><cite>Media Capture and Streams</cite></a>. URL: <a href="https://w3c.github.io/mediacapture-main/">https://w3c.github.io/mediacapture-main/</a>
   <dt id="biblio-permissions-policy-1">[PERMISSIONS-POLICY-1]
   <dd>Ian Clelland. <a href="https://w3c.github.io/webappsec-permissions-policy/"><cite>Permissions Policy</cite></a>. URL: <a href="https://w3c.github.io/webappsec-permissions-policy/">https://w3c.github.io/webappsec-permissions-policy/</a>
   <dt id="biblio-pub-manifest">[PUB-MANIFEST]
   <dd>Matt Garrish; Ivan Herman. <a href="https://w3c.github.io/pub-manifest/"><cite>Publication Manifest</cite></a>. URL: <a href="https://w3c.github.io/pub-manifest/">https://w3c.github.io/pub-manifest/</a>
   <dt id="biblio-rfc2119">[RFC2119]
   <dd>S. Bradner. <a href="https://datatracker.ietf.org/doc/html/rfc2119"><cite>Key words for use in RFCs to Indicate Requirement Levels</cite></a>. March 1997. Best Current Practice. URL: <a href="https://datatracker.ietf.org/doc/html/rfc2119">https://datatracker.ietf.org/doc/html/rfc2119</a>
   <dt id="biblio-rfc8949">[RFC8949]
   <dd>C. Bormann; P. Hoffman. <a href="https://www.rfc-editor.org/rfc/rfc8949"><cite>Concise Binary Object Representation (CBOR)</cite></a>. December 2020. Internet Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc8949">https://www.rfc-editor.org/rfc/rfc8949</a>
   <dt id="biblio-rfc9180">[RFC9180]
   <dd>R. Barnes; et al. <a href="https://www.rfc-editor.org/rfc/rfc9180"><cite>Hybrid Public Key Encryption</cite></a>. February 2022. Informational. URL: <a href="https://www.rfc-editor.org/rfc/rfc9180">https://www.rfc-editor.org/rfc/rfc9180</a>
   <dt id="biblio-secure-contexts">[SECURE-CONTEXTS]
   <dd>Mike West. <a href="https://w3c.github.io/webappsec-secure-contexts/"><cite>Secure Contexts</cite></a>. URL: <a href="https://w3c.github.io/webappsec-secure-contexts/">https://w3c.github.io/webappsec-secure-contexts/</a>
   <dt id="biblio-url">[URL]
   <dd>Anne van Kesteren. <a href="https://url.spec.whatwg.org/"><cite>URL Standard</cite></a>. Living Standard. URL: <a href="https://url.spec.whatwg.org/">https://url.spec.whatwg.org/</a>
   <dt id="biblio-webdriver">[WebDriver]
   <dd>Simon Stewart; David Burns. <a href="https://w3c.github.io/webdriver/"><cite>WebDriver</cite></a>. URL: <a href="https://w3c.github.io/webdriver/">https://w3c.github.io/webdriver/</a>
   <dt id="biblio-webdriver2">[WEBDRIVER2]
   <dd>Simon Stewart; David Burns. <a href="https://w3c.github.io/webdriver/"><cite>WebDriver</cite></a>. URL: <a href="https://w3c.github.io/webdriver/">https://w3c.github.io/webdriver/</a>
   <dt id="biblio-webidl">[WEBIDL]
   <dd>Edgar Chen; Timothy Gu. <a href="https://webidl.spec.whatwg.org/"><cite>Web IDL Standard</cite></a>. Living Standard. URL: <a href="https://webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
   <dt id="biblio-xhr">[XHR]
   <dd>Anne van Kesteren. <a href="https://xhr.spec.whatwg.org/"><cite>XMLHttpRequest Standard</cite></a>. Living Standard. URL: <a href="https://xhr.spec.whatwg.org/">https://xhr.spec.whatwg.org/</a>
  </dl>
  <h3 class="no-num no-ref heading settled" id="informative"><span class="content">Informative References</span><a class="self-link" href="#informative"></a></h3>
  <dl>
   <dt id="biblio-bin-ent">[BIN-ENT]
   <dd><a href="https://en.wikipedia.org/wiki/Binary_entropy_function"><cite>Binary entropy function</cite></a>. URL: <a href="https://en.wikipedia.org/wiki/Binary_entropy_function">https://en.wikipedia.org/wiki/Binary_entropy_function</a>
   <dt id="biblio-chan">[CHAN]
   <dd><a href="https://en.wikipedia.org/wiki/Channel_capacity"><cite>Channel capacity</cite></a>. URL: <a href="https://en.wikipedia.org/wiki/Channel_capacity">https://en.wikipedia.org/wiki/Channel_capacity</a>
   <dt id="biblio-dp">[DP]
   <dd><a href="https://en.wikipedia.org/wiki/Differential_privacy"><cite>Differential privacy</cite></a>. URL: <a href="https://en.wikipedia.org/wiki/Differential_privacy">https://en.wikipedia.org/wiki/Differential_privacy</a>
   <dt id="biblio-q-sc">[Q-SC]
   <dd>Claudio Weidmann; Gottfried Lechner. <a href="https://arxiv.org/pdf/0909.2009.pdf"><cite>q-ary symmetric channel</cite></a>. URL: <a href="https://arxiv.org/pdf/0909.2009.pdf">https://arxiv.org/pdf/0909.2009.pdf</a>
   <dt id="biblio-rr">[RR]
   <dd><a href="https://en.wikipedia.org/wiki/Randomized_response"><cite>Randomized response</cite></a>. URL: <a href="https://en.wikipedia.org/wiki/Randomized_response">https://en.wikipedia.org/wiki/Randomized_response</a>
   <dt id="biblio-storage">[STORAGE]
   <dd>Anne van Kesteren. <a href="https://storage.spec.whatwg.org/"><cite>Storage Standard</cite></a>. Living Standard. URL: <a href="https://storage.spec.whatwg.org/">https://storage.spec.whatwg.org/</a>
  </dl>
  <h2 class="no-num no-ref heading settled" id="idl-index"><span class="content">IDL Index</span><a class="self-link" href="#idl-index"></a></h2>
<pre class="idl highlight def"><c- b>interface</c-> <c- b>mixin</c-> <a href="#htmlattributionsrcelementutils"><code><c- g>HTMLAttributionSrcElementUtils</c-></code></a> {
    [<a class="idl-code" data-link-type="extended-attribute" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions"><c- g>CEReactions</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>] <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-type="USVString" href="#dom-htmlattributionsrcelementutils-attributionsrc"><code><c- g>attributionSrc</c-></code></a>;
};

<a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/text-level-semantics.html#htmlanchorelement"><c- n>HTMLAnchorElement</c-></a> <c- b>includes</c-> <a data-link-type="idl-name" href="#htmlattributionsrcelementutils"><c- n>HTMLAttributionSrcElementUtils</c-></a>;
<a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/embedded-content.html#htmlimageelement"><c- n>HTMLImageElement</c-></a> <c- b>includes</c-> <a data-link-type="idl-name" href="#htmlattributionsrcelementutils"><c- n>HTMLAttributionSrcElementUtils</c-></a>;
<a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/scripting.html#htmlscriptelement"><c- n>HTMLScriptElement</c-></a> <c- b>includes</c-> <a data-link-type="idl-name" href="#htmlattributionsrcelementutils"><c- n>HTMLAttributionSrcElementUtils</c-></a>;

<c- b>dictionary</c-> <a href="#dictdef-attributionreportingrequestoptions"><code><c- g>AttributionReportingRequestOptions</c-></code></a> {
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a data-type="boolean " href="#dom-attributionreportingrequestoptions-eventsourceeligible"><code><c- g>eventSourceEligible</c-></code></a>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a data-type="boolean " href="#dom-attributionreportingrequestoptions-triggereligible"><code><c- g>triggerEligible</c-></code></a>;
};

<c- b>partial</c-> <c- b>dictionary</c-> <a class="idl-code" data-link-type="dictionary" href="https://fetch.spec.whatwg.org/#requestinit"><c- g>RequestInit</c-></a> {
  <a data-link-type="idl-name" href="#dictdef-attributionreportingrequestoptions"><c- n>AttributionReportingRequestOptions</c-></a> <a data-type="AttributionReportingRequestOptions " href="#dom-requestinit-attributionreporting"><code><c- g>attributionReporting</c-></code></a>;
};

<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://xhr.spec.whatwg.org/#xmlhttprequest"><c- g>XMLHttpRequest</c-></a> {
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>]
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a> <a href="#dom-xmlhttprequest-setattributionreporting"><code><c- g>setAttributionReporting</c-></code></a>(<a data-link-type="idl-name" href="#dictdef-attributionreportingrequestoptions"><c- n>AttributionReportingRequestOptions</c-></a> <a href="#dom-xmlhttprequest-setattributionreporting-options-options"><code><c- g>options</c-></code></a>);
};

</pre>
  <h2 class="no-num no-ref heading settled" id="issues-index"><span class="content">Issues Index</span><a class="self-link" href="#issues-index"></a></h2>
  <div style="counter-reset:issue">
   <div class="issue"> More precisely specify which mutations are relevant for the
attributionsrc attribute. <a class="issue-return" href="#issue-66e452ec" title="Jump to section">↵</a></div>
   <div class="issue"> Use <var>attributionSrcUrls</var> with <a data-link-type="dfn" href="#make-a-background-attributionsrc-request">make a background attributionsrc request</a>. <a class="issue-return" href="#issue-d5f595fc" title="Jump to section">↵</a></div>
   <div class="issue"> Use/propagate <a data-link-type="dfn" href="#navigation-params-navigationsourceeligible">navigationSourceEligible</a> to the <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#navigation-request">navigation request</a>'s <a data-link-type="dfn" href="#request-attribution-reporting-eligibility">Attribution Reporting eligibility</a>. <a class="issue-return" href="#issue-79ce0a88" title="Jump to section">↵</a></div>
   <div class="issue"> Check permissions policy. <a class="issue-return" href="#issue-8fc7b5a1" title="Jump to section">↵</a></div>
   <div class="issue"> Allow "<code><a data-link-type="dfn" href="#eligibility-navigation-source">navigation-source</a></code>" when automatic beacon is specified. <a class="issue-return" href="#issue-4c8f03e3" title="Jump to section">↵</a></div>
   <div class="issue"> Move this section to <a href="https://wicg.github.io/fenced-frame/">Fenced Frame spec</a>. <a class="issue-return" href="#issue-957d18fd" title="Jump to section">↵</a></div>
   <div class="issue"> This would ideally be replaced by a more descriptive algorithm in Infra. See <a href="https://github.com/whatwg/infra/issues/201">infra/201</a> <a class="issue-return" href="#issue-ccb90c6c" title="Jump to section">↵</a></div>
   <div class="issue"> Determine whether to limit <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-length">length</a> or <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-code-point-length">code point length</a> for <var>filter</var> and <var>d</var> above. <a class="issue-return" href="#issue-5c232164" title="Jump to section">↵</a></div>
   <div class="issue"> Ideally this would use the <a href="https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-rfc6265bis#name-retrieval-algorithm">cookie-retrieval algorithm</a>,
but it cannot: There is no way to consider <em>only</em> cookies whose http-only-flag
is true and whose same-site-flag is "<code>None</code>"; there is no way to prevent the
last-access-time from being modified; and the return value is a string that
would have to be further processed to check for the "<code>ar_debug</code>" cookie. <a class="issue-return" href="#issue-6b554b5d" title="Jump to section">↵</a></div>
   <div class="issue"> Audit other properties on <var>request</var> and set them properly. <a class="issue-return" href="#issue-add794c8" title="Jump to section">↵</a></div>
   <div class="issue"> Support header-processing on redirects. Due to <a href="https://fetch.spec.whatwg.org/#atomic-http-redirect-handling">atomic HTTP redirect handling</a>,
we cannot process registrations through integration with <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-fetch">fetch</a>. <a href="https://github.com/WICG/attribution-reporting-api/issues/839">[Issue #839]</a> <a class="issue-return" href="#issue-ff91107a" title="Jump to section">↵</a></div>
   <div class="issue"> Check for transient activation with "<code><a data-link-type="dfn" href="#eligibility-navigation-source">navigation-source</a></code>". <a class="issue-return" href="#issue-528e1624" title="Jump to section">↵</a></div>
   <div class="issue"> Consider allowing the user agent to limit the size of <var>tokens</var>. <a class="issue-return" href="#issue-4cc8b8aa" title="Jump to section">↵</a></div>
   <div class="issue"> Consider rejecting out-of-bounds values instead of silently clamping. <a class="issue-return" href="#issue-df972bd5" title="Jump to section">↵</a></div>
   <div class="issue"> Determine whether to limit <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-length">length</a> or <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-code-point-length">code point length</a> for <var>key</var> above. <a class="issue-return" href="#issue-f31c9d0c" title="Jump to section">↵</a></div>
   <div class="issue"> Determine proper charset-handling for the JSON header value. <a class="issue-return" href="#issue-e6d5a493" title="Jump to section">↵</a></div>
   <div class="issue"> Determine whether to limit <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-length">length</a> or <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-code-point-length">code point length</a> for <var>sourceKey</var> above. <a class="issue-return" href="#issue-a89384b8" title="Jump to section">↵</a></div>
   <div class="issue"> Determine whether to limit <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-length">length</a> or <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-code-point-length">code point length</a> for <var>key</var> above. <a class="issue-return" href="#issue-f31c9d0c①" title="Jump to section">↵</a></div>
   <div class="issue"> Determine proper charset-handling for the JSON header value. <a class="issue-return" href="#issue-e6d5a493①" title="Jump to section">↵</a></div>
   <div class="issue"> Specify this in terms of <a href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigating-across-documents">Navigation</a> <a class="issue-return" href="#issue-28aca340" title="Jump to section">↵</a></div>
   <div class="issue"> Specify this in terms of <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-fetch">fetch</a>. <a class="issue-return" href="#issue-0c097fe9" title="Jump to section">↵</a></div>
   <div class="issue"> This fetch should use a network partition key for an opaque origin. <a href="https://github.com/WICG/attribution-reporting-api/issues/220">[Issue #220]</a> <a class="issue-return" href="#issue-c8706ee1" title="Jump to section">↵</a></div>
   <div class="issue"> This fetch should use a network partition key for an opaque origin. <a href="https://github.com/WICG/attribution-reporting-api/issues/220">[Issue #220]</a> <a class="issue-return" href="#issue-c8706ee1①" title="Jump to section">↵</a></div>
   <div class="issue"> Link to a generating masked tokens algorithm that receives messages. <a class="issue-return" href="#issue-c851da68" title="Jump to section">↵</a></div>
   <div class="issue"> Specify the cryptographic redemption procedure. <a class="issue-return" href="#issue-cca95cd5" title="Jump to section">↵</a></div>
   <div class="issue"> add links to the aggregation service noise addition algorithm. <a class="issue-return" href="#issue-b6dec5fe" title="Jump to section">↵</a></div>
   <div class="issue"> model the channel capacity of a trigger registration. <a class="issue-return" href="#issue-42c97a9a" title="Jump to section">↵</a></div>
   <div class="issue"> fill in this section <a class="issue-return" href="#issue-1f7fff6a" title="Jump to section">↵</a></div>
   <div class="issue"> fill in this section <a class="issue-return" href="#issue-1f7fff6a①" title="Jump to section">↵</a></div>
  </div>
<script>/* Boilerplate: script-dfn-panel */
"use strict";
{
    const dfnsJson = window.dfnsJson || {};

    function genDfnPanel({dfnID, url, dfnText, refSections, external}) {
        return mk.aside({
            class: "dfn-panel",
            id: `infopanel-for-${dfnID}`,
            "data-for": dfnID,
            "aria-labelled-by":`infopaneltitle-for-${dfnID}`,
            },
            mk.span({id:`infopaneltitle-for-${dfnID}`, style:"display:none"},
                `Info about the '${dfnText}' ${external?"external":""} reference.`),
            mk.a({href:url}, url),
            mk.b({}, "Referenced in:"),
            mk.ul({},
                ...refSections.map(section=>
                    mk.li({},
                        ...section.refs.map((ref, refI)=>
                            [
                                mk.a({
                                    href: `#${ref.id}`
                                    },
                                    (refI == 0) ? section.title : `(${refI + 1})`
                                ),
                                " ",
                            ]
                        ),
                    ),
                ),
            ),
        );
    }

    function genAllDfnPanels() {
        for(const panelData of Object.values(window.dfnpanelData)) {
            const dfnID = panelData.dfnID;
            const dfn = document.getElementById(dfnID);
            if(!dfn) {
                console.log(`Can't find dfn#${dfnID}.`, panelData);
            } else {
                const panel = genDfnPanel(panelData);
                append(document.body, panel);
                insertDfnPopupAction(dfn, panel)
            }
        }
    }

    document.addEventListener("DOMContentLoaded", ()=>{
        genAllDfnPanels();

        // Add popup behavior to all dfns to show the corresponding dfn-panel.
        var dfns = queryAll('.dfn-paneled');
        for(let dfn of dfns) { ; }

        document.body.addEventListener("click", (e) => {
            // If not handled already, just hide all dfn panels.
            hideAllDfnPanels();
        });
    })


    function hideAllDfnPanels() {
        // Turn off any currently "on" or "activated" panels.
        queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(el=>hideDfnPanel(el));
    }

    function showDfnPanel(dfnPanel, dfn) {
        hideAllDfnPanels(); // Only display one at this time.
        dfn.setAttribute("aria-expanded", "true");
        dfnPanel.classList.add("on");
        dfnPanel.style.left = "5px";
        dfnPanel.style.top = "0px";
        const panelRect = dfnPanel.getBoundingClientRect();
        const panelWidth = panelRect.right - panelRect.left;
        if (panelRect.right > document.body.scrollWidth) {
            // Panel's overflowing the screen.
            // Just drop it below the dfn and flip it rightward instead.
            // This still wont' fix things if the screen is *really* wide,
            // but fixing that's a lot harder without 'anchor()'.
            dfnPanel.style.top = "1.5em";
            dfnPanel.style.left = "auto";
            dfnPanel.style.right = "0px";
        }
    }

    function pinDfnPanel(dfnPanel) {
        // Switch it to "activated" state, which pins it.
        dfnPanel.classList.add("activated");
        dfnPanel.style.left = null;
        dfnPanel.style.top = null;
    }

    function hideDfnPanel(dfnPanel, dfn) {
        if(!dfn) {
            dfn = document.getElementById(dfnPanel.getAttribute("data-for"));
        }
        dfn.setAttribute("aria-expanded", "false")
        dfnPanel.classList.remove("on");
        dfnPanel.classList.remove("activated");
    }

    function toggleDfnPanel(dfnPanel, dfn) {
        if(dfnPanel.classList.contains("on")) {
            hideDfnPanel(dfnPanel, dfn);
        } else {
            showDfnPanel(dfnPanel, dfn);
        }
    }

    function insertDfnPopupAction(dfn, dfnPanel) {
        // Find dfn panel
        const panelWrapper = document.createElement('span');
        panelWrapper.appendChild(dfnPanel);
        panelWrapper.style.position = "relative";
        panelWrapper.style.height = "0px";
        dfn.insertAdjacentElement("afterend", panelWrapper);
        dfn.setAttribute('role', 'button');
        dfn.setAttribute('aria-expanded', 'false')
        dfn.tabIndex = 0;
        dfn.classList.add('has-dfn-panel');
        dfn.addEventListener('click', (event) => {
            showDfnPanel(dfnPanel, dfn);
            event.stopPropagation();
        });
        dfn.addEventListener('keypress', (event) => {
            const kc = event.keyCode;
            // 32->Space, 13->Enter
            if(kc == 32 || kc == 13) {
                toggleDfnPanel(dfnPanel, dfn);
                event.stopPropagation();
                event.preventDefault();
            }
        });

        dfnPanel.addEventListener('click', (event) => {
            if (event.target.nodeName == 'A') {
                pinDfnPanel(dfnPanel);
            }
            event.stopPropagation();
        });

        dfnPanel.addEventListener('keydown', (event) => {
            if(event.keyCode == 27) { // Escape key
                hideDfnPanel(dfnPanel, dfn);
                event.stopPropagation();
                event.preventDefault();
            }
        })
    }
}
</script>
<script>/* Boilerplate: script-dfn-panel */
"use strict";
{
    const dfnsJson = window.dfnsJson || {};

    function genDfnPanel({dfnID, url, dfnText, refSections, external}) {
        return mk.aside({
            class: "dfn-panel",
            id: `infopanel-for-${dfnID}`,
            "data-for": dfnID,
            "aria-labelled-by":`infopaneltitle-for-${dfnID}`,
            },
            mk.span({id:`infopaneltitle-for-${dfnID}`, style:"display:none"},
                `Info about the '${dfnText}' ${external?"external":""} reference.`),
            mk.a({href:url}, url),
            mk.b({}, "Referenced in:"),
            mk.ul({},
                ...refSections.map(section=>
                    mk.li({},
                        ...section.refs.map((ref, refI)=>
                            [
                                mk.a({
                                    href: `#${ref.id}`
                                    },
                                    (refI == 0) ? section.title : `(${refI + 1})`
                                ),
                                " ",
                            ]
                        ),
                    ),
                ),
            ),
        );
    }

    function genAllDfnPanels() {
        for(const panelData of Object.values(window.dfnpanelData)) {
            const dfnID = panelData.dfnID;
            const dfn = document.getElementById(dfnID);
            if(!dfn) {
                console.log(`Can't find dfn#${dfnID}.`, panelData);
            } else {
                const panel = genDfnPanel(panelData);
                append(document.body, panel);
                insertDfnPopupAction(dfn, panel)
            }
        }
    }

    document.addEventListener("DOMContentLoaded", ()=>{
        genAllDfnPanels();

        // Add popup behavior to all dfns to show the corresponding dfn-panel.
        var dfns = queryAll('.dfn-paneled');
        for(let dfn of dfns) { ; }

        document.body.addEventListener("click", (e) => {
            // If not handled already, just hide all dfn panels.
            hideAllDfnPanels();
        });
    })


    function hideAllDfnPanels() {
        // Turn off any currently "on" or "activated" panels.
        queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(el=>hideDfnPanel(el));
    }

    function showDfnPanel(dfnPanel, dfn) {
        hideAllDfnPanels(); // Only display one at this time.
        dfn.setAttribute("aria-expanded", "true");
        dfnPanel.classList.add("on");
        dfnPanel.style.left = "5px";
        dfnPanel.style.top = "0px";
        const panelRect = dfnPanel.getBoundingClientRect();
        const panelWidth = panelRect.right - panelRect.left;
        if (panelRect.right > document.body.scrollWidth) {
            // Panel's overflowing the screen.
            // Just drop it below the dfn and flip it rightward instead.
            // This still wont' fix things if the screen is *really* wide,
            // but fixing that's a lot harder without 'anchor()'.
            dfnPanel.style.top = "1.5em";
            dfnPanel.style.left = "auto";
            dfnPanel.style.right = "0px";
        }
    }

    function pinDfnPanel(dfnPanel) {
        // Switch it to "activated" state, which pins it.
        dfnPanel.classList.add("activated");
        dfnPanel.style.left = null;
        dfnPanel.style.top = null;
    }

    function hideDfnPanel(dfnPanel, dfn) {
        if(!dfn) {
            dfn = document.getElementById(dfnPanel.getAttribute("data-for"));
        }
        dfn.setAttribute("aria-expanded", "false")
        dfnPanel.classList.remove("on");
        dfnPanel.classList.remove("activated");
    }

    function toggleDfnPanel(dfnPanel, dfn) {
        if(dfnPanel.classList.contains("on")) {
            hideDfnPanel(dfnPanel, dfn);
        } else {
            showDfnPanel(dfnPanel, dfn);
        }
    }

    function insertDfnPopupAction(dfn, dfnPanel) {
        // Find dfn panel
        const panelWrapper = document.createElement('span');
        panelWrapper.appendChild(dfnPanel);
        panelWrapper.style.position = "relative";
        panelWrapper.style.height = "0px";
        dfn.insertAdjacentElement("afterend", panelWrapper);
        dfn.setAttribute('role', 'button');
        dfn.setAttribute('aria-expanded', 'false')
        dfn.tabIndex = 0;
        dfn.classList.add('has-dfn-panel');
        dfn.addEventListener('click', (event) => {
            showDfnPanel(dfnPanel, dfn);
            event.stopPropagation();
        });
        dfn.addEventListener('keypress', (event) => {
            const kc = event.keyCode;
            // 32->Space, 13->Enter
            if(kc == 32 || kc == 13) {
                toggleDfnPanel(dfnPanel, dfn);
                event.stopPropagation();
                event.preventDefault();
            }
        });

        dfnPanel.addEventListener('click', (event) => {
            if (event.target.nodeName == 'A') {
                pinDfnPanel(dfnPanel);
            }
            event.stopPropagation();
        });

        dfnPanel.addEventListener('keydown', (event) => {
            if(event.keyCode == 27) { // Escape key
                hideDfnPanel(dfnPanel, dfn);
                event.stopPropagation();
                event.preventDefault();
            }
        })
    }
}
</script>
<script>/* Boilerplate: script-dfn-panel-json */
window.dfnpanelData = {};
window.dfnpanelData['0143b71b'] = {"dfnID": "0143b71b", "url": "https://w3c.github.io/webappsec-clear-site-data/#abstract-opdef-clear-dom-accessible-storage-for-origin", "dfnText": "clear dom-accessible storage for origin", "refSections": [{"refs": [{"id": "ref-for-abstract-opdef-clear-dom-accessible-storage-for-origin"}], "title": "6. Clear Site Data integration"}], "external": true};
window.dfnpanelData['85394472'] = {"dfnID": "85394472", "url": "https://dom.spec.whatwg.org/#document", "dfnText": "Document", "refSections": [{"refs": [{"id": "ref-for-document"}], "title": "11.12. Making a background attributionsrc request"}], "external": true};
window.dfnpanelData['a973e0fe'] = {"dfnID": "a973e0fe", "url": "https://dom.spec.whatwg.org/#concept-document", "dfnText": "document", "refSections": [{"refs": [{"id": "ref-for-concept-document"}], "title": "3.1. Fetch monkeypatches"}, {"refs": [{"id": "ref-for-concept-document\u2460"}], "title": "3.2. XMLHttpRequest monkeypatches"}, {"refs": [{"id": "ref-for-concept-document\u2461"}], "title": "4. Fenced Frame monkeypatches"}, {"refs": [{"id": "ref-for-concept-document\u2462"}], "title": "13.17. Deferring trigger attribution"}], "external": true};
window.dfnpanelData['5216e1a0'] = {"dfnID": "5216e1a0", "url": "https://dom.spec.whatwg.org/#concept-node-document", "dfnText": "node document", "refSections": [{"refs": [{"id": "ref-for-concept-node-document"}, {"id": "ref-for-concept-node-document\u2460"}], "title": "11.12. Making a background attributionsrc request"}], "external": true};
window.dfnpanelData['2ef14d2e'] = {"dfnID": "2ef14d2e", "url": "https://dom.spec.whatwg.org/#concept-node", "dfnText": "nodes", "refSections": [{"refs": [{"id": "ref-for-concept-node"}], "title": "11.7. Obtaining context origin"}], "external": true};
window.dfnpanelData['a3033be5'] = {"dfnID": "a3033be5", "url": "https://encoding.spec.whatwg.org/#utf-8-decode-without-bom", "dfnText": "utf-8 decode without bom", "refSections": [{"refs": [{"id": "ref-for-utf-8-decode-without-bom"}], "title": "2.2. Window open steps"}], "external": true};
window.dfnpanelData['0303e8e5'] = {"dfnID": "0303e8e5", "url": "https://encoding.spec.whatwg.org/#utf-8-encode", "dfnText": "utf-8 encode", "refSections": [{"refs": [{"id": "ref-for-utf-8-encode"}], "title": "14.4. Obtaining an aggregatable report\u2019s aggregation service payloads"}], "external": true};
window.dfnpanelData['f09e6fca'] = {"dfnID": "f09e6fca", "url": "https://wicg.github.io/fenced-frame/#dom-fenceevent-eventdata", "dfnText": "eventData", "refSections": [{"refs": [{"id": "ref-for-dom-fenceevent-eventdata"}, {"id": "ref-for-dom-fenceevent-eventdata\u2460"}], "title": "4. Fenced Frame monkeypatches"}], "external": true};
window.dfnpanelData['adcea05f'] = {"dfnID": "adcea05f", "url": "https://wicg.github.io/fenced-frame/#dom-fenceevent-eventtype", "dfnText": "eventType", "refSections": [{"refs": [{"id": "ref-for-dom-fenceevent-eventtype"}, {"id": "ref-for-dom-fenceevent-eventtype\u2460"}], "title": "4. Fenced Frame monkeypatches"}], "external": true};
window.dfnpanelData['bde1dd23'] = {"dfnID": "bde1dd23", "url": "https://wicg.github.io/fenced-frame/#pending-event-eventdata", "dfnText": "eventdata", "refSections": [{"refs": [{"id": "ref-for-pending-event-eventdata"}, {"id": "ref-for-pending-event-eventdata\u2460"}], "title": "4. Fenced Frame monkeypatches"}], "external": true};
window.dfnpanelData['b4f454ce'] = {"dfnID": "b4f454ce", "url": "https://wicg.github.io/fenced-frame/#pending-event-eventtype", "dfnText": "eventtype", "refSections": [{"refs": [{"id": "ref-for-pending-event-eventtype"}, {"id": "ref-for-pending-event-eventtype\u2460"}], "title": "4. Fenced Frame monkeypatches"}], "external": true};
window.dfnpanelData['76af9408'] = {"dfnID": "76af9408", "url": "https://wicg.github.io/fenced-frame/#fenced-frame-config-instance-fenced-frame-reporter", "dfnText": "fenced frame reporter", "refSections": [{"refs": [{"id": "ref-for-fenced-frame-config-instance-fenced-frame-reporter"}, {"id": "ref-for-fenced-frame-config-instance-fenced-frame-reporter\u2460"}], "title": "4. Fenced Frame monkeypatches"}], "external": true};
window.dfnpanelData['b80593f9'] = {"dfnID": "b80593f9", "url": "https://wicg.github.io/fenced-frame/#finalize-a-reporting-destination", "dfnText": "finalize a reporting destination", "refSections": [{"refs": [{"id": "ref-for-finalize-a-reporting-destination"}], "title": "4. Fenced Frame monkeypatches"}], "external": true};
window.dfnpanelData['eb34a7a5'] = {"dfnID": "eb34a7a5", "url": "https://wicg.github.io/fenced-frame/#fencedframetype-pending-event", "dfnText": "pending event", "refSections": [{"refs": [{"id": "ref-for-fencedframetype-pending-event"}, {"id": "ref-for-fencedframetype-pending-event\u2460"}], "title": "4. Fenced Frame monkeypatches"}], "external": true};
window.dfnpanelData['51cae5d0'] = {"dfnID": "51cae5d0", "url": "https://wicg.github.io/fenced-frame/#report-an-event", "dfnText": "report an event", "refSections": [{"refs": [{"id": "ref-for-report-an-event"}, {"id": "ref-for-report-an-event\u2460"}, {"id": "ref-for-report-an-event\u2461"}], "title": "4. Fenced Frame monkeypatches"}], "external": true};
window.dfnpanelData['a49a20d4'] = {"dfnID": "a49a20d4", "url": "https://wicg.github.io/fenced-frame/#dom-fence-reportevent", "dfnText": "reportEvent(event)", "refSections": [{"refs": [{"id": "ref-for-dom-fence-reportevent"}], "title": "4. Fenced Frame monkeypatches"}], "external": true};
window.dfnpanelData['a62378ab'] = {"dfnID": "a62378ab", "url": "https://wicg.github.io/fenced-frame/#send-a-beacon", "dfnText": "send a beacon", "refSections": [{"refs": [{"id": "ref-for-send-a-beacon"}, {"id": "ref-for-send-a-beacon\u2460"}, {"id": "ref-for-send-a-beacon\u2461"}, {"id": "ref-for-send-a-beacon\u2462"}, {"id": "ref-for-send-a-beacon\u2463"}], "title": "4. Fenced Frame monkeypatches"}], "external": true};
window.dfnpanelData['c409d816'] = {"dfnID": "c409d816", "url": "https://wicg.github.io/fenced-frame/#navigable-unfenced-container-document", "dfnText": "unfenced container document", "refSections": [{"refs": [{"id": "ref-for-navigable-unfenced-container-document"}], "title": "11.7. Obtaining context origin"}], "external": true};
window.dfnpanelData['0dcd4ad9'] = {"dfnID": "0dcd4ad9", "url": "https://fetch.spec.whatwg.org/#requestinit", "dfnText": "RequestInit", "refSections": [{"refs": [{"id": "ref-for-requestinit"}], "title": "3. Network monkeypatches"}], "external": true};
window.dfnpanelData['a6a8ec88'] = {"dfnID": "a6a8ec88", "url": "https://fetch.spec.whatwg.org/#concept-header-list-append", "dfnText": "append", "refSections": [{"refs": [{"id": "ref-for-concept-header-list-append"}], "title": "14.8. Creating a report request"}, {"refs": [{"id": "ref-for-concept-header-list-append\u2460"}], "title": "14.9. Get report request headers"}], "external": true};
window.dfnpanelData['644cb530'] = {"dfnID": "644cb530", "url": "https://fetch.spec.whatwg.org/#concept-body", "dfnText": "body", "refSections": [{"refs": [{"id": "ref-for-concept-body"}], "title": "14.8. Creating a report request"}], "external": true};
window.dfnpanelData['8e9945a0'] = {"dfnID": "8e9945a0", "url": "https://fetch.spec.whatwg.org/#concept-request-body", "dfnText": "body (for request)", "refSections": [{"refs": [{"id": "ref-for-concept-request-body"}], "title": "14.8. Creating a report request"}], "external": true};
window.dfnpanelData['688f9669'] = {"dfnID": "688f9669", "url": "https://fetch.spec.whatwg.org/#concept-request-cache-mode", "dfnText": "cache mode", "refSections": [{"refs": [{"id": "ref-for-concept-request-cache-mode"}], "title": "14.8. Creating a report request"}], "external": true};
window.dfnpanelData['857d5516'] = {"dfnID": "857d5516", "url": "https://fetch.spec.whatwg.org/#concept-request-client", "dfnText": "client", "refSections": [{"refs": [{"id": "ref-for-concept-request-client"}], "title": "14.8. Creating a report request"}], "external": true};
window.dfnpanelData['2f2a44c6'] = {"dfnID": "2f2a44c6", "url": "https://fetch.spec.whatwg.org/#dom-request", "dfnText": "constructor(input, init)", "refSections": [{"refs": [{"id": "ref-for-dom-request"}], "title": "3.1. Fetch monkeypatches"}], "external": true};
window.dfnpanelData['902380f7'] = {"dfnID": "902380f7", "url": "https://fetch.spec.whatwg.org/#concept-request-credentials-mode", "dfnText": "credentials mode", "refSections": [{"refs": [{"id": "ref-for-concept-request-credentials-mode"}], "title": "14.8. Creating a report request"}], "external": true};
window.dfnpanelData['ee95ecc7'] = {"dfnID": "ee95ecc7", "url": "https://fetch.spec.whatwg.org/#concept-header-list-delete", "dfnText": "delete", "refSections": [{"refs": [{"id": "ref-for-concept-header-list-delete"}, {"id": "ref-for-concept-header-list-delete\u2460"}], "title": "3. Network monkeypatches"}, {"refs": [{"id": "ref-for-concept-header-list-delete\u2461"}], "title": "16.2. Handle trigger verification"}], "external": true};
window.dfnpanelData['a33db89a'] = {"dfnID": "a33db89a", "url": "https://fetch.spec.whatwg.org/#concept-fetch", "dfnText": "fetch", "refSections": [{"refs": [{"id": "ref-for-concept-fetch"}], "title": "3.1. Fetch monkeypatches"}, {"refs": [{"id": "ref-for-concept-fetch\u2460"}, {"id": "ref-for-concept-fetch\u2461"}], "title": "4. Fenced Frame monkeypatches"}, {"refs": [{"id": "ref-for-concept-fetch\u2462"}, {"id": "ref-for-concept-fetch\u2463"}], "title": "11.12. Making a background attributionsrc request"}, {"refs": [{"id": "ref-for-concept-fetch\u2464"}], "title": "14.4. Obtaining an aggregatable report\u2019s aggregation service payloads"}, {"refs": [{"id": "ref-for-concept-fetch\u2465"}], "title": "14.10. Issuing a report request"}, {"refs": [{"id": "ref-for-concept-fetch\u2466"}], "title": "14.11. Issuing a debug report request"}, {"refs": [{"id": "ref-for-concept-fetch\u2467"}], "title": "14.12. Issuing a verbose debug request"}, {"refs": [{"id": "ref-for-concept-fetch\u2468"}], "title": "18.2. Opting in to the API"}], "external": true};
window.dfnpanelData['d47d0690'] = {"dfnID": "d47d0690", "url": "https://fetch.spec.whatwg.org/#concept-header-list-get", "dfnText": "get", "refSections": [{"refs": [{"id": "ref-for-concept-header-list-get"}, {"id": "ref-for-concept-header-list-get\u2460"}], "title": "11.12. Making a background attributionsrc request"}], "external": true};
window.dfnpanelData['5c66de35'] = {"dfnID": "5c66de35", "url": "https://fetch.spec.whatwg.org/#concept-header-list-get-structured-header", "dfnText": "get a structured field value", "refSections": [{"refs": [{"id": "ref-for-concept-header-list-get-structured-header"}], "title": "15. Cross App and Web Algorithms"}, {"refs": [{"id": "ref-for-concept-header-list-get-structured-header\u2460"}], "title": "16.2. Handle trigger verification"}], "external": true};
window.dfnpanelData['c9e7c11a'] = {"dfnID": "c9e7c11a", "url": "https://fetch.spec.whatwg.org/#concept-header", "dfnText": "header", "refSections": [{"refs": [{"id": "ref-for-concept-header"}], "title": "14.8. Creating a report request"}, {"refs": [{"id": "ref-for-concept-header\u2460"}], "title": "14.9. Get report request headers"}], "external": true};
window.dfnpanelData['d85a6c84'] = {"dfnID": "d85a6c84", "url": "https://fetch.spec.whatwg.org/#concept-header-list", "dfnText": "header list", "refSections": [{"refs": [{"id": "ref-for-concept-header-list"}, {"id": "ref-for-concept-header-list\u2460"}], "title": "14.8. Creating a report request"}, {"refs": [{"id": "ref-for-concept-header-list\u2461"}], "title": "14.9. Get report request headers"}, {"refs": [{"id": "ref-for-concept-header-list\u2462"}, {"id": "ref-for-concept-header-list\u2463"}], "title": "15. Cross App and Web Algorithms"}, {"refs": [{"id": "ref-for-concept-header-list\u2464"}], "title": "16.2. Handle trigger verification"}], "external": true};
window.dfnpanelData['6ee0eab1'] = {"dfnID": "6ee0eab1", "url": "https://fetch.spec.whatwg.org/#concept-request-header-list", "dfnText": "header list (for request)", "refSections": [{"refs": [{"id": "ref-for-concept-request-header-list"}], "title": "3. Network monkeypatches"}, {"refs": [{"id": "ref-for-concept-request-header-list\u2460"}], "title": "3.1. Fetch monkeypatches"}, {"refs": [{"id": "ref-for-concept-request-header-list\u2461"}], "title": "14.8. Creating a report request"}, {"refs": [{"id": "ref-for-concept-request-header-list\u2462"}, {"id": "ref-for-concept-request-header-list\u2463"}], "title": "16.1. Initiate trigger verification"}], "external": true};
window.dfnpanelData['f7b00a8b'] = {"dfnID": "f7b00a8b", "url": "https://fetch.spec.whatwg.org/#concept-response-header-list", "dfnText": "header list (for response)", "refSections": [{"refs": [{"id": "ref-for-concept-response-header-list"}, {"id": "ref-for-concept-response-header-list\u2460"}, {"id": "ref-for-concept-response-header-list\u2461"}, {"id": "ref-for-concept-response-header-list\u2462"}, {"id": "ref-for-concept-response-header-list\u2463"}], "title": "11.12. Making a background attributionsrc request"}, {"refs": [{"id": "ref-for-concept-response-header-list\u2464"}, {"id": "ref-for-concept-response-header-list\u2465"}], "title": "16.2. Handle trigger verification"}], "external": true};
window.dfnpanelData['1534f1eb'] = {"dfnID": "1534f1eb", "url": "https://fetch.spec.whatwg.org/#header-name", "dfnText": "header name", "refSections": [{"refs": [{"id": "ref-for-header-name"}], "title": "15. Cross App and Web Algorithms"}], "external": true};
window.dfnpanelData['fa4ea124'] = {"dfnID": "fa4ea124", "url": "https://fetch.spec.whatwg.org/#concept-request-initiator", "dfnText": "initiator", "refSections": [{"refs": [{"id": "ref-for-concept-request-initiator"}], "title": "14.8. Creating a report request"}], "external": true};
window.dfnpanelData['8394d1b7'] = {"dfnID": "8394d1b7", "url": "https://fetch.spec.whatwg.org/#request-keepalive-flag", "dfnText": "keepalive", "refSections": [{"refs": [{"id": "ref-for-request-keepalive-flag"}], "title": "11.12. Making a background attributionsrc request"}], "external": true};
window.dfnpanelData['50b05fad'] = {"dfnID": "50b05fad", "url": "https://fetch.spec.whatwg.org/#concept-request-method", "dfnText": "method", "refSections": [{"refs": [{"id": "ref-for-concept-request-method"}], "title": "11.12. Making a background attributionsrc request"}, {"refs": [{"id": "ref-for-concept-request-method\u2460"}], "title": "14.8. Creating a report request"}], "external": true};
window.dfnpanelData['cb98f71f'] = {"dfnID": "cb98f71f", "url": "https://fetch.spec.whatwg.org/#concept-request-mode", "dfnText": "mode", "refSections": [{"refs": [{"id": "ref-for-concept-request-mode"}], "title": "14.8. Creating a report request"}], "external": true};
window.dfnpanelData['2889d1ec'] = {"dfnID": "2889d1ec", "url": "https://fetch.spec.whatwg.org/#navigation-request", "dfnText": "navigation request", "refSections": [{"refs": [{"id": "ref-for-navigation-request"}], "title": "2.3. Navigation monkeypatches"}], "external": true};
window.dfnpanelData['f78d5b5c'] = {"dfnID": "f78d5b5c", "url": "https://fetch.spec.whatwg.org/#concept-request-origin", "dfnText": "origin", "refSections": [{"refs": [{"id": "ref-for-concept-request-origin"}], "title": "14.8. Creating a report request"}], "external": true};
window.dfnpanelData['d83f8790'] = {"dfnID": "d83f8790", "url": "https://fetch.spec.whatwg.org/#request-priority", "dfnText": "priority", "refSections": [{"refs": [{"id": "ref-for-request-priority"}], "title": "2.1. API for elements"}], "external": true};
window.dfnpanelData['bd2fe71e'] = {"dfnID": "bd2fe71e", "url": "https://fetch.spec.whatwg.org/#process-response", "dfnText": "processresponse", "refSections": [{"refs": [{"id": "ref-for-process-response"}], "title": "4. Fenced Frame monkeypatches"}, {"refs": [{"id": "ref-for-process-response\u2460"}], "title": "11.12. Making a background attributionsrc request"}, {"refs": [{"id": "ref-for-process-response\u2461"}], "title": "14.10. Issuing a report request"}], "external": true};
window.dfnpanelData['358f1dbd'] = {"dfnID": "358f1dbd", "url": "https://fetch.spec.whatwg.org/#concept-request-referrer", "dfnText": "referrer", "refSections": [{"refs": [{"id": "ref-for-concept-request-referrer"}], "title": "14.8. Creating a report request"}], "external": true};
window.dfnpanelData['55213b5b'] = {"dfnID": "55213b5b", "url": "https://fetch.spec.whatwg.org/#concept-request", "dfnText": "request", "refSections": [{"refs": [{"id": "ref-for-concept-request"}, {"id": "ref-for-concept-request\u2460"}, {"id": "ref-for-concept-request\u2461"}, {"id": "ref-for-concept-request\u2462"}], "title": "3. Network monkeypatches"}, {"refs": [{"id": "ref-for-concept-request\u2463"}], "title": "3.1. Fetch monkeypatches"}, {"refs": [{"id": "ref-for-concept-request\u2464"}], "title": "3.2. XMLHttpRequest monkeypatches"}, {"refs": [{"id": "ref-for-concept-request\u2465"}], "title": "4. Fenced Frame monkeypatches"}, {"refs": [{"id": "ref-for-concept-request\u2466"}], "title": "11.12. Making a background attributionsrc request"}, {"refs": [{"id": "ref-for-concept-request\u2467"}], "title": "14.8. Creating a report request"}, {"refs": [{"id": "ref-for-concept-request\u2468"}], "title": "14.10. Issuing a report request"}, {"refs": [{"id": "ref-for-concept-request\u2460\u24ea"}], "title": "15. Cross App and Web Algorithms"}, {"refs": [{"id": "ref-for-concept-request\u2460\u2460"}], "title": "16.1. Initiate trigger verification"}], "external": true};
window.dfnpanelData['ee7bba09'] = {"dfnID": "ee7bba09", "url": "https://fetch.spec.whatwg.org/#concept-response", "dfnText": "response", "refSections": [{"refs": [{"id": "ref-for-concept-response"}], "title": "3. Network monkeypatches"}, {"refs": [{"id": "ref-for-concept-response\u2460"}], "title": "4. Fenced Frame monkeypatches"}, {"refs": [{"id": "ref-for-concept-response\u2461"}, {"id": "ref-for-concept-response\u2462"}], "title": "11.12. Making a background attributionsrc request"}, {"refs": [{"id": "ref-for-concept-response\u2463"}], "title": "15. Cross App and Web Algorithms"}], "external": true};
window.dfnpanelData['6d1db60d'] = {"dfnID": "6d1db60d", "url": "https://fetch.spec.whatwg.org/#request-service-workers-mode", "dfnText": "service-workers mode", "refSections": [{"refs": [{"id": "ref-for-request-service-workers-mode"}], "title": "14.8. Creating a report request"}], "external": true};
window.dfnpanelData['35b98f13'] = {"dfnID": "35b98f13", "url": "https://fetch.spec.whatwg.org/#concept-header-list-set-structured-header", "dfnText": "set a structured field value", "refSections": [{"refs": [{"id": "ref-for-concept-header-list-set-structured-header"}], "title": "3. Network monkeypatches"}, {"refs": [{"id": "ref-for-concept-header-list-set-structured-header\u2460"}], "title": "15. Cross App and Web Algorithms"}, {"refs": [{"id": "ref-for-concept-header-list-set-structured-header\u2461"}, {"id": "ref-for-concept-header-list-set-structured-header\u2462"}], "title": "16.1. Initiate trigger verification"}], "external": true};
window.dfnpanelData['449b55f1'] = {"dfnID": "449b55f1", "url": "https://fetch.spec.whatwg.org/#concept-body-source", "dfnText": "source", "refSections": [{"refs": [{"id": "ref-for-concept-body-source"}], "title": "14.8. Creating a report request"}], "external": true};
window.dfnpanelData['6f7f62df'] = {"dfnID": "6f7f62df", "url": "https://fetch.spec.whatwg.org/#unsafe-request-flag", "dfnText": "unsafe-request flag", "refSections": [{"refs": [{"id": "ref-for-unsafe-request-flag"}], "title": "14.8. Creating a report request"}], "external": true};
window.dfnpanelData['dc1cd39b'] = {"dfnID": "dc1cd39b", "url": "https://fetch.spec.whatwg.org/#concept-request-url", "dfnText": "url (for request)", "refSections": [{"refs": [{"id": "ref-for-concept-request-url"}], "title": "11.12. Making a background attributionsrc request"}, {"refs": [{"id": "ref-for-concept-request-url\u2460"}], "title": "14.8. Creating a report request"}, {"refs": [{"id": "ref-for-concept-request-url\u2461"}], "title": "16.1. Initiate trigger verification"}], "external": true};
window.dfnpanelData['3268a8eb'] = {"dfnID": "3268a8eb", "url": "https://fetch.spec.whatwg.org/#concept-response-url", "dfnText": "url (for response)", "refSections": [{"refs": [{"id": "ref-for-concept-response-url"}, {"id": "ref-for-concept-response-url\u2460"}], "title": "11.12. Making a background attributionsrc request"}], "external": true};
window.dfnpanelData['2c8ec3a8'] = {"dfnID": "2c8ec3a8", "url": "https://fetch.spec.whatwg.org/#fetch-useparallelqueue", "dfnText": "useparallelqueue", "refSections": [{"refs": [{"id": "ref-for-fetch-useparallelqueue"}], "title": "4. Fenced Frame monkeypatches"}], "external": true};
window.dfnpanelData['1ab127d6'] = {"dfnID": "1ab127d6", "url": "https://fetch.spec.whatwg.org/#concept-request-window", "dfnText": "window", "refSections": [{"refs": [{"id": "ref-for-concept-request-window"}], "title": "14.8. Creating a report request"}], "external": true};
window.dfnpanelData['a09bfce2'] = {"dfnID": "a09bfce2", "url": "https://w3c.github.io/hr-time/#dfn-current-wall-time", "dfnText": "current wall time", "refSections": [{"refs": [{"id": "ref-for-dfn-current-wall-time"}, {"id": "ref-for-dfn-current-wall-time\u2460"}, {"id": "ref-for-dfn-current-wall-time\u2461"}], "title": "11.12. Making a background attributionsrc request"}, {"refs": [{"id": "ref-for-dfn-current-wall-time\u2462"}, {"id": "ref-for-dfn-current-wall-time\u2463"}], "title": "14. Report delivery"}], "external": true};
window.dfnpanelData['4b2c8c72'] = {"dfnID": "4b2c8c72", "url": "https://w3c.github.io/hr-time/#dfn-duration", "dfnText": "duration", "refSections": [{"refs": [{"id": "ref-for-dfn-duration"}], "title": "7.4. Attribution filtering"}, {"refs": [{"id": "ref-for-dfn-duration\u2460"}], "title": "7.8. Attribution source"}, {"refs": [{"id": "ref-for-dfn-duration\u2461"}, {"id": "ref-for-dfn-duration\u2462"}, {"id": "ref-for-dfn-duration\u2463"}], "title": "9. Constants"}, {"refs": [{"id": "ref-for-dfn-duration\u2464"}, {"id": "ref-for-dfn-duration\u2465"}, {"id": "ref-for-dfn-duration\u2466"}], "title": "10. Vendor-Specific Values"}, {"refs": [{"id": "ref-for-dfn-duration\u2467"}], "title": "11.4. Parsing filter data"}, {"refs": [{"id": "ref-for-dfn-duration\u2468"}, {"id": "ref-for-dfn-duration\u2460\u24ea"}, {"id": "ref-for-dfn-duration\u2460\u2460"}], "title": "12.3. Parsing source-registration JSON"}, {"refs": [{"id": "ref-for-dfn-duration\u2460\u2461"}, {"id": "ref-for-dfn-duration\u2460\u2462"}], "title": "14. Report delivery"}], "external": true};
window.dfnpanelData['c9a0df83'] = {"dfnID": "c9a0df83", "url": "https://w3c.github.io/hr-time/#dfn-duration-from", "dfnText": "duration from", "refSections": [{"refs": [{"id": "ref-for-dfn-duration-from"}], "title": "9. Constants"}, {"refs": [{"id": "ref-for-dfn-duration-from\u2460"}], "title": "11.10. Can attribution rate-limit record be removed"}, {"refs": [{"id": "ref-for-dfn-duration-from\u2461"}], "title": "12.3. Parsing source-registration JSON"}, {"refs": [{"id": "ref-for-dfn-duration-from\u2462"}], "title": "12.4. Processing an attribution source"}, {"refs": [{"id": "ref-for-dfn-duration-from\u2463"}], "title": "13.2. Does filter data match"}, {"refs": [{"id": "ref-for-dfn-duration-from\u2464"}, {"id": "ref-for-dfn-duration-from\u2465"}], "title": "13.4. Should processing be blocked by reporting-origin limit"}], "external": true};
window.dfnpanelData['1e2edd5b'] = {"dfnID": "1e2edd5b", "url": "https://w3c.github.io/hr-time/#dfn-moment", "dfnText": "moment", "refSections": [{"refs": [{"id": "ref-for-dfn-moment"}, {"id": "ref-for-dfn-moment\u2460"}], "title": "7.7. Report window"}, {"refs": [{"id": "ref-for-dfn-moment\u2461"}], "title": "7.8. Attribution source"}, {"refs": [{"id": "ref-for-dfn-moment\u2462"}], "title": "7.14. Attribution trigger"}, {"refs": [{"id": "ref-for-dfn-moment\u2463"}, {"id": "ref-for-dfn-moment\u2464"}], "title": "7.15. Attribution report"}, {"refs": [{"id": "ref-for-dfn-moment\u2465"}], "title": "7.16. Event-level report"}, {"refs": [{"id": "ref-for-dfn-moment\u2466"}], "title": "7.18. Aggregatable report"}, {"refs": [{"id": "ref-for-dfn-moment\u2467"}, {"id": "ref-for-dfn-moment\u2468"}], "title": "7.19. Attribution rate-limits"}, {"refs": [{"id": "ref-for-dfn-moment\u2460\u24ea"}], "title": "11.10. Can attribution rate-limit record be removed"}, {"refs": [{"id": "ref-for-dfn-moment\u2460\u2460"}, {"id": "ref-for-dfn-moment\u2460\u2461"}, {"id": "ref-for-dfn-moment\u2460\u2462"}], "title": "12.3. Parsing source-registration JSON"}, {"refs": [{"id": "ref-for-dfn-moment\u2460\u2463"}], "title": "13.1. Creating an attribution trigger"}, {"refs": [{"id": "ref-for-dfn-moment\u2460\u2464"}, {"id": "ref-for-dfn-moment\u2460\u2465"}, {"id": "ref-for-dfn-moment\u2460\u2466"}], "title": "13.2. Does filter data match"}, {"refs": [{"id": "ref-for-dfn-moment\u2460\u2467"}, {"id": "ref-for-dfn-moment\u2460\u2468"}, {"id": "ref-for-dfn-moment\u2461\u24ea"}, {"id": "ref-for-dfn-moment\u2461\u2460"}, {"id": "ref-for-dfn-moment\u2461\u2461"}], "title": "13.12. Establishing report delivery time"}, {"refs": [{"id": "ref-for-dfn-moment\u2461\u2462"}, {"id": "ref-for-dfn-moment\u2461\u2463"}], "title": "13.16. Generating randomized null reports"}], "external": true};
window.dfnpanelData['402ed79d'] = {"dfnID": "402ed79d", "url": "https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions", "dfnText": "CEReactions", "refSections": [{"refs": [{"id": "ref-for-cereactions"}], "title": "2.1. API for elements"}], "external": true};
window.dfnpanelData['041f209a'] = {"dfnID": "041f209a", "url": "https://html.spec.whatwg.org/multipage/text-level-semantics.html#htmlanchorelement", "dfnText": "HTMLAnchorElement", "refSections": [{"refs": [{"id": "ref-for-htmlanchorelement"}], "title": "2.1. API for elements"}], "external": true};
window.dfnpanelData['c5891539'] = {"dfnID": "c5891539", "url": "https://html.spec.whatwg.org/multipage/embedded-content.html#htmlimageelement", "dfnText": "HTMLImageElement", "refSections": [{"refs": [{"id": "ref-for-htmlimageelement"}], "title": "2.1. API for elements"}], "external": true};
window.dfnpanelData['ec4838d8'] = {"dfnID": "ec4838d8", "url": "https://html.spec.whatwg.org/multipage/scripting.html#htmlscriptelement", "dfnText": "HTMLScriptElement", "refSections": [{"refs": [{"id": "ref-for-htmlscriptelement"}], "title": "2.1. API for elements"}], "external": true};
window.dfnpanelData['68bf3d31'] = {"dfnID": "68bf3d31", "url": "https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-a-element", "dfnText": "a", "refSections": [{"refs": [{"id": "ref-for-the-a-element"}, {"id": "ref-for-the-a-element\u2460"}], "title": "2.1. API for elements"}], "external": true};
window.dfnpanelData['3610bd67'] = {"dfnID": "3610bd67", "url": "https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use", "dfnText": "allowed to use", "refSections": [{"refs": [{"id": "ref-for-allowed-to-use"}], "title": "4. Fenced Frame monkeypatches"}, {"refs": [{"id": "ref-for-allowed-to-use\u2460"}], "title": "11.12. Making a background attributionsrc request"}], "external": true};
window.dfnpanelData['3349d69f'] = {"dfnID": "3349d69f", "url": "https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window", "dfnText": "associated document", "refSections": [{"refs": [{"id": "ref-for-concept-document-window"}], "title": "4. Fenced Frame monkeypatches"}], "external": true};
window.dfnpanelData['68675e70'] = {"dfnID": "68675e70", "url": "https://html.spec.whatwg.org/multipage/dom.html#concept-element-attributes", "dfnText": "content attributes", "refSections": [{"refs": [{"id": "ref-for-concept-element-attributes"}], "title": "2.1. API for elements"}], "external": true};
window.dfnpanelData['d9aeb25e'] = {"dfnID": "d9aeb25e", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#entry-settings-object", "dfnText": "entry settings object", "refSections": [{"refs": [{"id": "ref-for-entry-settings-object"}], "title": "2.2. Window open steps"}], "external": true};
window.dfnpanelData['3e12e042'] = {"dfnID": "3e12e042", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object", "dfnText": "environment settings object", "refSections": [{"refs": [{"id": "ref-for-environment-settings-object"}], "title": "8. Storage"}], "external": true};
window.dfnpanelData['87298d74'] = {"dfnID": "87298d74", "url": "https://html.spec.whatwg.org/multipage/nav-history-apis.html#feature-separator", "dfnText": "feature separator", "refSections": [{"refs": [{"id": "ref-for-feature-separator"}, {"id": "ref-for-feature-separator\u2460"}], "title": "2.2. Window open steps"}], "external": true};
window.dfnpanelData['87f27c71'] = {"dfnID": "87f27c71", "url": "https://html.spec.whatwg.org/multipage/scripting.html#attr-script-fetchpriority", "dfnText": "fetchpriority", "refSections": [{"refs": [{"id": "ref-for-attr-script-fetchpriority"}], "title": "2.1. API for elements"}], "external": true};
window.dfnpanelData['f0246dc8'] = {"dfnID": "f0246dc8", "url": "https://html.spec.whatwg.org/multipage/links.html#following-hyperlinks-2", "dfnText": "follow the hyperlink", "refSections": [{"refs": [{"id": "ref-for-following-hyperlinks-2"}], "title": "2.1. API for elements"}], "external": true};
window.dfnpanelData['77a2ee6e'] = {"dfnID": "77a2ee6e", "url": "https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-host", "dfnText": "host", "refSections": [{"refs": [{"id": "ref-for-concept-origin-host"}], "title": "11.6. Cookie-based debugging"}, {"refs": [{"id": "ref-for-concept-origin-host\u2460"}], "title": "14.4. Obtaining an aggregatable report\u2019s aggregation service payloads"}, {"refs": [{"id": "ref-for-concept-origin-host\u2461"}], "title": "14.7. Get report request URL"}], "external": true};
window.dfnpanelData['f0811ff8'] = {"dfnID": "f0811ff8", "url": "https://html.spec.whatwg.org/multipage/embedded-content.html#the-img-element", "dfnText": "img", "refSections": [{"refs": [{"id": "ref-for-the-img-element"}, {"id": "ref-for-the-img-element\u2460"}], "title": "2.1. API for elements"}], "external": true};
window.dfnpanelData['a72449dd'] = {"dfnID": "a72449dd", "url": "https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel", "dfnText": "in parallel", "refSections": [{"refs": [{"id": "ref-for-in-parallel"}], "title": "13.17. Deferring trigger attribution"}, {"refs": [{"id": "ref-for-in-parallel\u2460"}], "title": "14. Report delivery"}], "external": true};
window.dfnpanelData['2594e562'] = {"dfnID": "2594e562", "url": "https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigate", "dfnText": "navigate", "refSections": [{"refs": [{"id": "ref-for-navigate"}], "title": "2.1. API for elements"}, {"refs": [{"id": "ref-for-navigate\u2460"}], "title": "2.2. Window open steps"}, {"refs": [{"id": "ref-for-navigate\u2461"}], "title": "2.3. Navigation monkeypatches"}], "external": true};
window.dfnpanelData['4437edc6'] = {"dfnID": "4437edc6", "url": "https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params", "dfnText": "navigation params", "refSections": [{"refs": [{"id": "ref-for-navigation-params"}, {"id": "ref-for-navigation-params\u2460"}], "title": "2.3. Navigation monkeypatches"}], "external": true};
window.dfnpanelData['13dd6cae'] = {"dfnID": "13dd6cae", "url": "https://html.spec.whatwg.org/multipage/document-sequences.html#node-navigable", "dfnText": "node navigable", "refSections": [{"refs": [{"id": "ref-for-node-navigable"}], "title": "11.7. Obtaining context origin"}], "external": true};
window.dfnpanelData['602b1a68'] = {"dfnID": "602b1a68", "url": "https://html.spec.whatwg.org/multipage/browsers.html#obtain-a-site", "dfnText": "obtain a site", "refSections": [{"refs": [{"id": "ref-for-obtain-a-site"}], "title": "7.8. Attribution source"}, {"refs": [{"id": "ref-for-obtain-a-site\u2460"}], "title": "11.12. Making a background attributionsrc request"}, {"refs": [{"id": "ref-for-obtain-a-site\u2461"}], "title": "12.3. Parsing source-registration JSON"}, {"refs": [{"id": "ref-for-obtain-a-site\u2462"}], "title": "16.2. Handle trigger verification"}], "external": true};
window.dfnpanelData['b01b1359'] = {"dfnID": "b01b1359", "url": "https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-opaque", "dfnText": "opaque origin", "refSections": [{"refs": [{"id": "ref-for-concept-origin-opaque"}], "title": "11.3. Serialize attribution destinations"}, {"refs": [{"id": "ref-for-concept-origin-opaque\u2460"}], "title": "14.5. Serialize attribution report body"}], "external": true};
window.dfnpanelData['086e3aff'] = {"dfnID": "086e3aff", "url": "https://html.spec.whatwg.org/multipage/browsers.html#concept-origin", "dfnText": "origin", "refSections": [{"refs": [{"id": "ref-for-concept-origin"}], "title": "3. Network monkeypatches"}, {"refs": [{"id": "ref-for-concept-origin\u2460"}, {"id": "ref-for-concept-origin\u2461"}], "title": "4. Fenced Frame monkeypatches"}, {"refs": [{"id": "ref-for-concept-origin\u2462"}], "title": "6. Clear Site Data integration"}, {"refs": [{"id": "ref-for-concept-origin\u2463"}], "title": "7.5. Suitable origin"}, {"refs": [{"id": "ref-for-concept-origin\u2464"}], "title": "11.3. Serialize attribution destinations"}, {"refs": [{"id": "ref-for-concept-origin\u2465"}], "title": "11.7. Obtaining context origin"}, {"refs": [{"id": "ref-for-concept-origin\u2466"}], "title": "11.12. Making a background attributionsrc request"}, {"refs": [{"id": "ref-for-concept-origin\u2467"}], "title": "16.2. Handle trigger verification"}, {"refs": [{"id": "ref-for-concept-origin\u2468"}, {"id": "ref-for-concept-origin\u2460\u24ea"}, {"id": "ref-for-concept-origin\u2460\u2460"}, {"id": "ref-for-concept-origin\u2460\u2461"}, {"id": "ref-for-concept-origin\u2460\u2462"}, {"id": "ref-for-concept-origin\u2460\u2463"}], "title": "18.1. Same-Origin Policy"}], "external": true};
window.dfnpanelData['55a8e1b3'] = {"dfnID": "55a8e1b3", "url": "https://html.spec.whatwg.org/multipage/urls-and-fetching.html#parse-a-url", "dfnText": "parse a url", "refSections": [{"refs": [{"id": "ref-for-parse-a-url"}], "title": "2.2. Window open steps"}, {"refs": [{"id": "ref-for-parse-a-url\u2460"}], "title": "11.12. Making a background attributionsrc request"}], "external": true};
window.dfnpanelData['98e31e77'] = {"dfnID": "98e31e77", "url": "https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-port", "dfnText": "port", "refSections": [{"refs": [{"id": "ref-for-concept-origin-port"}], "title": "14.4. Obtaining an aggregatable report\u2019s aggregation service payloads"}, {"refs": [{"id": "ref-for-concept-origin-port\u2460"}], "title": "14.7. Get report request URL"}], "external": true};
window.dfnpanelData['037b46da'] = {"dfnID": "037b46da", "url": "https://html.spec.whatwg.org/multipage/scripting.html#prepare-the-script-element", "dfnText": "prepare the script element", "refSections": [{"refs": [{"id": "ref-for-prepare-the-script-element"}], "title": "2.1. API for elements"}], "external": true};
window.dfnpanelData['9a517a7d'] = {"dfnID": "9a517a7d", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task", "dfnText": "queue a task", "refSections": [{"refs": [{"id": "ref-for-queue-a-task"}], "title": "11.11. Obtaining and delivering an attribution debug report"}, {"refs": [{"id": "ref-for-queue-a-task\u2460"}], "title": "13.9. Triggering event-level attribution"}, {"refs": [{"id": "ref-for-queue-a-task\u2461"}], "title": "13.10. Triggering aggregatable attribution"}, {"refs": [{"id": "ref-for-queue-a-task\u2462"}, {"id": "ref-for-queue-a-task\u2463"}, {"id": "ref-for-queue-a-task\u2464"}], "title": "14.10. Issuing a report request"}], "external": true};
window.dfnpanelData['5ab7b520'] = {"dfnID": "5ab7b520", "url": "https://html.spec.whatwg.org/multipage/common-dom-interfaces.html#reflect", "dfnText": "reflect", "refSections": [{"refs": [{"id": "ref-for-reflect"}], "title": "2.1. API for elements"}], "external": true};
window.dfnpanelData['e99bd18e'] = {"dfnID": "e99bd18e", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global", "dfnText": "relevant global object", "refSections": [{"refs": [{"id": "ref-for-concept-relevant-global"}], "title": "4. Fenced Frame monkeypatches"}], "external": true};
window.dfnpanelData['9c4c1e66'] = {"dfnID": "9c4c1e66", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object", "dfnText": "relevant settings object", "refSections": [{"refs": [{"id": "ref-for-relevant-settings-object"}], "title": "11.12. Making a background attributionsrc request"}], "external": true};
window.dfnpanelData['d773d0d1'] = {"dfnID": "d773d0d1", "url": "https://html.spec.whatwg.org/multipage/common-microsyntaxes.html#rules-for-parsing-integers", "dfnText": "rules for parsing integers", "refSections": [{"refs": [{"id": "ref-for-rules-for-parsing-integers"}], "title": "11.2. Parsing JSON fields"}], "external": true};
window.dfnpanelData['81cb0e1a'] = {"dfnID": "81cb0e1a", "url": "https://html.spec.whatwg.org/multipage/common-microsyntaxes.html#rules-for-parsing-non-negative-integers", "dfnText": "rules for parsing non-negative integers", "refSections": [{"refs": [{"id": "ref-for-rules-for-parsing-non-negative-integers"}], "title": "11.2. Parsing JSON fields"}], "external": true};
window.dfnpanelData['7393da89'] = {"dfnID": "7393da89", "url": "https://html.spec.whatwg.org/multipage/browsers.html#same-origin", "dfnText": "same origin", "refSections": [{"refs": [{"id": "ref-for-same-origin"}, {"id": "ref-for-same-origin\u2460"}, {"id": "ref-for-same-origin\u2461"}], "title": "6. Clear Site Data integration"}, {"refs": [{"id": "ref-for-same-origin\u2462"}], "title": "12.4. Processing an attribution source"}, {"refs": [{"id": "ref-for-same-origin\u2463"}], "title": "13.11. Triggering attribution"}], "external": true};
window.dfnpanelData['feac4ab3'] = {"dfnID": "feac4ab3", "url": "https://html.spec.whatwg.org/multipage/browsers.html#same-site", "dfnText": "same site", "refSections": [{"refs": [{"id": "ref-for-same-site"}, {"id": "ref-for-same-site\u2460"}], "title": "12.4. Processing an attribution source"}, {"refs": [{"id": "ref-for-same-site\u2461"}], "title": "13.3. Should attribution be blocked by attribution rate limit"}], "external": true};
window.dfnpanelData['a23d12a9'] = {"dfnID": "a23d12a9", "url": "https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-scheme", "dfnText": "scheme", "refSections": [{"refs": [{"id": "ref-for-concept-origin-scheme"}], "title": "11.3. Serialize attribution destinations"}, {"refs": [{"id": "ref-for-concept-origin-scheme\u2460"}], "title": "14.4. Obtaining an aggregatable report\u2019s aggregation service payloads"}, {"refs": [{"id": "ref-for-concept-origin-scheme\u2461"}], "title": "14.7. Get report request URL"}], "external": true};
window.dfnpanelData['0cf3964f'] = {"dfnID": "0cf3964f", "url": "https://html.spec.whatwg.org/multipage/scripting.html#script", "dfnText": "script", "refSections": [{"refs": [{"id": "ref-for-script"}, {"id": "ref-for-script\u2460"}], "title": "2.1. API for elements"}], "external": true};
window.dfnpanelData['1f3af105'] = {"dfnID": "1f3af105", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#script-fetch-options", "dfnText": "script fetch options", "refSections": [{"refs": [{"id": "ref-for-script-fetch-options"}, {"id": "ref-for-script-fetch-options\u2460"}], "title": "2.1. API for elements"}], "external": true};
window.dfnpanelData['65181da8'] = {"dfnID": "65181da8", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#secure-context", "dfnText": "secure context", "refSections": [{"refs": [{"id": "ref-for-secure-context"}], "title": "11.12. Making a background attributionsrc request"}], "external": true};
window.dfnpanelData['dae0bfde'] = {"dfnID": "dae0bfde", "url": "https://html.spec.whatwg.org/multipage/browsers.html#ascii-serialisation-of-an-origin", "dfnText": "serialization of an origin", "refSections": [{"refs": [{"id": "ref-for-ascii-serialisation-of-an-origin"}], "title": "14.3. Obtaining an aggregatable report\u2019s shared info"}, {"refs": [{"id": "ref-for-ascii-serialisation-of-an-origin\u2460"}], "title": "14.5. Serialize attribution report body"}], "external": true};
window.dfnpanelData['7bf4a4dd'] = {"dfnID": "7bf4a4dd", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#set-up-the-classic-script-request", "dfnText": "set up the classic script request", "refSections": [{"refs": [{"id": "ref-for-set-up-the-classic-script-request"}], "title": "2.1. API for elements"}], "external": true};
window.dfnpanelData['b55c7c95'] = {"dfnID": "b55c7c95", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#set-up-the-module-script-request", "dfnText": "set up the module script request", "refSections": [{"refs": [{"id": "ref-for-set-up-the-module-script-request"}], "title": "2.1. API for elements"}], "external": true};
window.dfnpanelData['fb9bb722'] = {"dfnID": "fb9bb722", "url": "https://html.spec.whatwg.org/multipage/browsers.html#site", "dfnText": "site", "refSections": [{"refs": [{"id": "ref-for-site"}], "title": "7.8. Attribution source"}, {"refs": [{"id": "ref-for-site\u2460"}], "title": "7.14. Attribution trigger"}, {"refs": [{"id": "ref-for-site\u2461"}], "title": "7.16. Event-level report"}, {"refs": [{"id": "ref-for-site\u2462"}], "title": "7.18. Aggregatable report"}, {"refs": [{"id": "ref-for-site\u2463"}, {"id": "ref-for-site\u2464"}], "title": "7.19. Attribution rate-limits"}, {"refs": [{"id": "ref-for-site\u2465"}, {"id": "ref-for-site\u2466"}, {"id": "ref-for-site\u2467"}, {"id": "ref-for-site\u2468"}, {"id": "ref-for-site\u2460\u24ea"}, {"id": "ref-for-site\u2460\u2460"}, {"id": "ref-for-site\u2460\u2461"}, {"id": "ref-for-site\u2460\u2462"}], "title": "10. Vendor-Specific Values"}, {"refs": [{"id": "ref-for-site\u2460\u2463"}], "title": "13.1. Creating an attribution trigger"}], "external": true};
window.dfnpanelData['bc7a6100'] = {"dfnID": "bc7a6100", "url": "https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-window-open-features-tokenize", "dfnText": "tokenize the features argument", "refSections": [{"refs": [{"id": "ref-for-concept-window-open-features-tokenize"}, {"id": "ref-for-concept-window-open-features-tokenize\u2460"}], "title": "2.2. Window open steps"}], "external": true};
window.dfnpanelData['b402424d'] = {"dfnID": "b402424d", "url": "https://html.spec.whatwg.org/multipage/images.html#update-the-image-data", "dfnText": "update the image data", "refSections": [{"refs": [{"id": "ref-for-update-the-image-data"}], "title": "2.1. API for elements"}], "external": true};
window.dfnpanelData['b79e50d6'] = {"dfnID": "b79e50d6", "url": "https://html.spec.whatwg.org/multipage/interaction.html#tracking-user-activation", "dfnText": "user activation", "refSections": [{"refs": [{"id": "ref-for-tracking-user-activation"}], "title": "19.2.1. Event-level reports"}], "external": true};
window.dfnpanelData['7907cfc3'] = {"dfnID": "7907cfc3", "url": "https://html.spec.whatwg.org/multipage/nav-history-apis.html#window-open-steps", "dfnText": "window open steps", "refSections": [{"refs": [{"id": "ref-for-window-open-steps"}], "title": "2.2. Window open steps"}, {"refs": [{"id": "ref-for-window-open-steps\u2460"}], "title": "18.2. Opting in to the API"}], "external": true};
window.dfnpanelData['b4cfa5ce'] = {"dfnID": "b4cfa5ce", "url": "https://webidl.spec.whatwg.org/#dfn-throw", "dfnText": "throw", "refSections": [{"refs": [{"id": "ref-for-dfn-throw"}, {"id": "ref-for-dfn-throw\u2460"}], "title": "3.2. XMLHttpRequest monkeypatches"}], "external": true};
window.dfnpanelData['53275e46'] = {"dfnID": "53275e46", "url": "https://infra.spec.whatwg.org/#list-append", "dfnText": "append (for list)", "refSections": [{"refs": [{"id": "ref-for-list-append"}, {"id": "ref-for-list-append\u2460"}], "title": "2.2. Window open steps"}, {"refs": [{"id": "ref-for-list-append\u2461"}, {"id": "ref-for-list-append\u2462"}, {"id": "ref-for-list-append\u2463"}, {"id": "ref-for-list-append\u2464"}, {"id": "ref-for-list-append\u2465"}, {"id": "ref-for-list-append\u2466"}], "title": "3. Network monkeypatches"}, {"refs": [{"id": "ref-for-list-append\u2467"}], "title": "11.3. Serialize attribution destinations"}, {"refs": [{"id": "ref-for-list-append\u2468"}, {"id": "ref-for-list-append\u2460\u24ea"}], "title": "11.5. Parsing filters"}, {"refs": [{"id": "ref-for-list-append\u2460\u2460"}, {"id": "ref-for-list-append\u2460\u2461"}, {"id": "ref-for-list-append\u2460\u2462"}], "title": "12.3. Parsing source-registration JSON"}, {"refs": [{"id": "ref-for-list-append\u2460\u2463"}], "title": "13.1. Creating an attribution trigger"}, {"refs": [{"id": "ref-for-list-append\u2460\u2464"}], "title": "13.6. Creating aggregatable contributions"}, {"refs": [{"id": "ref-for-list-append\u2460\u2465"}], "title": "13.9. Triggering event-level attribution"}, {"refs": [{"id": "ref-for-list-append\u2460\u2466"}], "title": "13.10. Triggering aggregatable attribution"}, {"refs": [{"id": "ref-for-list-append\u2460\u2467"}, {"id": "ref-for-list-append\u2460\u2468"}, {"id": "ref-for-list-append\u2461\u24ea"}], "title": "13.11. Triggering attribution"}, {"refs": [{"id": "ref-for-list-append\u2461\u2460"}, {"id": "ref-for-list-append\u2461\u2461"}, {"id": "ref-for-list-append\u2461\u2462"}], "title": "13.16. Generating randomized null reports"}, {"refs": [{"id": "ref-for-list-append\u2461\u2463"}, {"id": "ref-for-list-append\u2461\u2464"}], "title": "14.4. Obtaining an aggregatable report\u2019s aggregation service payloads"}, {"refs": [{"id": "ref-for-list-append\u2461\u2465"}], "title": "14.6. Serialize attribution debug report body"}, {"refs": [{"id": "ref-for-list-append\u2461\u2466"}, {"id": "ref-for-list-append\u2461\u2467"}, {"id": "ref-for-list-append\u2461\u2468"}, {"id": "ref-for-list-append\u2462\u24ea"}], "title": "14.7. Get report request URL"}, {"refs": [{"id": "ref-for-list-append\u2462\u2460"}, {"id": "ref-for-list-append\u2462\u2461"}, {"id": "ref-for-list-append\u2462\u2462"}], "title": "15. Cross App and Web Algorithms"}, {"refs": [{"id": "ref-for-list-append\u2462\u2463"}, {"id": "ref-for-list-append\u2462\u2464"}], "title": "16.1. Initiate trigger verification"}, {"refs": [{"id": "ref-for-list-append\u2462\u2465"}, {"id": "ref-for-list-append\u2462\u2466"}], "title": "16.2. Handle trigger verification"}], "external": true};
window.dfnpanelData['a3b18719'] = {"dfnID": "a3b18719", "url": "https://infra.spec.whatwg.org/#set-append", "dfnText": "append (for set)", "refSections": [{"refs": [{"id": "ref-for-set-append"}], "title": "11.4. Parsing filter data"}, {"refs": [{"id": "ref-for-set-append\u2460"}, {"id": "ref-for-set-append\u2461"}], "title": "12.1. Obtaining a randomized source response"}, {"refs": [{"id": "ref-for-set-append\u2462"}], "title": "12.3. Parsing source-registration JSON"}, {"refs": [{"id": "ref-for-set-append\u2463"}, {"id": "ref-for-set-append\u2464"}, {"id": "ref-for-set-append\u2465"}, {"id": "ref-for-set-append\u2466"}, {"id": "ref-for-set-append\u2467"}], "title": "12.4. Processing an attribution source"}, {"refs": [{"id": "ref-for-set-append\u2468"}, {"id": "ref-for-set-append\u2460\u24ea"}, {"id": "ref-for-set-append\u2460\u2460"}], "title": "13.1. Creating an attribution trigger"}, {"refs": [{"id": "ref-for-set-append\u2460\u2461"}], "title": "13.9. Triggering event-level attribution"}, {"refs": [{"id": "ref-for-set-append\u2460\u2462"}], "title": "13.11. Triggering attribution"}, {"refs": [{"id": "ref-for-set-append\u2460\u2463"}, {"id": "ref-for-set-append\u2460\u2464"}], "title": "13.16. Generating randomized null reports"}], "external": true};
window.dfnpanelData['57ca97cc'] = {"dfnID": "57ca97cc", "url": "https://infra.spec.whatwg.org/#ascii-hex-digit", "dfnText": "ascii hex digit", "refSections": [{"refs": [{"id": "ref-for-ascii-hex-digit"}], "title": "11.9. Parsing aggregation key piece"}], "external": true};
window.dfnpanelData['6f2dfa22'] = {"dfnID": "6f2dfa22", "url": "https://infra.spec.whatwg.org/#ascii-lowercase", "dfnText": "ascii lowercase", "refSections": [{"refs": [{"id": "ref-for-ascii-lowercase"}, {"id": "ref-for-ascii-lowercase\u2460"}], "title": "2.2. Window open steps"}], "external": true};
window.dfnpanelData['77b4c09a'] = {"dfnID": "77b4c09a", "url": "https://infra.spec.whatwg.org/#assert", "dfnText": "assert", "refSections": [{"refs": [{"id": "ref-for-assert"}], "title": "2.2. Window open steps"}, {"refs": [{"id": "ref-for-assert\u2460"}, {"id": "ref-for-assert\u2461"}], "title": "11.3. Serialize attribution destinations"}, {"refs": [{"id": "ref-for-assert\u2462"}], "title": "11.8. Obtaining a randomized response"}, {"refs": [{"id": "ref-for-assert\u2463"}, {"id": "ref-for-assert\u2464"}], "title": "11.12. Making a background attributionsrc request"}, {"refs": [{"id": "ref-for-assert\u2465"}], "title": "12.3. Parsing source-registration JSON"}, {"refs": [{"id": "ref-for-assert\u2466"}], "title": "13.7. Can source create aggregatable contributions"}, {"refs": [{"id": "ref-for-assert\u2467"}], "title": "13.8. Obtaining debug data on trigger registration"}, {"refs": [{"id": "ref-for-assert\u2468"}, {"id": "ref-for-assert\u2460\u24ea"}, {"id": "ref-for-assert\u2460\u2460"}, {"id": "ref-for-assert\u2460\u2461"}], "title": "13.9. Triggering event-level attribution"}, {"refs": [{"id": "ref-for-assert\u2460\u2462"}], "title": "13.10. Triggering aggregatable attribution"}, {"refs": [{"id": "ref-for-assert\u2460\u2463"}, {"id": "ref-for-assert\u2460\u2464"}], "title": "13.12. Establishing report delivery time"}, {"refs": [{"id": "ref-for-assert\u2460\u2465"}], "title": "13.16. Generating randomized null reports"}, {"refs": [{"id": "ref-for-assert\u2460\u2466"}], "title": "14.5. Serialize attribution report body"}], "external": true};
window.dfnpanelData['36858240'] = {"dfnID": "36858240", "url": "https://infra.spec.whatwg.org/#boolean", "dfnText": "boolean", "refSections": [{"refs": [{"id": "ref-for-boolean"}, {"id": "ref-for-boolean\u2460"}], "title": "4. Fenced Frame monkeypatches"}, {"refs": [{"id": "ref-for-boolean\u2461"}, {"id": "ref-for-boolean\u2462"}], "title": "7.8. Attribution source"}, {"refs": [{"id": "ref-for-boolean\u2463"}], "title": "7.14. Attribution trigger"}, {"refs": [{"id": "ref-for-boolean\u2464"}], "title": "7.15. Attribution report"}, {"refs": [{"id": "ref-for-boolean\u2465"}], "title": "7.18. Aggregatable report"}, {"refs": [{"id": "ref-for-boolean\u2466"}], "title": "12.3. Parsing source-registration JSON"}, {"refs": [{"id": "ref-for-boolean\u2467"}], "title": "13.1. Creating an attribution trigger"}, {"refs": [{"id": "ref-for-boolean\u2468"}, {"id": "ref-for-boolean\u2460\u24ea"}], "title": "13.2. Does filter data match"}, {"refs": [{"id": "ref-for-boolean\u2460\u2460"}], "title": "14.7. Get report request URL"}, {"refs": [{"id": "ref-for-boolean\u2460\u2461"}, {"id": "ref-for-boolean\u2460\u2462"}], "title": "15. Cross App and Web Algorithms"}], "external": true};
window.dfnpanelData['7b0d918d'] = {"dfnID": "7b0d918d", "url": "https://infra.spec.whatwg.org/#iteration-break", "dfnText": "break", "refSections": [{"refs": [{"id": "ref-for-iteration-break"}], "title": "13.9. Triggering event-level attribution"}, {"refs": [{"id": "ref-for-iteration-break\u2460"}], "title": "13.10. Triggering aggregatable attribution"}], "external": true};
window.dfnpanelData['3de9e659'] = {"dfnID": "3de9e659", "url": "https://infra.spec.whatwg.org/#byte-sequence", "dfnText": "byte sequence", "refSections": [{"refs": [{"id": "ref-for-byte-sequence"}], "title": "7.22. Serialized private state token"}, {"refs": [{"id": "ref-for-byte-sequence\u2460"}], "title": "7.24. Trigger verification metadata"}, {"refs": [{"id": "ref-for-byte-sequence\u2461"}], "title": "12.3. Parsing source-registration JSON"}, {"refs": [{"id": "ref-for-byte-sequence\u2462"}], "title": "13.1. Creating an attribution trigger"}, {"refs": [{"id": "ref-for-byte-sequence\u2463"}], "title": "14.1. Encode an unsigned k-bit integer"}, {"refs": [{"id": "ref-for-byte-sequence\u2464"}, {"id": "ref-for-byte-sequence\u2465"}], "title": "14.4. Obtaining an aggregatable report\u2019s aggregation service payloads"}, {"refs": [{"id": "ref-for-byte-sequence\u2466"}, {"id": "ref-for-byte-sequence\u2467"}], "title": "14.5. Serialize attribution report body"}, {"refs": [{"id": "ref-for-byte-sequence\u2468"}], "title": "14.6. Serialize attribution debug report body"}, {"refs": [{"id": "ref-for-byte-sequence\u2460\u24ea"}], "title": "14.8. Creating a report request"}], "external": true};
window.dfnpanelData['ab3919d2'] = {"dfnID": "ab3919d2", "url": "https://infra.spec.whatwg.org/#map-clone", "dfnText": "clone", "refSections": [{"refs": [{"id": "ref-for-map-clone"}], "title": "13.6. Creating aggregatable contributions"}], "external": true};
window.dfnpanelData['4ef39030'] = {"dfnID": "4ef39030", "url": "https://infra.spec.whatwg.org/#string-code-point-length", "dfnText": "code point length", "refSections": [{"refs": [{"id": "ref-for-string-code-point-length"}], "title": "11.4. Parsing filter data"}, {"refs": [{"id": "ref-for-string-code-point-length\u2460"}], "title": "11.9. Parsing aggregation key piece"}, {"refs": [{"id": "ref-for-string-code-point-length\u2461"}], "title": "12.3. Parsing source-registration JSON"}, {"refs": [{"id": "ref-for-string-code-point-length\u2462"}, {"id": "ref-for-string-code-point-length\u2463"}], "title": "13.1. Creating an attribution trigger"}], "external": true};
window.dfnpanelData['bb1f9628'] = {"dfnID": "bb1f9628", "url": "https://infra.spec.whatwg.org/#code-point-substring", "dfnText": "code point substring", "refSections": [{"refs": [{"id": "ref-for-code-point-substring"}], "title": "11.9. Parsing aggregation key piece"}], "external": true};
window.dfnpanelData['d24334b4'] = {"dfnID": "d24334b4", "url": "https://infra.spec.whatwg.org/#collect-a-sequence-of-code-points", "dfnText": "collect a sequence of code points", "refSections": [{"refs": [{"id": "ref-for-collect-a-sequence-of-code-points"}, {"id": "ref-for-collect-a-sequence-of-code-points\u2460"}], "title": "2.2. Window open steps"}], "external": true};
window.dfnpanelData['4a3bf5fb'] = {"dfnID": "4a3bf5fb", "url": "https://infra.spec.whatwg.org/#string-concatenate", "dfnText": "concatenate", "refSections": [{"refs": [{"id": "ref-for-string-concatenate"}], "title": "3. Network monkeypatches"}, {"refs": [{"id": "ref-for-string-concatenate\u2460"}], "title": "14.4. Obtaining an aggregatable report\u2019s aggregation service payloads"}, {"refs": [{"id": "ref-for-string-concatenate\u2461"}], "title": "16.1. Initiate trigger verification"}], "external": true};
window.dfnpanelData['e28ccd60'] = {"dfnID": "e28ccd60", "url": "https://infra.spec.whatwg.org/#string-concatenate", "dfnText": "concatenation", "refSections": [{"refs": [{"id": "ref-for-string-concatenate"}], "title": "3. Network monkeypatches"}, {"refs": [{"id": "ref-for-string-concatenate\u2460"}], "title": "14.4. Obtaining an aggregatable report\u2019s aggregation service payloads"}, {"refs": [{"id": "ref-for-string-concatenate\u2461"}], "title": "16.1. Initiate trigger verification"}], "external": true};
window.dfnpanelData['ae8def21'] = {"dfnID": "ae8def21", "url": "https://infra.spec.whatwg.org/#list-contain", "dfnText": "contain", "refSections": [{"refs": [{"id": "ref-for-list-contain"}, {"id": "ref-for-list-contain\u2460"}], "title": "13.9. Triggering event-level attribution"}, {"refs": [{"id": "ref-for-list-contain\u2461"}], "title": "13.10. Triggering aggregatable attribution"}, {"refs": [{"id": "ref-for-list-contain\u2462"}], "title": "13.11. Triggering attribution"}, {"refs": [{"id": "ref-for-list-contain\u2463"}], "title": "13.12. Establishing report delivery time"}], "external": true};
window.dfnpanelData['f937b7b6'] = {"dfnID": "f937b7b6", "url": "https://infra.spec.whatwg.org/#iteration-continue", "dfnText": "continue", "refSections": [{"refs": [{"id": "ref-for-iteration-continue"}, {"id": "ref-for-iteration-continue\u2460"}], "title": "2.2. Window open steps"}, {"refs": [{"id": "ref-for-iteration-continue\u2461"}, {"id": "ref-for-iteration-continue\u2462"}, {"id": "ref-for-iteration-continue\u2463"}, {"id": "ref-for-iteration-continue\u2464"}, {"id": "ref-for-iteration-continue\u2465"}, {"id": "ref-for-iteration-continue\u2466"}, {"id": "ref-for-iteration-continue\u2467"}], "title": "11.6. Cookie-based debugging"}, {"refs": [{"id": "ref-for-iteration-continue\u2468"}], "title": "11.12. Making a background attributionsrc request"}, {"refs": [{"id": "ref-for-iteration-continue\u2460\u24ea"}], "title": "13.2. Does filter data match"}, {"refs": [{"id": "ref-for-iteration-continue\u2460\u2460"}, {"id": "ref-for-iteration-continue\u2460\u2461"}, {"id": "ref-for-iteration-continue\u2460\u2462"}], "title": "13.6. Creating aggregatable contributions"}, {"refs": [{"id": "ref-for-iteration-continue\u2460\u2463"}, {"id": "ref-for-iteration-continue\u2460\u2464"}, {"id": "ref-for-iteration-continue\u2460\u2465"}], "title": "13.11. Triggering attribution"}, {"refs": [{"id": "ref-for-iteration-continue\u2460\u2466"}], "title": "13.16. Generating randomized null reports"}, {"refs": [{"id": "ref-for-iteration-continue\u2460\u2467"}, {"id": "ref-for-iteration-continue\u2460\u2468"}], "title": "15. Cross App and Web Algorithms"}, {"refs": [{"id": "ref-for-iteration-continue\u2461\u24ea"}, {"id": "ref-for-iteration-continue\u2461\u2460"}], "title": "16.2. Handle trigger verification"}], "external": true};
window.dfnpanelData['75393c04'] = {"dfnID": "75393c04", "url": "https://infra.spec.whatwg.org/#list-contain", "dfnText": "exist (for list)", "refSections": [{"refs": [{"id": "ref-for-list-contain"}, {"id": "ref-for-list-contain\u2460"}], "title": "13.9. Triggering event-level attribution"}, {"refs": [{"id": "ref-for-list-contain\u2461"}], "title": "13.10. Triggering aggregatable attribution"}, {"refs": [{"id": "ref-for-list-contain\u2462"}], "title": "13.11. Triggering attribution"}, {"refs": [{"id": "ref-for-list-contain\u2463"}], "title": "13.12. Establishing report delivery time"}], "external": true};
window.dfnpanelData['1243a891'] = {"dfnID": "1243a891", "url": "https://infra.spec.whatwg.org/#map-exists", "dfnText": "exist (for map)", "refSections": [{"refs": [{"id": "ref-for-map-exists"}, {"id": "ref-for-map-exists\u2460"}], "title": "2.2. Window open steps"}, {"refs": [{"id": "ref-for-map-exists\u2461"}, {"id": "ref-for-map-exists\u2462"}], "title": "3.1. Fetch monkeypatches"}, {"refs": [{"id": "ref-for-map-exists\u2463"}], "title": "4. Fenced Frame monkeypatches"}, {"refs": [{"id": "ref-for-map-exists\u2464"}, {"id": "ref-for-map-exists\u2465"}], "title": "11.2. Parsing JSON fields"}, {"refs": [{"id": "ref-for-map-exists\u2466"}], "title": "11.4. Parsing filter data"}, {"refs": [{"id": "ref-for-map-exists\u2467"}, {"id": "ref-for-map-exists\u2468"}], "title": "11.5. Parsing filters"}, {"refs": [{"id": "ref-for-map-exists\u2460\u24ea"}, {"id": "ref-for-map-exists\u2460\u2460"}, {"id": "ref-for-map-exists\u2460\u2461"}, {"id": "ref-for-map-exists\u2460\u2462"}, {"id": "ref-for-map-exists\u2460\u2463"}, {"id": "ref-for-map-exists\u2460\u2464"}, {"id": "ref-for-map-exists\u2460\u2465"}, {"id": "ref-for-map-exists\u2460\u2466"}, {"id": "ref-for-map-exists\u2460\u2467"}, {"id": "ref-for-map-exists\u2460\u2468"}, {"id": "ref-for-map-exists\u2461\u24ea"}], "title": "12.3. Parsing source-registration JSON"}, {"refs": [{"id": "ref-for-map-exists\u2461\u2460"}, {"id": "ref-for-map-exists\u2461\u2461"}, {"id": "ref-for-map-exists\u2461\u2462"}, {"id": "ref-for-map-exists\u2461\u2463"}, {"id": "ref-for-map-exists\u2461\u2464"}, {"id": "ref-for-map-exists\u2461\u2465"}, {"id": "ref-for-map-exists\u2461\u2466"}, {"id": "ref-for-map-exists\u2461\u2467"}, {"id": "ref-for-map-exists\u2461\u2468"}], "title": "13.1. Creating an attribution trigger"}, {"refs": [{"id": "ref-for-map-exists\u2462\u24ea"}], "title": "13.2. Does filter data match"}, {"refs": [{"id": "ref-for-map-exists\u2462\u2460"}, {"id": "ref-for-map-exists\u2462\u2461"}], "title": "13.6. Creating aggregatable contributions"}, {"refs": [{"id": "ref-for-map-exists\u2462\u2462"}], "title": "15. Cross App and Web Algorithms"}], "external": true};
window.dfnpanelData['73e75483'] = {"dfnID": "73e75483", "url": "https://infra.spec.whatwg.org/#forgiving-base64-decode", "dfnText": "forgiving-base64 decode", "refSections": [{"refs": [{"id": "ref-for-forgiving-base64-decode"}], "title": "16.2. Handle trigger verification"}], "external": true};
window.dfnpanelData['b012ccb2'] = {"dfnID": "b012ccb2", "url": "https://infra.spec.whatwg.org/#forgiving-base64-encode", "dfnText": "forgiving-base64 encode", "refSections": [{"refs": [{"id": "ref-for-forgiving-base64-encode"}], "title": "7.22. Serialized private state token"}, {"refs": [{"id": "ref-for-forgiving-base64-encode\u2460"}, {"id": "ref-for-forgiving-base64-encode\u2461"}], "title": "14.4. Obtaining an aggregatable report\u2019s aggregation service payloads"}, {"refs": [{"id": "ref-for-forgiving-base64-encode\u2462"}], "title": "16.1. Initiate trigger verification"}, {"refs": [{"id": "ref-for-forgiving-base64-encode\u2463"}], "title": "16.2. Handle trigger verification"}], "external": true};
window.dfnpanelData['860300d4'] = {"dfnID": "860300d4", "url": "https://infra.spec.whatwg.org/#implementation-defined", "dfnText": "implementation-defined", "refSections": [{"refs": [{"id": "ref-for-implementation-defined"}, {"id": "ref-for-implementation-defined\u2460"}, {"id": "ref-for-implementation-defined\u2461"}], "title": "11.12. Making a background attributionsrc request"}, {"refs": [{"id": "ref-for-implementation-defined\u2462"}, {"id": "ref-for-implementation-defined\u2463"}], "title": "14. Report delivery"}], "external": true};
window.dfnpanelData['e5ea84f2'] = {"dfnID": "e5ea84f2", "url": "https://infra.spec.whatwg.org/#set-intersection", "dfnText": "intersection", "refSections": [{"refs": [{"id": "ref-for-set-intersection"}, {"id": "ref-for-set-intersection\u2460"}], "title": "13.2. Does filter data match"}], "external": true};
window.dfnpanelData['6b815fdd'] = {"dfnID": "6b815fdd", "url": "https://infra.spec.whatwg.org/#list-is-empty", "dfnText": "is empty (for list)", "refSections": [{"refs": [{"id": "ref-for-list-is-empty"}], "title": "3. Network monkeypatches"}, {"refs": [{"id": "ref-for-list-is-empty\u2460"}], "title": "4. Fenced Frame monkeypatches"}, {"refs": [{"id": "ref-for-list-is-empty\u2461"}], "title": "11.3. Serialize attribution destinations"}, {"refs": [{"id": "ref-for-list-is-empty\u2462"}], "title": "11.12. Making a background attributionsrc request"}, {"refs": [{"id": "ref-for-list-is-empty\u2463"}, {"id": "ref-for-list-is-empty\u2464"}], "title": "12.1. Obtaining a randomized source response"}, {"refs": [{"id": "ref-for-list-is-empty\u2465"}, {"id": "ref-for-list-is-empty\u2466"}, {"id": "ref-for-list-is-empty\u2467"}], "title": "12.3. Parsing source-registration JSON"}, {"refs": [{"id": "ref-for-list-is-empty\u2468"}, {"id": "ref-for-list-is-empty\u2460\u24ea"}], "title": "12.4. Processing an attribution source"}, {"refs": [{"id": "ref-for-list-is-empty\u2460\u2460"}, {"id": "ref-for-list-is-empty\u2460\u2461"}, {"id": "ref-for-list-is-empty\u2460\u2462"}, {"id": "ref-for-list-is-empty\u2460\u2463"}, {"id": "ref-for-list-is-empty\u2460\u2464"}, {"id": "ref-for-list-is-empty\u2460\u2465"}, {"id": "ref-for-list-is-empty\u2460\u2466"}], "title": "13.2. Does filter data match"}, {"refs": [{"id": "ref-for-list-is-empty\u2460\u2467"}, {"id": "ref-for-list-is-empty\u2460\u2468"}, {"id": "ref-for-list-is-empty\u2461\u24ea"}], "title": "13.9. Triggering event-level attribution"}, {"refs": [{"id": "ref-for-list-is-empty\u2461\u2460"}], "title": "13.10. Triggering aggregatable attribution"}, {"refs": [{"id": "ref-for-list-is-empty\u2461\u2461"}, {"id": "ref-for-list-is-empty\u2461\u2462"}, {"id": "ref-for-list-is-empty\u2461\u2463"}, {"id": "ref-for-list-is-empty\u2461\u2464"}, {"id": "ref-for-list-is-empty\u2461\u2465"}, {"id": "ref-for-list-is-empty\u2461\u2466"}, {"id": "ref-for-list-is-empty\u2461\u2467"}], "title": "13.11. Triggering attribution"}, {"refs": [{"id": "ref-for-list-is-empty\u2461\u2468"}, {"id": "ref-for-list-is-empty\u2462\u24ea"}, {"id": "ref-for-list-is-empty\u2462\u2460"}], "title": "13.16. Generating randomized null reports"}, {"refs": [{"id": "ref-for-list-is-empty\u2462\u2461"}, {"id": "ref-for-list-is-empty\u2462\u2462"}], "title": "14.4. Obtaining an aggregatable report\u2019s aggregation service payloads"}, {"refs": [{"id": "ref-for-list-is-empty\u2462\u2463"}], "title": "14.6. Serialize attribution debug report body"}, {"refs": [{"id": "ref-for-list-is-empty\u2462\u2464"}], "title": "14.7. Get report request URL"}, {"refs": [{"id": "ref-for-list-is-empty\u2462\u2465"}], "title": "15. Cross App and Web Algorithms"}, {"refs": [{"id": "ref-for-list-is-empty\u2462\u2466"}], "title": "16.2. Handle trigger verification"}], "external": true};
window.dfnpanelData['dc3369de'] = {"dfnID": "dc3369de", "url": "https://infra.spec.whatwg.org/#map-is-empty", "dfnText": "is empty (for map)", "refSections": [{"refs": [{"id": "ref-for-map-is-empty"}], "title": "3. Network monkeypatches"}, {"refs": [{"id": "ref-for-map-is-empty\u2460"}], "title": "13.8. Obtaining debug data on trigger registration"}, {"refs": [{"id": "ref-for-map-is-empty\u2461"}], "title": "13.11. Triggering attribution"}], "external": true};
window.dfnpanelData['f02cd417'] = {"dfnID": "f02cd417", "url": "https://infra.spec.whatwg.org/#list-iterate", "dfnText": "iterate (for list)", "refSections": [{"refs": [{"id": "ref-for-list-iterate"}], "title": "2.2. Window open steps"}, {"refs": [{"id": "ref-for-list-iterate\u2460"}, {"id": "ref-for-list-iterate\u2461"}, {"id": "ref-for-list-iterate\u2462"}], "title": "3. Network monkeypatches"}, {"refs": [{"id": "ref-for-list-iterate\u2463"}, {"id": "ref-for-list-iterate\u2464"}, {"id": "ref-for-list-iterate\u2465"}], "title": "6. Clear Site Data integration"}, {"refs": [{"id": "ref-for-list-iterate\u2466"}], "title": "11.3. Serialize attribution destinations"}, {"refs": [{"id": "ref-for-list-iterate\u2467"}], "title": "11.4. Parsing filter data"}, {"refs": [{"id": "ref-for-list-iterate\u2468"}], "title": "11.5. Parsing filters"}, {"refs": [{"id": "ref-for-list-iterate\u2460\u24ea"}], "title": "11.12. Making a background attributionsrc request"}, {"refs": [{"id": "ref-for-list-iterate\u2460\u2460"}, {"id": "ref-for-list-iterate\u2460\u2461"}, {"id": "ref-for-list-iterate\u2460\u2462"}], "title": "12.3. Parsing source-registration JSON"}, {"refs": [{"id": "ref-for-list-iterate\u2460\u2463"}, {"id": "ref-for-list-iterate\u2460\u2464"}], "title": "12.4. Processing an attribution source"}, {"refs": [{"id": "ref-for-list-iterate\u2460\u2465"}, {"id": "ref-for-list-iterate\u2460\u2466"}, {"id": "ref-for-list-iterate\u2460\u2467"}, {"id": "ref-for-list-iterate\u2460\u2468"}], "title": "13.1. Creating an attribution trigger"}, {"refs": [{"id": "ref-for-list-iterate\u2461\u24ea"}], "title": "13.2. Does filter data match"}, {"refs": [{"id": "ref-for-list-iterate\u2461\u2460"}, {"id": "ref-for-list-iterate\u2461\u2461"}], "title": "13.6. Creating aggregatable contributions"}, {"refs": [{"id": "ref-for-list-iterate\u2461\u2462"}], "title": "13.9. Triggering event-level attribution"}, {"refs": [{"id": "ref-for-list-iterate\u2461\u2463"}], "title": "13.10. Triggering aggregatable attribution"}, {"refs": [{"id": "ref-for-list-iterate\u2461\u2464"}, {"id": "ref-for-list-iterate\u2461\u2465"}], "title": "13.11. Triggering attribution"}, {"refs": [{"id": "ref-for-list-iterate\u2461\u2466"}], "title": "13.12. Establishing report delivery time"}, {"refs": [{"id": "ref-for-list-iterate\u2461\u2467"}], "title": "14. Report delivery"}, {"refs": [{"id": "ref-for-list-iterate\u2461\u2468"}], "title": "14.4. Obtaining an aggregatable report\u2019s aggregation service payloads"}, {"refs": [{"id": "ref-for-list-iterate\u2462\u24ea"}], "title": "14.6. Serialize attribution debug report body"}, {"refs": [{"id": "ref-for-list-iterate\u2462\u2460"}], "title": "14.8. Creating a report request"}, {"refs": [{"id": "ref-for-list-iterate\u2462\u2461"}], "title": "15. Cross App and Web Algorithms"}, {"refs": [{"id": "ref-for-list-iterate\u2462\u2462"}, {"id": "ref-for-list-iterate\u2462\u2463"}], "title": "16.2. Handle trigger verification"}], "external": true};
window.dfnpanelData['efe8653e'] = {"dfnID": "efe8653e", "url": "https://infra.spec.whatwg.org/#map-iterate", "dfnText": "iterate (for map)", "refSections": [{"refs": [{"id": "ref-for-map-iterate"}, {"id": "ref-for-map-iterate\u2460"}], "title": "11.4. Parsing filter data"}, {"refs": [{"id": "ref-for-map-iterate\u2461"}], "title": "12.3. Parsing source-registration JSON"}, {"refs": [{"id": "ref-for-map-iterate\u2462"}], "title": "12.4. Processing an attribution source"}, {"refs": [{"id": "ref-for-map-iterate\u2463"}], "title": "13.1. Creating an attribution trigger"}, {"refs": [{"id": "ref-for-map-iterate\u2464"}], "title": "13.2. Does filter data match"}, {"refs": [{"id": "ref-for-map-iterate\u2465"}], "title": "13.6. Creating aggregatable contributions"}], "external": true};
window.dfnpanelData['d14a6f26'] = {"dfnID": "d14a6f26", "url": "https://infra.spec.whatwg.org/#map-key", "dfnText": "key", "refSections": [{"refs": [{"id": "ref-for-map-key"}], "title": "7.4. Attribution filtering"}, {"refs": [{"id": "ref-for-map-key\u2460"}], "title": "7.8. Attribution source"}, {"refs": [{"id": "ref-for-map-key\u2461"}], "title": "7.14. Attribution trigger"}], "external": true};
window.dfnpanelData['0fa357c3'] = {"dfnID": "0fa357c3", "url": "https://infra.spec.whatwg.org/#string-length", "dfnText": "length", "refSections": [{"refs": [{"id": "ref-for-string-length"}], "title": "11.4. Parsing filter data"}, {"refs": [{"id": "ref-for-string-length\u2460"}], "title": "12.3. Parsing source-registration JSON"}, {"refs": [{"id": "ref-for-string-length\u2461"}, {"id": "ref-for-string-length\u2462"}], "title": "13.1. Creating an attribution trigger"}], "external": true};
window.dfnpanelData['649608b9'] = {"dfnID": "649608b9", "url": "https://infra.spec.whatwg.org/#list", "dfnText": "list", "refSections": [{"refs": [{"id": "ref-for-list"}, {"id": "ref-for-list\u2460"}, {"id": "ref-for-list\u2461"}], "title": "2.2. Window open steps"}, {"refs": [{"id": "ref-for-list\u2462"}, {"id": "ref-for-list\u2463"}, {"id": "ref-for-list\u2464"}], "title": "3. Network monkeypatches"}, {"refs": [{"id": "ref-for-list\u2465"}], "title": "7.7. Report window"}, {"refs": [{"id": "ref-for-list\u2466"}, {"id": "ref-for-list\u2467"}], "title": "7.9. Aggregatable trigger data"}, {"refs": [{"id": "ref-for-list\u2468"}, {"id": "ref-for-list\u2460\u24ea"}], "title": "7.10. Aggregatable dedup key"}, {"refs": [{"id": "ref-for-list\u2460\u2460"}, {"id": "ref-for-list\u2460\u2461"}], "title": "7.11. Event-level trigger configuration"}, {"refs": [{"id": "ref-for-list\u2460\u2462"}, {"id": "ref-for-list\u2460\u2463"}, {"id": "ref-for-list\u2460\u2464"}, {"id": "ref-for-list\u2460\u2465"}, {"id": "ref-for-list\u2460\u2466"}], "title": "7.14. Attribution trigger"}, {"refs": [{"id": "ref-for-list\u2460\u2467"}], "title": "7.18. Aggregatable report"}, {"refs": [{"id": "ref-for-list\u2460\u2468"}], "title": "7.21. Attribution debug report"}, {"refs": [{"id": "ref-for-list\u2461\u24ea"}], "title": "7.24. Trigger verification metadata"}, {"refs": [{"id": "ref-for-list\u2461\u2460"}], "title": "11.3. Serialize attribution destinations"}, {"refs": [{"id": "ref-for-list\u2461\u2461"}], "title": "11.4. Parsing filter data"}, {"refs": [{"id": "ref-for-list\u2461\u2462"}, {"id": "ref-for-list\u2461\u2463"}, {"id": "ref-for-list\u2461\u2464"}, {"id": "ref-for-list\u2461\u2465"}], "title": "11.5. Parsing filters"}, {"refs": [{"id": "ref-for-list\u2461\u2466"}], "title": "11.11. Obtaining and delivering an attribution debug report"}, {"refs": [{"id": "ref-for-list\u2461\u2467"}, {"id": "ref-for-list\u2461\u2468"}, {"id": "ref-for-list\u2462\u24ea"}], "title": "12.3. Parsing source-registration JSON"}, {"refs": [{"id": "ref-for-list\u2462\u2460"}, {"id": "ref-for-list\u2462\u2461"}, {"id": "ref-for-list\u2462\u2462"}, {"id": "ref-for-list\u2462\u2463"}, {"id": "ref-for-list\u2462\u2464"}, {"id": "ref-for-list\u2462\u2465"}, {"id": "ref-for-list\u2462\u2466"}], "title": "13.1. Creating an attribution trigger"}, {"refs": [{"id": "ref-for-list\u2462\u2467"}, {"id": "ref-for-list\u2462\u2468"}, {"id": "ref-for-list\u2463\u24ea"}], "title": "13.2. Does filter data match"}, {"refs": [{"id": "ref-for-list\u2463\u2460"}], "title": "13.6. Creating aggregatable contributions"}, {"refs": [{"id": "ref-for-list\u2463\u2461"}], "title": "13.9. Triggering event-level attribution"}, {"refs": [{"id": "ref-for-list\u2463\u2462"}, {"id": "ref-for-list\u2463\u2463"}], "title": "13.11. Triggering attribution"}, {"refs": [{"id": "ref-for-list\u2463\u2464"}, {"id": "ref-for-list\u2463\u2465"}, {"id": "ref-for-list\u2463\u2466"}], "title": "13.16. Generating randomized null reports"}, {"refs": [{"id": "ref-for-list\u2463\u2467"}, {"id": "ref-for-list\u2463\u2468"}], "title": "14.4. Obtaining an aggregatable report\u2019s aggregation service payloads"}, {"refs": [{"id": "ref-for-list\u2464\u24ea"}], "title": "14.6. Serialize attribution debug report body"}, {"refs": [{"id": "ref-for-list\u2464\u2460"}, {"id": "ref-for-list\u2464\u2461"}], "title": "14.7. Get report request URL"}, {"refs": [{"id": "ref-for-list\u2464\u2462"}], "title": "14.8. Creating a report request"}, {"refs": [{"id": "ref-for-list\u2464\u2463"}, {"id": "ref-for-list\u2464\u2464"}, {"id": "ref-for-list\u2464\u2465"}], "title": "15. Cross App and Web Algorithms"}, {"refs": [{"id": "ref-for-list\u2464\u2466"}, {"id": "ref-for-list\u2464\u2467"}], "title": "16.1. Initiate trigger verification"}, {"refs": [{"id": "ref-for-list\u2464\u2468"}, {"id": "ref-for-list\u2465\u24ea"}, {"id": "ref-for-list\u2465\u2460"}, {"id": "ref-for-list\u2465\u2461"}, {"id": "ref-for-list\u2465\u2462"}, {"id": "ref-for-list\u2465\u2463"}, {"id": "ref-for-list\u2465\u2464"}, {"id": "ref-for-list\u2465\u2465"}, {"id": "ref-for-list\u2465\u2466"}], "title": "16.2. Handle trigger verification"}], "external": true};
window.dfnpanelData['3fca5a9e'] = {"dfnID": "3fca5a9e", "url": "https://infra.spec.whatwg.org/#ordered-map", "dfnText": "map", "refSections": [{"refs": [{"id": "ref-for-ordered-map"}], "title": "3. Network monkeypatches"}, {"refs": [{"id": "ref-for-ordered-map\u2460"}], "title": "7.4. Attribution filtering"}, {"refs": [{"id": "ref-for-ordered-map\u2461"}], "title": "7.8. Attribution source"}, {"refs": [{"id": "ref-for-ordered-map\u2462"}], "title": "7.14. Attribution trigger"}, {"refs": [{"id": "ref-for-ordered-map\u2463"}], "title": "7.20. Attribution debug data"}, {"refs": [{"id": "ref-for-ordered-map\u2464"}, {"id": "ref-for-ordered-map\u2465"}, {"id": "ref-for-ordered-map\u2466"}], "title": "10. Vendor-Specific Values"}, {"refs": [{"id": "ref-for-ordered-map\u2467"}, {"id": "ref-for-ordered-map\u2468"}], "title": "11.2. Parsing JSON fields"}, {"refs": [{"id": "ref-for-ordered-map\u2460\u24ea"}, {"id": "ref-for-ordered-map\u2460\u2460"}], "title": "11.4. Parsing filter data"}, {"refs": [{"id": "ref-for-ordered-map\u2460\u2461"}, {"id": "ref-for-ordered-map\u2460\u2462"}], "title": "11.5. Parsing filters"}, {"refs": [{"id": "ref-for-ordered-map\u2460\u2463"}, {"id": "ref-for-ordered-map\u2460\u2464"}, {"id": "ref-for-ordered-map\u2460\u2465"}, {"id": "ref-for-ordered-map\u2460\u2466"}, {"id": "ref-for-ordered-map\u2460\u2467"}, {"id": "ref-for-ordered-map\u2460\u2468"}, {"id": "ref-for-ordered-map\u2461\u24ea"}, {"id": "ref-for-ordered-map\u2461\u2460"}], "title": "12.3. Parsing source-registration JSON"}, {"refs": [{"id": "ref-for-ordered-map\u2461\u2461"}], "title": "12.4. Processing an attribution source"}, {"refs": [{"id": "ref-for-ordered-map\u2461\u2462"}, {"id": "ref-for-ordered-map\u2461\u2463"}, {"id": "ref-for-ordered-map\u2461\u2464"}, {"id": "ref-for-ordered-map\u2461\u2465"}, {"id": "ref-for-ordered-map\u2461\u2466"}, {"id": "ref-for-ordered-map\u2461\u2467"}, {"id": "ref-for-ordered-map\u2461\u2468"}, {"id": "ref-for-ordered-map\u2462\u24ea"}, {"id": "ref-for-ordered-map\u2462\u2460"}], "title": "13.1. Creating an attribution trigger"}, {"refs": [{"id": "ref-for-ordered-map\u2462\u2461"}], "title": "13.8. Obtaining debug data on trigger registration"}, {"refs": [{"id": "ref-for-ordered-map\u2462\u2462"}], "title": "14.3. Obtaining an aggregatable report\u2019s shared info"}, {"refs": [{"id": "ref-for-ordered-map\u2462\u2463"}, {"id": "ref-for-ordered-map\u2462\u2464"}, {"id": "ref-for-ordered-map\u2462\u2465"}], "title": "14.4. Obtaining an aggregatable report\u2019s aggregation service payloads"}, {"refs": [{"id": "ref-for-ordered-map\u2462\u2466"}, {"id": "ref-for-ordered-map\u2462\u2467"}], "title": "14.5. Serialize attribution report body"}, {"refs": [{"id": "ref-for-ordered-map\u2462\u2468"}], "title": "14.6. Serialize attribution debug report body"}, {"refs": [{"id": "ref-for-ordered-map\u2463\u24ea"}], "title": "16.2. Handle trigger verification"}], "external": true};
window.dfnpanelData['84b454ff'] = {"dfnID": "84b454ff", "url": "https://infra.spec.whatwg.org/#ordered-map", "dfnText": "ordered map", "refSections": [{"refs": [{"id": "ref-for-ordered-map"}], "title": "3. Network monkeypatches"}, {"refs": [{"id": "ref-for-ordered-map\u2460"}], "title": "7.4. Attribution filtering"}, {"refs": [{"id": "ref-for-ordered-map\u2461"}], "title": "7.8. Attribution source"}, {"refs": [{"id": "ref-for-ordered-map\u2462"}], "title": "7.14. Attribution trigger"}, {"refs": [{"id": "ref-for-ordered-map\u2463"}], "title": "7.20. Attribution debug data"}, {"refs": [{"id": "ref-for-ordered-map\u2464"}, {"id": "ref-for-ordered-map\u2465"}, {"id": "ref-for-ordered-map\u2466"}], "title": "10. Vendor-Specific Values"}, {"refs": [{"id": "ref-for-ordered-map\u2467"}, {"id": "ref-for-ordered-map\u2468"}], "title": "11.2. Parsing JSON fields"}, {"refs": [{"id": "ref-for-ordered-map\u2460\u24ea"}, {"id": "ref-for-ordered-map\u2460\u2460"}], "title": "11.4. Parsing filter data"}, {"refs": [{"id": "ref-for-ordered-map\u2460\u2461"}, {"id": "ref-for-ordered-map\u2460\u2462"}], "title": "11.5. Parsing filters"}, {"refs": [{"id": "ref-for-ordered-map\u2460\u2463"}, {"id": "ref-for-ordered-map\u2460\u2464"}, {"id": "ref-for-ordered-map\u2460\u2465"}, {"id": "ref-for-ordered-map\u2460\u2466"}, {"id": "ref-for-ordered-map\u2460\u2467"}, {"id": "ref-for-ordered-map\u2460\u2468"}, {"id": "ref-for-ordered-map\u2461\u24ea"}, {"id": "ref-for-ordered-map\u2461\u2460"}], "title": "12.3. Parsing source-registration JSON"}, {"refs": [{"id": "ref-for-ordered-map\u2461\u2461"}], "title": "12.4. Processing an attribution source"}, {"refs": [{"id": "ref-for-ordered-map\u2461\u2462"}, {"id": "ref-for-ordered-map\u2461\u2463"}, {"id": "ref-for-ordered-map\u2461\u2464"}, {"id": "ref-for-ordered-map\u2461\u2465"}, {"id": "ref-for-ordered-map\u2461\u2466"}, {"id": "ref-for-ordered-map\u2461\u2467"}, {"id": "ref-for-ordered-map\u2461\u2468"}, {"id": "ref-for-ordered-map\u2462\u24ea"}, {"id": "ref-for-ordered-map\u2462\u2460"}], "title": "13.1. Creating an attribution trigger"}, {"refs": [{"id": "ref-for-ordered-map\u2462\u2461"}], "title": "13.8. Obtaining debug data on trigger registration"}, {"refs": [{"id": "ref-for-ordered-map\u2462\u2462"}], "title": "14.3. Obtaining an aggregatable report\u2019s shared info"}, {"refs": [{"id": "ref-for-ordered-map\u2462\u2463"}, {"id": "ref-for-ordered-map\u2462\u2464"}, {"id": "ref-for-ordered-map\u2462\u2465"}], "title": "14.4. Obtaining an aggregatable report\u2019s aggregation service payloads"}, {"refs": [{"id": "ref-for-ordered-map\u2462\u2466"}, {"id": "ref-for-ordered-map\u2462\u2467"}], "title": "14.5. Serialize attribution report body"}, {"refs": [{"id": "ref-for-ordered-map\u2462\u2468"}], "title": "14.6. Serialize attribution debug report body"}, {"refs": [{"id": "ref-for-ordered-map\u2463\u24ea"}], "title": "16.2. Handle trigger verification"}], "external": true};
window.dfnpanelData['692595fe'] = {"dfnID": "692595fe", "url": "https://infra.spec.whatwg.org/#ordered-set", "dfnText": "ordered set", "refSections": [{"refs": [{"id": "ref-for-ordered-set"}, {"id": "ref-for-ordered-set\u2460"}], "title": "3. Network monkeypatches"}, {"refs": [{"id": "ref-for-ordered-set\u2461"}], "title": "7.3. Randomized source response"}, {"refs": [{"id": "ref-for-ordered-set\u2462"}], "title": "7.4. Attribution filtering"}, {"refs": [{"id": "ref-for-ordered-set\u2463"}, {"id": "ref-for-ordered-set\u2464"}, {"id": "ref-for-ordered-set\u2465"}], "title": "7.8. Attribution source"}, {"refs": [{"id": "ref-for-ordered-set\u2466"}], "title": "7.9. Aggregatable trigger data"}, {"refs": [{"id": "ref-for-ordered-set\u2467"}], "title": "7.12. Aggregation coordinator"}, {"refs": [{"id": "ref-for-ordered-set\u2468"}], "title": "7.14. Attribution trigger"}, {"refs": [{"id": "ref-for-ordered-set\u2460\u24ea"}], "title": "7.16. Event-level report"}, {"refs": [{"id": "ref-for-ordered-set\u2460\u2460"}, {"id": "ref-for-ordered-set\u2460\u2461"}, {"id": "ref-for-ordered-set\u2460\u2462"}, {"id": "ref-for-ordered-set\u2460\u2463"}], "title": "8. Storage"}, {"refs": [{"id": "ref-for-ordered-set\u2460\u2464"}], "title": "11.4. Parsing filter data"}, {"refs": [{"id": "ref-for-ordered-set\u2460\u2465"}], "title": "11.8. Obtaining a randomized response"}, {"refs": [{"id": "ref-for-ordered-set\u2460\u2466"}, {"id": "ref-for-ordered-set\u2460\u2467"}], "title": "12.1. Obtaining a randomized source response"}, {"refs": [{"id": "ref-for-ordered-set\u2460\u2468"}], "title": "12.3. Parsing source-registration JSON"}, {"refs": [{"id": "ref-for-ordered-set\u2461\u24ea"}, {"id": "ref-for-ordered-set\u2461\u2460"}, {"id": "ref-for-ordered-set\u2461\u2461"}, {"id": "ref-for-ordered-set\u2461\u2462"}, {"id": "ref-for-ordered-set\u2461\u2463"}], "title": "12.4. Processing an attribution source"}, {"refs": [{"id": "ref-for-ordered-set\u2461\u2464"}, {"id": "ref-for-ordered-set\u2461\u2465"}], "title": "13.1. Creating an attribution trigger"}, {"refs": [{"id": "ref-for-ordered-set\u2461\u2466"}, {"id": "ref-for-ordered-set\u2461\u2467"}], "title": "13.4. Should processing be blocked by reporting-origin limit"}, {"refs": [{"id": "ref-for-ordered-set\u2461\u2468"}], "title": "15. Cross App and Web Algorithms"}], "external": true};
window.dfnpanelData['0a78af08'] = {"dfnID": "0a78af08", "url": "https://infra.spec.whatwg.org/#parse-json-bytes-to-an-infra-value", "dfnText": "parse json bytes to an infra value", "refSections": [{"refs": [{"id": "ref-for-parse-json-bytes-to-an-infra-value"}], "title": "12.3. Parsing source-registration JSON"}, {"refs": [{"id": "ref-for-parse-json-bytes-to-an-infra-value\u2460"}], "title": "13.1. Creating an attribution trigger"}], "external": true};
window.dfnpanelData['99c988d6'] = {"dfnID": "99c988d6", "url": "https://infra.spec.whatwg.org/#list-remove", "dfnText": "remove (for list)", "refSections": [{"refs": [{"id": "ref-for-list-remove"}, {"id": "ref-for-list-remove\u2460"}, {"id": "ref-for-list-remove\u2461"}], "title": "6. Clear Site Data integration"}, {"refs": [{"id": "ref-for-list-remove\u2462"}], "title": "12.3. Parsing source-registration JSON"}, {"refs": [{"id": "ref-for-list-remove\u2463"}, {"id": "ref-for-list-remove\u2464"}], "title": "12.4. Processing an attribution source"}, {"refs": [{"id": "ref-for-list-remove\u2465"}], "title": "13.9. Triggering event-level attribution"}, {"refs": [{"id": "ref-for-list-remove\u2466"}, {"id": "ref-for-list-remove\u2467"}, {"id": "ref-for-list-remove\u2468"}], "title": "13.11. Triggering attribution"}, {"refs": [{"id": "ref-for-list-remove\u2460\u24ea"}, {"id": "ref-for-list-remove\u2460\u2460"}], "title": "14.10. Issuing a report request"}], "external": true};
window.dfnpanelData['7d4424b2'] = {"dfnID": "7d4424b2", "url": "https://infra.spec.whatwg.org/#map-remove", "dfnText": "remove (for map)", "refSections": [{"refs": [{"id": "ref-for-map-remove"}], "title": "11.4. Parsing filter data"}], "external": true};
window.dfnpanelData['4c94dd02'] = {"dfnID": "4c94dd02", "url": "https://infra.spec.whatwg.org/#serialize-an-infra-value-to-a-json-string", "dfnText": "serialize an infra value to a json string", "refSections": [{"refs": [{"id": "ref-for-serialize-an-infra-value-to-a-json-string"}], "title": "14.3. Obtaining an aggregatable report\u2019s shared info"}], "external": true};
window.dfnpanelData['4c07280e'] = {"dfnID": "4c07280e", "url": "https://infra.spec.whatwg.org/#serialize-an-infra-value-to-json-bytes", "dfnText": "serialize an infra value to json bytes", "refSections": [{"refs": [{"id": "ref-for-serialize-an-infra-value-to-json-bytes"}, {"id": "ref-for-serialize-an-infra-value-to-json-bytes\u2460"}], "title": "14.5. Serialize attribution report body"}, {"refs": [{"id": "ref-for-serialize-an-infra-value-to-json-bytes\u2461"}], "title": "14.6. Serialize attribution debug report body"}], "external": true};
window.dfnpanelData['15e48c39'] = {"dfnID": "15e48c39", "url": "https://infra.spec.whatwg.org/#ordered-set", "dfnText": "set", "refSections": [{"refs": [{"id": "ref-for-ordered-set"}, {"id": "ref-for-ordered-set\u2460"}], "title": "3. Network monkeypatches"}, {"refs": [{"id": "ref-for-ordered-set\u2461"}], "title": "7.3. Randomized source response"}, {"refs": [{"id": "ref-for-ordered-set\u2462"}], "title": "7.4. Attribution filtering"}, {"refs": [{"id": "ref-for-ordered-set\u2463"}, {"id": "ref-for-ordered-set\u2464"}, {"id": "ref-for-ordered-set\u2465"}], "title": "7.8. Attribution source"}, {"refs": [{"id": "ref-for-ordered-set\u2466"}], "title": "7.9. Aggregatable trigger data"}, {"refs": [{"id": "ref-for-ordered-set\u2467"}], "title": "7.12. Aggregation coordinator"}, {"refs": [{"id": "ref-for-ordered-set\u2468"}], "title": "7.14. Attribution trigger"}, {"refs": [{"id": "ref-for-ordered-set\u2460\u24ea"}], "title": "7.16. Event-level report"}, {"refs": [{"id": "ref-for-ordered-set\u2460\u2460"}, {"id": "ref-for-ordered-set\u2460\u2461"}, {"id": "ref-for-ordered-set\u2460\u2462"}, {"id": "ref-for-ordered-set\u2460\u2463"}], "title": "8. Storage"}, {"refs": [{"id": "ref-for-ordered-set\u2460\u2464"}], "title": "11.4. Parsing filter data"}, {"refs": [{"id": "ref-for-ordered-set\u2460\u2465"}], "title": "11.8. Obtaining a randomized response"}, {"refs": [{"id": "ref-for-ordered-set\u2460\u2466"}, {"id": "ref-for-ordered-set\u2460\u2467"}], "title": "12.1. Obtaining a randomized source response"}, {"refs": [{"id": "ref-for-ordered-set\u2460\u2468"}], "title": "12.3. Parsing source-registration JSON"}, {"refs": [{"id": "ref-for-ordered-set\u2461\u24ea"}, {"id": "ref-for-ordered-set\u2461\u2460"}, {"id": "ref-for-ordered-set\u2461\u2461"}, {"id": "ref-for-ordered-set\u2461\u2462"}, {"id": "ref-for-ordered-set\u2461\u2463"}], "title": "12.4. Processing an attribution source"}, {"refs": [{"id": "ref-for-ordered-set\u2461\u2464"}, {"id": "ref-for-ordered-set\u2461\u2465"}], "title": "13.1. Creating an attribution trigger"}, {"refs": [{"id": "ref-for-ordered-set\u2461\u2466"}, {"id": "ref-for-ordered-set\u2461\u2467"}], "title": "13.4. Should processing be blocked by reporting-origin limit"}, {"refs": [{"id": "ref-for-ordered-set\u2461\u2468"}], "title": "15. Cross App and Web Algorithms"}], "external": true};
window.dfnpanelData['0e6b2056'] = {"dfnID": "0e6b2056", "url": "https://infra.spec.whatwg.org/#map-set", "dfnText": "set (for map)", "refSections": [{"refs": [{"id": "ref-for-map-set"}, {"id": "ref-for-map-set\u2460"}], "title": "2.2. Window open steps"}, {"refs": [{"id": "ref-for-map-set\u2461"}], "title": "3. Network monkeypatches"}, {"refs": [{"id": "ref-for-map-set\u2462"}], "title": "11.4. Parsing filter data"}, {"refs": [{"id": "ref-for-map-set\u2463"}, {"id": "ref-for-map-set\u2464"}], "title": "12.3. Parsing source-registration JSON"}, {"refs": [{"id": "ref-for-map-set\u2465"}, {"id": "ref-for-map-set\u2466"}, {"id": "ref-for-map-set\u2467"}, {"id": "ref-for-map-set\u2468"}], "title": "12.4. Processing an attribution source"}, {"refs": [{"id": "ref-for-map-set\u2460\u24ea"}], "title": "13.6. Creating aggregatable contributions"}, {"refs": [{"id": "ref-for-map-set\u2460\u2460"}, {"id": "ref-for-map-set\u2460\u2461"}, {"id": "ref-for-map-set\u2460\u2462"}, {"id": "ref-for-map-set\u2460\u2463"}, {"id": "ref-for-map-set\u2460\u2464"}, {"id": "ref-for-map-set\u2460\u2465"}, {"id": "ref-for-map-set\u2460\u2466"}, {"id": "ref-for-map-set\u2460\u2467"}, {"id": "ref-for-map-set\u2460\u2468"}, {"id": "ref-for-map-set\u2461\u24ea"}, {"id": "ref-for-map-set\u2461\u2460"}], "title": "13.8. Obtaining debug data on trigger registration"}, {"refs": [{"id": "ref-for-map-set\u2461\u2461"}, {"id": "ref-for-map-set\u2461\u2462"}, {"id": "ref-for-map-set\u2461\u2463"}], "title": "14.3. Obtaining an aggregatable report\u2019s shared info"}, {"refs": [{"id": "ref-for-map-set\u2461\u2464"}], "title": "14.4. Obtaining an aggregatable report\u2019s aggregation service payloads"}, {"refs": [{"id": "ref-for-map-set\u2461\u2465"}, {"id": "ref-for-map-set\u2461\u2466"}, {"id": "ref-for-map-set\u2461\u2467"}, {"id": "ref-for-map-set\u2461\u2468"}], "title": "14.5. Serialize attribution report body"}], "external": true};
window.dfnpanelData['0204d188'] = {"dfnID": "0204d188", "url": "https://infra.spec.whatwg.org/#list-size", "dfnText": "size (for list)", "refSections": [{"refs": [{"id": "ref-for-list-size"}, {"id": "ref-for-list-size\u2460"}, {"id": "ref-for-list-size\u2461"}], "title": "9. Constants"}, {"refs": [{"id": "ref-for-list-size\u2462"}], "title": "10. Vendor-Specific Values"}, {"refs": [{"id": "ref-for-list-size\u2463"}], "title": "11.3. Serialize attribution destinations"}, {"refs": [{"id": "ref-for-list-size\u2464"}], "title": "11.4. Parsing filter data"}, {"refs": [{"id": "ref-for-list-size\u2465"}], "title": "12.1. Obtaining a randomized source response"}, {"refs": [{"id": "ref-for-list-size\u2466"}, {"id": "ref-for-list-size\u2467"}, {"id": "ref-for-list-size\u2468"}], "title": "12.3. Parsing source-registration JSON"}, {"refs": [{"id": "ref-for-list-size\u2460\u24ea"}, {"id": "ref-for-list-size\u2460\u2460"}, {"id": "ref-for-list-size\u2460\u2461"}, {"id": "ref-for-list-size\u2460\u2462"}], "title": "12.4. Processing an attribution source"}, {"refs": [{"id": "ref-for-list-size\u2460\u2463"}], "title": "13.1. Creating an attribution trigger"}, {"refs": [{"id": "ref-for-list-size\u2460\u2464"}], "title": "13.3. Should attribution be blocked by attribution rate limit"}, {"refs": [{"id": "ref-for-list-size\u2460\u2465"}, {"id": "ref-for-list-size\u2460\u2466"}], "title": "13.4. Should processing be blocked by reporting-origin limit"}, {"refs": [{"id": "ref-for-list-size\u2460\u2467"}], "title": "13.9. Triggering event-level attribution"}, {"refs": [{"id": "ref-for-list-size\u2460\u2468"}, {"id": "ref-for-list-size\u2461\u24ea"}], "title": "13.16. Generating randomized null reports"}, {"refs": [{"id": "ref-for-list-size\u2461\u2460"}], "title": "16.1. Initiate trigger verification"}, {"refs": [{"id": "ref-for-list-size\u2461\u2461"}, {"id": "ref-for-list-size\u2461\u2462"}, {"id": "ref-for-list-size\u2461\u2463"}, {"id": "ref-for-list-size\u2461\u2464"}], "title": "16.2. Handle trigger verification"}, {"refs": [{"id": "ref-for-list-size\u2461\u2465"}], "title": "19.2.1. Event-level reports"}], "external": true};
window.dfnpanelData['653d0848'] = {"dfnID": "653d0848", "url": "https://infra.spec.whatwg.org/#map-size", "dfnText": "size (for map)", "refSections": [{"refs": [{"id": "ref-for-map-size"}], "title": "9. Constants"}, {"refs": [{"id": "ref-for-map-size\u2460"}, {"id": "ref-for-map-size\u2461"}], "title": "10. Vendor-Specific Values"}, {"refs": [{"id": "ref-for-map-size\u2462"}], "title": "11.4. Parsing filter data"}, {"refs": [{"id": "ref-for-map-size\u2463"}], "title": "12.3. Parsing source-registration JSON"}, {"refs": [{"id": "ref-for-map-size\u2464"}], "title": "13.1. Creating an attribution trigger"}], "external": true};
window.dfnpanelData['5ecc2082'] = {"dfnID": "5ecc2082", "url": "https://infra.spec.whatwg.org/#list-sort-in-ascending-order", "dfnText": "sort in ascending order", "refSections": [{"refs": [{"id": "ref-for-list-sort-in-ascending-order"}, {"id": "ref-for-list-sort-in-ascending-order\u2460"}], "title": "13.9. Triggering event-level attribution"}], "external": true};
window.dfnpanelData['25d7533d'] = {"dfnID": "25d7533d", "url": "https://infra.spec.whatwg.org/#list-sort-in-descending-order", "dfnText": "sort in descending order", "refSections": [{"refs": [{"id": "ref-for-list-sort-in-descending-order"}], "title": "13.11. Triggering attribution"}], "external": true};
window.dfnpanelData['23cac254'] = {"dfnID": "23cac254", "url": "https://infra.spec.whatwg.org/#split-on-ascii-whitespace", "dfnText": "split a string on ascii whitespace", "refSections": [{"refs": [{"id": "ref-for-split-on-ascii-whitespace"}], "title": "11.12. Making a background attributionsrc request"}], "external": true};
window.dfnpanelData['54627f47'] = {"dfnID": "54627f47", "url": "https://infra.spec.whatwg.org/#string-starts-with", "dfnText": "starts with", "refSections": [{"refs": [{"id": "ref-for-string-starts-with"}], "title": "11.4. Parsing filter data"}], "external": true};
window.dfnpanelData['0698d556'] = {"dfnID": "0698d556", "url": "https://infra.spec.whatwg.org/#string", "dfnText": "string", "refSections": [{"refs": [{"id": "ref-for-string"}, {"id": "ref-for-string\u2460"}, {"id": "ref-for-string\u2461"}], "title": "2.1. API for elements"}, {"refs": [{"id": "ref-for-string\u2462"}, {"id": "ref-for-string\u2463"}, {"id": "ref-for-string\u2464"}], "title": "3. Network monkeypatches"}, {"refs": [{"id": "ref-for-string\u2465"}, {"id": "ref-for-string\u2466"}], "title": "7.4. Attribution filtering"}, {"refs": [{"id": "ref-for-string\u2467"}, {"id": "ref-for-string\u2468"}], "title": "7.8. Attribution source"}, {"refs": [{"id": "ref-for-string\u2460\u24ea"}], "title": "7.9. Aggregatable trigger data"}, {"refs": [{"id": "ref-for-string\u2460\u2460"}], "title": "7.14. Attribution trigger"}, {"refs": [{"id": "ref-for-string\u2460\u2461"}], "title": "7.15. Attribution report"}, {"refs": [{"id": "ref-for-string\u2460\u2462"}], "title": "7.24. Trigger verification metadata"}, {"refs": [{"id": "ref-for-string\u2460\u2463"}, {"id": "ref-for-string\u2460\u2464"}, {"id": "ref-for-string\u2460\u2465"}, {"id": "ref-for-string\u2460\u2466"}], "title": "11.2. Parsing JSON fields"}, {"refs": [{"id": "ref-for-string\u2460\u2467"}], "title": "11.3. Serialize attribution destinations"}, {"refs": [{"id": "ref-for-string\u2460\u2468"}], "title": "11.4. Parsing filter data"}, {"refs": [{"id": "ref-for-string\u2461\u24ea"}], "title": "11.9. Parsing aggregation key piece"}, {"refs": [{"id": "ref-for-string\u2461\u2460"}, {"id": "ref-for-string\u2461\u2461"}, {"id": "ref-for-string\u2461\u2462"}, {"id": "ref-for-string\u2461\u2463"}, {"id": "ref-for-string\u2461\u2464"}, {"id": "ref-for-string\u2461\u2465"}], "title": "12.3. Parsing source-registration JSON"}, {"refs": [{"id": "ref-for-string\u2461\u2466"}, {"id": "ref-for-string\u2461\u2467"}, {"id": "ref-for-string\u2461\u2468"}, {"id": "ref-for-string\u2462\u24ea"}], "title": "13.1. Creating an attribution trigger"}, {"refs": [{"id": "ref-for-string\u2462\u2460"}, {"id": "ref-for-string\u2462\u2461"}], "title": "14.3. Obtaining an aggregatable report\u2019s shared info"}, {"refs": [{"id": "ref-for-string\u2462\u2462"}], "title": "14.4. Obtaining an aggregatable report\u2019s aggregation service payloads"}, {"refs": [{"id": "ref-for-string\u2462\u2463"}], "title": "14.7. Get report request URL"}, {"refs": [{"id": "ref-for-string\u2462\u2464"}], "title": "15. Cross App and Web Algorithms"}], "external": true};
window.dfnpanelData['984221ca'] = {"dfnID": "984221ca", "url": "https://infra.spec.whatwg.org/#struct", "dfnText": "struct", "refSections": [{"refs": [{"id": "ref-for-struct"}], "title": "7.1. Trigger state"}, {"refs": [{"id": "ref-for-struct\u2460"}], "title": "7.2. Randomized response output configuration"}, {"refs": [{"id": "ref-for-struct\u2461"}], "title": "7.4. Attribution filtering"}, {"refs": [{"id": "ref-for-struct\u2462"}], "title": "7.7. Report window"}, {"refs": [{"id": "ref-for-struct\u2463"}, {"id": "ref-for-struct\u2464"}], "title": "7.8. Attribution source"}, {"refs": [{"id": "ref-for-struct\u2465"}], "title": "7.9. Aggregatable trigger data"}, {"refs": [{"id": "ref-for-struct\u2466"}], "title": "7.10. Aggregatable dedup key"}, {"refs": [{"id": "ref-for-struct\u2467"}], "title": "7.11. Event-level trigger configuration"}, {"refs": [{"id": "ref-for-struct\u2468"}], "title": "7.14. Attribution trigger"}, {"refs": [{"id": "ref-for-struct\u2460\u24ea"}], "title": "7.15. Attribution report"}, {"refs": [{"id": "ref-for-struct\u2460\u2460"}], "title": "7.17. Aggregatable contribution"}, {"refs": [{"id": "ref-for-struct\u2460\u2461"}], "title": "7.19. Attribution rate-limits"}, {"refs": [{"id": "ref-for-struct\u2460\u2462"}], "title": "7.20. Attribution debug data"}, {"refs": [{"id": "ref-for-struct\u2460\u2463"}], "title": "7.21. Attribution debug report"}, {"refs": [{"id": "ref-for-struct\u2460\u2464"}], "title": "7.23. Trigger verification"}, {"refs": [{"id": "ref-for-struct\u2460\u2465"}], "title": "7.24. Trigger verification metadata"}, {"refs": [{"id": "ref-for-struct\u2460\u2466"}], "title": "15. Cross App and Web Algorithms"}], "external": true};
window.dfnpanelData['0e8de730'] = {"dfnID": "0e8de730", "url": "https://infra.spec.whatwg.org/#tuple", "dfnText": "tuple", "refSections": [{"refs": [{"id": "ref-for-tuple"}], "title": "7.25. Triggering result"}, {"refs": [{"id": "ref-for-tuple\u2460"}], "title": "10. Vendor-Specific Values"}, {"refs": [{"id": "ref-for-tuple\u2461"}], "title": "11.5. Parsing filters"}], "external": true};
window.dfnpanelData['5eb733b4'] = {"dfnID": "5eb733b4", "url": "https://infra.spec.whatwg.org/#set-union", "dfnText": "union", "refSections": [{"refs": [{"id": "ref-for-set-union"}, {"id": "ref-for-set-union\u2460"}, {"id": "ref-for-set-union\u2461"}], "title": "12.4. Processing an attribution source"}, {"refs": [{"id": "ref-for-set-union\u2462"}, {"id": "ref-for-set-union\u2463"}], "title": "13.4. Should processing be blocked by reporting-origin limit"}], "external": true};
window.dfnpanelData['802b0fdd'] = {"dfnID": "802b0fdd", "url": "https://infra.spec.whatwg.org/#map-value", "dfnText": "value", "refSections": [{"refs": [{"id": "ref-for-map-value"}], "title": "7.4. Attribution filtering"}, {"refs": [{"id": "ref-for-map-value\u2460"}], "title": "7.8. Attribution source"}, {"refs": [{"id": "ref-for-map-value\u2461"}], "title": "7.14. Attribution trigger"}, {"refs": [{"id": "ref-for-map-value\u2462"}], "title": "9. Constants"}], "external": true};
window.dfnpanelData['bc273a04'] = {"dfnID": "bc273a04", "url": "https://w3c.github.io/mediacapture-main/#dfn-source", "dfnText": "source", "refSections": [{"refs": [{"id": "ref-for-dfn-source"}], "title": "12.4. Processing an attribution source"}], "external": true};
window.dfnpanelData['1570624a'] = {"dfnID": "1570624a", "url": "https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature-default-allowlist", "dfnText": "default allowlist", "refSections": [{"refs": [{"id": "ref-for-policy-controlled-feature-default-allowlist"}], "title": "5. Permissions Policy integration"}], "external": true};
window.dfnpanelData['cc890cc1'] = {"dfnID": "cc890cc1", "url": "https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature", "dfnText": "policy-controlled feature", "refSections": [{"refs": [{"id": "ref-for-policy-controlled-feature"}], "title": "5. Permissions Policy integration"}], "external": true};
window.dfnpanelData['3bda058c'] = {"dfnID": "3bda058c", "url": "https://wicg.github.io/trust-token-api/#generate-masked-tokens", "dfnText": "generate masked tokens", "refSections": [{"refs": [{"id": "ref-for-generate-masked-tokens"}], "title": "16.1. Initiate trigger verification"}], "external": true};
window.dfnpanelData['1b89ceb7'] = {"dfnID": "1b89ceb7", "url": "https://wicg.github.io/trust-token-api/#look-up-the-key-commitments", "dfnText": "look up the key commitments", "refSections": [{"refs": [{"id": "ref-for-look-up-the-key-commitments"}], "title": "16.1. Initiate trigger verification"}, {"refs": [{"id": "ref-for-look-up-the-key-commitments\u2460"}], "title": "16.2. Handle trigger verification"}], "external": true};
window.dfnpanelData['560fad62'] = {"dfnID": "560fad62", "url": "https://wicg.github.io/trust-token-api/#sec-private-state-token-crypto-version", "dfnText": "sec-private-state-token-crypto-version", "refSections": [{"refs": [{"id": "ref-for-sec-private-state-token-crypto-version"}], "title": "16.1. Initiate trigger verification"}], "external": true};
window.dfnpanelData['24c1f4ff'] = {"dfnID": "24c1f4ff", "url": "https://wicg.github.io/trust-token-api/#unmask-tokens", "dfnText": "unmask tokens", "refSections": [{"refs": [{"id": "ref-for-unmask-tokens"}], "title": "16.2. Handle trigger verification"}], "external": true};
window.dfnpanelData['273241b0'] = {"dfnID": "273241b0", "url": "https://www.w3.org/TR/pub-manifest/#dfn-url", "dfnText": "urls", "refSections": [{"refs": [{"id": "ref-for-dfn-url"}, {"id": "ref-for-dfn-url\u2460"}, {"id": "ref-for-dfn-url\u2461"}], "title": "2.1. API for elements"}], "external": true};
window.dfnpanelData['96dabee7'] = {"dfnID": "96dabee7", "url": "https://w3c.github.io/webappsec-secure-contexts/#potentially-trustworthy-origin", "dfnText": "potentially trustworthy origin", "refSections": [{"refs": [{"id": "ref-for-potentially-trustworthy-origin"}], "title": "11.3. Serialize attribution destinations"}], "external": true};
window.dfnpanelData['67130339'] = {"dfnID": "67130339", "url": "https://storage.spec.whatwg.org/#storage-bottle", "dfnText": "storage bottle", "refSections": [{"refs": [{"id": "ref-for-storage-bottle"}], "title": "8. Storage"}], "external": true};
window.dfnpanelData['c8a66c76'] = {"dfnID": "c8a66c76", "url": "https://tools.ietf.org/html/rfc8941#name-lists", "dfnText": "list", "refSections": [{"refs": [{"id": "ref-for-name-lists"}, {"id": "ref-for-name-lists\u2460"}], "title": "16. Report Verification Algorithms"}], "external": true};
window.dfnpanelData['5b77f894'] = {"dfnID": "5b77f894", "url": "https://tools.ietf.org/html/rfc8941#name-parsing-a-list", "dfnText": "parse a list", "refSections": [{"refs": [{"id": "ref-for-name-parsing-a-list"}], "title": "16.2. Handle trigger verification"}], "external": true};
window.dfnpanelData['70481778'] = {"dfnID": "70481778", "url": "https://tools.ietf.org/html/rfc8941#name-parse-a-string", "dfnText": "parse a string", "refSections": [{"refs": [{"id": "ref-for-name-parse-a-string"}], "title": "16.2. Handle trigger verification"}], "external": true};
window.dfnpanelData['20b4e45d'] = {"dfnID": "20b4e45d", "url": "https://tools.ietf.org/html/rfc8941#name-serializing-a-string", "dfnText": "serialize a string", "refSections": [{"refs": [{"id": "ref-for-name-serializing-a-string"}], "title": "16.1. Initiate trigger verification"}], "external": true};
window.dfnpanelData['2ec30805'] = {"dfnID": "2ec30805", "url": "https://tools.ietf.org/html/rfc8941#name-strings", "dfnText": "string", "refSections": [{"refs": [{"id": "ref-for-name-strings"}, {"id": "ref-for-name-strings\u2460"}, {"id": "ref-for-name-strings\u2461"}], "title": "16. Report Verification Algorithms"}], "external": true};
window.dfnpanelData['b8e46276'] = {"dfnID": "b8e46276", "url": "https://tools.ietf.org/html/rfc8941#name-introduction", "dfnText": "structured header", "refSections": [{"refs": [{"id": "ref-for-name-introduction"}], "title": "16. Report Verification Algorithms"}], "external": true};
window.dfnpanelData['b85ee3be'] = {"dfnID": "b85ee3be", "url": "https://url.spec.whatwg.org/#concept-url-host", "dfnText": "host", "refSections": [{"refs": [{"id": "ref-for-concept-url-host"}], "title": "14.4. Obtaining an aggregatable report\u2019s aggregation service payloads"}, {"refs": [{"id": "ref-for-concept-url-host\u2460"}], "title": "14.7. Get report request URL"}], "external": true};
window.dfnpanelData['959ad97b'] = {"dfnID": "959ad97b", "url": "https://url.spec.whatwg.org/#concept-url-origin", "dfnText": "origin", "refSections": [{"refs": [{"id": "ref-for-concept-url-origin"}, {"id": "ref-for-concept-url-origin\u2460"}], "title": "11.12. Making a background attributionsrc request"}, {"refs": [{"id": "ref-for-concept-url-origin\u2461"}, {"id": "ref-for-concept-url-origin\u2462"}], "title": "12.3. Parsing source-registration JSON"}, {"refs": [{"id": "ref-for-concept-url-origin\u2463"}, {"id": "ref-for-concept-url-origin\u2464"}], "title": "13.1. Creating an attribution trigger"}, {"refs": [{"id": "ref-for-concept-url-origin\u2465"}], "title": "14.8. Creating a report request"}, {"refs": [{"id": "ref-for-concept-url-origin\u2466"}], "title": "16.1. Initiate trigger verification"}, {"refs": [{"id": "ref-for-concept-url-origin\u2467"}, {"id": "ref-for-concept-url-origin\u2468"}], "title": "16.2. Handle trigger verification"}], "external": true};
window.dfnpanelData['c0868016'] = {"dfnID": "c0868016", "url": "https://url.spec.whatwg.org/#concept-url-path", "dfnText": "path", "refSections": [{"refs": [{"id": "ref-for-concept-url-path"}], "title": "14.4. Obtaining an aggregatable report\u2019s aggregation service payloads"}, {"refs": [{"id": "ref-for-concept-url-path\u2460"}], "title": "14.7. Get report request URL"}], "external": true};
window.dfnpanelData['8f69ce41'] = {"dfnID": "8f69ce41", "url": "https://url.spec.whatwg.org/#string-percent-decode", "dfnText": "percent-decode", "refSections": [{"refs": [{"id": "ref-for-string-percent-decode"}], "title": "2.2. Window open steps"}], "external": true};
window.dfnpanelData['852ada56'] = {"dfnID": "852ada56", "url": "https://url.spec.whatwg.org/#concept-url-port", "dfnText": "port", "refSections": [{"refs": [{"id": "ref-for-concept-url-port"}], "title": "14.4. Obtaining an aggregatable report\u2019s aggregation service payloads"}, {"refs": [{"id": "ref-for-concept-url-port\u2460"}], "title": "14.7. Get report request URL"}], "external": true};
window.dfnpanelData['3a711be7'] = {"dfnID": "3a711be7", "url": "https://url.spec.whatwg.org/#concept-url-scheme", "dfnText": "scheme", "refSections": [{"refs": [{"id": "ref-for-concept-url-scheme"}], "title": "11.12. Making a background attributionsrc request"}, {"refs": [{"id": "ref-for-concept-url-scheme\u2460"}], "title": "14.4. Obtaining an aggregatable report\u2019s aggregation service payloads"}, {"refs": [{"id": "ref-for-concept-url-scheme\u2461"}], "title": "14.7. Get report request URL"}], "external": true};
window.dfnpanelData['dcffbccd'] = {"dfnID": "dcffbccd", "url": "https://url.spec.whatwg.org/#concept-url", "dfnText": "url", "refSections": [{"refs": [{"id": "ref-for-concept-url"}], "title": "2.2. Window open steps"}, {"refs": [{"id": "ref-for-concept-url\u2460"}, {"id": "ref-for-concept-url\u2461"}], "title": "11.12. Making a background attributionsrc request"}, {"refs": [{"id": "ref-for-concept-url\u2462"}], "title": "14.4. Obtaining an aggregatable report\u2019s aggregation service payloads"}, {"refs": [{"id": "ref-for-concept-url\u2463"}], "title": "14.7. Get report request URL"}, {"refs": [{"id": "ref-for-concept-url\u2464"}], "title": "14.8. Creating a report request"}, {"refs": [{"id": "ref-for-concept-url\u2465"}], "title": "15. Cross App and Web Algorithms"}], "external": true};
window.dfnpanelData['ca3ca4ae'] = {"dfnID": "ca3ca4ae", "url": "https://url.spec.whatwg.org/#concept-url-parser", "dfnText": "url parser", "refSections": [{"refs": [{"id": "ref-for-concept-url-parser"}], "title": "12.3. Parsing source-registration JSON"}, {"refs": [{"id": "ref-for-concept-url-parser\u2460"}], "title": "13.1. Creating an attribution trigger"}, {"refs": [{"id": "ref-for-concept-url-parser\u2461"}], "title": "15. Cross App and Web Algorithms"}], "external": true};
window.dfnpanelData['a8c7461b'] = {"dfnID": "a8c7461b", "url": "https://url.spec.whatwg.org/#concept-url", "dfnText": "url record", "refSections": [{"refs": [{"id": "ref-for-concept-url"}], "title": "2.2. Window open steps"}, {"refs": [{"id": "ref-for-concept-url\u2460"}, {"id": "ref-for-concept-url\u2461"}], "title": "11.12. Making a background attributionsrc request"}, {"refs": [{"id": "ref-for-concept-url\u2462"}], "title": "14.4. Obtaining an aggregatable report\u2019s aggregation service payloads"}, {"refs": [{"id": "ref-for-concept-url\u2463"}], "title": "14.7. Get report request URL"}, {"refs": [{"id": "ref-for-concept-url\u2464"}], "title": "14.8. Creating a report request"}, {"refs": [{"id": "ref-for-concept-url\u2465"}], "title": "15. Cross App and Web Algorithms"}], "external": true};
window.dfnpanelData['5442ea33'] = {"dfnID": "5442ea33", "url": "https://url.spec.whatwg.org/#concept-url-serializer", "dfnText": "url serializer", "refSections": [{"refs": [{"id": "ref-for-concept-url-serializer"}], "title": "16.2. Handle trigger verification"}], "external": true};
window.dfnpanelData['d4b32370'] = {"dfnID": "d4b32370", "url": "https://wicg.github.io/uuid/#dfn-generate-a-random-uuid", "dfnText": "generate a random uuid", "refSections": [{"refs": [{"id": "ref-for-dfn-generate-a-random-uuid"}], "title": "7.23. Trigger verification"}, {"refs": [{"id": "ref-for-dfn-generate-a-random-uuid\u2460"}], "title": "7.24. Trigger verification metadata"}, {"refs": [{"id": "ref-for-dfn-generate-a-random-uuid\u2461"}], "title": "13.13. Obtaining an event-level report"}, {"refs": [{"id": "ref-for-dfn-generate-a-random-uuid\u2462"}], "title": "13.15. Obtaining an aggregatable report"}, {"refs": [{"id": "ref-for-dfn-generate-a-random-uuid\u2463"}], "title": "13.16. Generating randomized null reports"}, {"refs": [{"id": "ref-for-dfn-generate-a-random-uuid\u2464"}], "title": "16.1. Initiate trigger verification"}], "external": true};
window.dfnpanelData['c8ff8493'] = {"dfnID": "c8ff8493", "url": "https://w3c.github.io/webdriver/#dfn-error-code", "dfnText": "error code", "refSections": [{"refs": [{"id": "ref-for-dfn-error-code"}, {"id": "ref-for-dfn-error-code\u2460"}], "title": "17.1. Set local testing mode"}], "external": true};
window.dfnpanelData['5b668531'] = {"dfnID": "5b668531", "url": "https://w3c.github.io/webdriver/#dfn-getting-properties", "dfnText": "getting a property", "refSections": [{"refs": [{"id": "ref-for-dfn-getting-properties"}], "title": "17.1. Set local testing mode"}], "external": true};
window.dfnpanelData['bb4c269e'] = {"dfnID": "bb4c269e", "url": "https://w3c.github.io/webdriver/#dfn-error", "dfnText": "error", "refSections": [{"refs": [{"id": "ref-for-dfn-error"}, {"id": "ref-for-dfn-error\u2460"}], "title": "17.1. Set local testing mode"}], "external": true};
window.dfnpanelData['09daa25c'] = {"dfnID": "09daa25c", "url": "https://w3c.github.io/webdriver/#dfn-extension-commands", "dfnText": "extension commands", "refSections": [{"refs": [{"id": "ref-for-dfn-extension-commands"}], "title": "17. User-Agent Automation"}], "external": true};
window.dfnpanelData['8da4d1e3'] = {"dfnID": "8da4d1e3", "url": "https://w3c.github.io/webdriver/#dfn-invalid-argument", "dfnText": "invalid argument", "refSections": [{"refs": [{"id": "ref-for-dfn-invalid-argument"}, {"id": "ref-for-dfn-invalid-argument\u2460"}], "title": "17.1. Set local testing mode"}], "external": true};
window.dfnpanelData['82c23298'] = {"dfnID": "82c23298", "url": "https://w3c.github.io/webdriver/#dfn-remote-end-steps", "dfnText": "remote end steps", "refSections": [{"refs": [{"id": "ref-for-dfn-remote-end-steps"}], "title": "17.1. Set local testing mode"}], "external": true};
window.dfnpanelData['4be6272b'] = {"dfnID": "4be6272b", "url": "https://w3c.github.io/webdriver/#dfn-success", "dfnText": "success", "refSections": [{"refs": [{"id": "ref-for-dfn-success"}], "title": "17.1. Set local testing mode"}], "external": true};
window.dfnpanelData['dca2de17'] = {"dfnID": "dca2de17", "url": "https://webidl.spec.whatwg.org/#idl-DOMException", "dfnText": "DOMException", "refSections": [{"refs": [{"id": "ref-for-idl-DOMException"}, {"id": "ref-for-idl-DOMException\u2460"}], "title": "3.2. XMLHttpRequest monkeypatches"}], "external": true};
window.dfnpanelData['797018a7'] = {"dfnID": "797018a7", "url": "https://webidl.spec.whatwg.org/#invalidstateerror", "dfnText": "InvalidStateError", "refSections": [{"refs": [{"id": "ref-for-invalidstateerror"}, {"id": "ref-for-invalidstateerror\u2460"}], "title": "3.2. XMLHttpRequest monkeypatches"}], "external": true};
window.dfnpanelData['b75bb3bd'] = {"dfnID": "b75bb3bd", "url": "https://webidl.spec.whatwg.org/#SecureContext", "dfnText": "SecureContext", "refSections": [{"refs": [{"id": "ref-for-SecureContext"}], "title": "2.1. API for elements"}, {"refs": [{"id": "ref-for-SecureContext\u2460"}], "title": "3. Network monkeypatches"}], "external": true};
window.dfnpanelData['b0d7f3c3'] = {"dfnID": "b0d7f3c3", "url": "https://webidl.spec.whatwg.org/#idl-USVString", "dfnText": "USVString", "refSections": [{"refs": [{"id": "ref-for-idl-USVString"}], "title": "2.1. API for elements"}], "external": true};
window.dfnpanelData['5372cca8'] = {"dfnID": "5372cca8", "url": "https://webidl.spec.whatwg.org/#idl-boolean", "dfnText": "boolean", "refSections": [{"refs": [{"id": "ref-for-idl-boolean"}, {"id": "ref-for-idl-boolean\u2460"}], "title": "3. Network monkeypatches"}], "external": true};
window.dfnpanelData['4013a022'] = {"dfnID": "4013a022", "url": "https://webidl.spec.whatwg.org/#this", "dfnText": "this", "refSections": [{"refs": [{"id": "ref-for-this"}, {"id": "ref-for-this\u2460"}, {"id": "ref-for-this\u2461"}, {"id": "ref-for-this\u2462"}], "title": "3.2. XMLHttpRequest monkeypatches"}, {"refs": [{"id": "ref-for-this\u2463"}], "title": "4. Fenced Frame monkeypatches"}], "external": true};
window.dfnpanelData['5f90bbfb'] = {"dfnID": "5f90bbfb", "url": "https://webidl.spec.whatwg.org/#idl-undefined", "dfnText": "undefined", "refSections": [{"refs": [{"id": "ref-for-idl-undefined"}], "title": "3. Network monkeypatches"}, {"refs": [{"id": "ref-for-idl-undefined\u2460"}], "title": "17.1. Set local testing mode"}], "external": true};
window.dfnpanelData['d06b2b8c'] = {"dfnID": "d06b2b8c", "url": "https://xhr.spec.whatwg.org/#xmlhttprequest", "dfnText": "XMLHttpRequest", "refSections": [{"refs": [{"id": "ref-for-xmlhttprequest"}], "title": "3. Network monkeypatches"}, {"refs": [{"id": "ref-for-xmlhttprequest\u2460"}], "title": "3.2. XMLHttpRequest monkeypatches"}, {"refs": [{"id": "ref-for-xmlhttprequest\u2461"}], "title": "18.2. Opting in to the API"}], "external": true};
window.dfnpanelData['4316437c'] = {"dfnID": "4316437c", "url": "https://xhr.spec.whatwg.org/#dom-xmlhttprequest-send", "dfnText": "send(body)", "refSections": [{"refs": [{"id": "ref-for-dom-xmlhttprequest-send"}], "title": "3.2. XMLHttpRequest monkeypatches"}], "external": true};
window.dfnpanelData['htmlattributionsrcelementutils'] = {"dfnID": "htmlattributionsrcelementutils", "url": "#htmlattributionsrcelementutils", "dfnText": "HTMLAttributionSrcElementUtils", "refSections": [{"refs": [{"id": "ref-for-htmlattributionsrcelementutils"}, {"id": "ref-for-htmlattributionsrcelementutils\u2460"}, {"id": "ref-for-htmlattributionsrcelementutils\u2461"}], "title": "2.1. API for elements"}, {"refs": [{"id": "ref-for-htmlattributionsrcelementutils\u2462"}], "title": "11.12. Making a background attributionsrc request"}], "external": false};
window.dfnpanelData['dom-htmlattributionsrcelementutils-attributionsrc'] = {"dfnID": "dom-htmlattributionsrcelementutils-attributionsrc", "url": "#dom-htmlattributionsrcelementutils-attributionsrc", "dfnText": "attributionSrc", "refSections": [{"refs": [{"id": "ref-for-dom-htmlattributionsrcelementutils-attributionsrc"}, {"id": "ref-for-dom-htmlattributionsrcelementutils-attributionsrc\u2460"}], "title": "2.1. API for elements"}, {"refs": [{"id": "ref-for-dom-htmlattributionsrcelementutils-attributionsrc\u2461"}], "title": "11.12. Making a background attributionsrc request"}, {"refs": [{"id": "ref-for-dom-htmlattributionsrcelementutils-attributionsrc\u2462"}], "title": "18.2. Opting in to the API"}], "external": false};
window.dfnpanelData['element-attrdef-img-attributionsrc'] = {"dfnID": "element-attrdef-img-attributionsrc", "url": "#element-attrdef-img-attributionsrc", "dfnText": "attributionsrc", "refSections": [{"refs": [{"id": "ref-for-element-attrdef-img-attributionsrc"}], "title": "2.1. API for elements"}], "external": false};
window.dfnpanelData['element-attrdef-script-attributionsrc'] = {"dfnID": "element-attrdef-script-attributionsrc", "url": "#element-attrdef-script-attributionsrc", "dfnText": "attributionsrc", "refSections": [{"refs": [{"id": "ref-for-element-attrdef-script-attributionsrc"}], "title": "2.1. API for elements"}], "external": false};
window.dfnpanelData['script-fetch-options-attribution-reporting-eligibility'] = {"dfnID": "script-fetch-options-attribution-reporting-eligibility", "url": "#script-fetch-options-attribution-reporting-eligibility", "dfnText": "\nAttribution Reporting eligibility", "refSections": [{"refs": [{"id": "ref-for-script-fetch-options-attribution-reporting-eligibility"}, {"id": "ref-for-script-fetch-options-attribution-reporting-eligibility\u2460"}], "title": "2.1. API for elements"}], "external": false};
window.dfnpanelData['navigation-params-navigationsourceeligible'] = {"dfnID": "navigation-params-navigationsourceeligible", "url": "#navigation-params-navigationsourceeligible", "dfnText": "navigationSourceEligible", "refSections": [{"refs": [{"id": "ref-for-navigation-params-navigationsourceeligible"}, {"id": "ref-for-navigation-params-navigationsourceeligible\u2460"}], "title": "2.3. Navigation monkeypatches"}], "external": false};
window.dfnpanelData['navigate-navigationsourceeligible'] = {"dfnID": "navigate-navigationsourceeligible", "url": "#navigate-navigationsourceeligible", "dfnText": "\nnavigationSourceEligible", "refSections": [{"refs": [{"id": "ref-for-navigate-navigationsourceeligible"}], "title": "2.1. API for elements"}, {"refs": [{"id": "ref-for-navigate-navigationsourceeligible\u2460"}], "title": "2.2. Window open steps"}], "external": false};
window.dfnpanelData['dictdef-attributionreportingrequestoptions'] = {"dfnID": "dictdef-attributionreportingrequestoptions", "url": "#dictdef-attributionreportingrequestoptions", "dfnText": "AttributionReportingRequestOptions", "refSections": [{"refs": [{"id": "ref-for-dictdef-attributionreportingrequestoptions"}, {"id": "ref-for-dictdef-attributionreportingrequestoptions\u2460"}, {"id": "ref-for-dictdef-attributionreportingrequestoptions\u2461"}, {"id": "ref-for-dictdef-attributionreportingrequestoptions\u2462"}], "title": "3. Network monkeypatches"}], "external": false};
window.dfnpanelData['dom-attributionreportingrequestoptions-eventsourceeligible'] = {"dfnID": "dom-attributionreportingrequestoptions-eventsourceeligible", "url": "#dom-attributionreportingrequestoptions-eventsourceeligible", "dfnText": "eventSourceEligible", "refSections": [{"refs": [{"id": "ref-for-dom-attributionreportingrequestoptions-eventsourceeligible"}], "title": "3. Network monkeypatches"}], "external": false};
window.dfnpanelData['dom-attributionreportingrequestoptions-triggereligible'] = {"dfnID": "dom-attributionreportingrequestoptions-triggereligible", "url": "#dom-attributionreportingrequestoptions-triggereligible", "dfnText": "triggerEligible", "refSections": [{"refs": [{"id": "ref-for-dom-attributionreportingrequestoptions-triggereligible"}], "title": "3. Network monkeypatches"}], "external": false};
window.dfnpanelData['dom-requestinit-attributionreporting'] = {"dfnID": "dom-requestinit-attributionreporting", "url": "#dom-requestinit-attributionreporting", "dfnText": "attributionReporting", "refSections": [{"refs": [{"id": "ref-for-dom-requestinit-attributionreporting"}], "title": "3.1. Fetch monkeypatches"}], "external": false};
window.dfnpanelData['dom-xmlhttprequest-setattributionreporting'] = {"dfnID": "dom-xmlhttprequest-setattributionreporting", "url": "#dom-xmlhttprequest-setattributionreporting", "dfnText": "setAttributionReporting", "refSections": [{"refs": [{"id": "ref-for-dom-xmlhttprequest-setattributionreporting"}], "title": "3.2. XMLHttpRequest monkeypatches"}], "external": false};
window.dfnpanelData['request-attribution-reporting-eligibility'] = {"dfnID": "request-attribution-reporting-eligibility", "url": "#request-attribution-reporting-eligibility", "dfnText": "Attribution Reporting eligibility", "refSections": [{"refs": [{"id": "ref-for-request-attribution-reporting-eligibility"}, {"id": "ref-for-request-attribution-reporting-eligibility\u2460"}], "title": "2.1. API for elements"}, {"refs": [{"id": "ref-for-request-attribution-reporting-eligibility\u2461"}], "title": "2.3. Navigation monkeypatches"}, {"refs": [{"id": "ref-for-request-attribution-reporting-eligibility\u2462"}], "title": "3. Network monkeypatches"}, {"refs": [{"id": "ref-for-request-attribution-reporting-eligibility\u2463"}, {"id": "ref-for-request-attribution-reporting-eligibility\u2464"}, {"id": "ref-for-request-attribution-reporting-eligibility\u2465"}], "title": "3.1. Fetch monkeypatches"}, {"refs": [{"id": "ref-for-request-attribution-reporting-eligibility\u2466"}], "title": "3.2. XMLHttpRequest monkeypatches"}, {"refs": [{"id": "ref-for-request-attribution-reporting-eligibility\u2467"}], "title": "4. Fenced Frame monkeypatches"}, {"refs": [{"id": "ref-for-request-attribution-reporting-eligibility\u2468"}], "title": "11.12. Making a background attributionsrc request"}], "external": false};
window.dfnpanelData['request-trigger-verification-metadata'] = {"dfnID": "request-trigger-verification-metadata", "url": "#request-trigger-verification-metadata", "dfnText": "trigger verification metadata", "refSections": [{"refs": [{"id": "ref-for-request-trigger-verification-metadata"}, {"id": "ref-for-request-trigger-verification-metadata\u2460"}], "title": "11.12. Making a background attributionsrc request"}, {"refs": [{"id": "ref-for-request-trigger-verification-metadata\u2461"}], "title": "16.1. Initiate trigger verification"}, {"refs": [{"id": "ref-for-request-trigger-verification-metadata\u2462"}], "title": "16.2. Handle trigger verification"}], "external": false};
window.dfnpanelData['get-an-eligibility-from-attributionreportingrequestoptions'] = {"dfnID": "get-an-eligibility-from-attributionreportingrequestoptions", "url": "#get-an-eligibility-from-attributionreportingrequestoptions", "dfnText": "get an eligibility from AttributionReportingRequestOptions", "refSections": [{"refs": [{"id": "ref-for-get-an-eligibility-from-attributionreportingrequestoptions"}], "title": "3.1. Fetch monkeypatches"}, {"refs": [{"id": "ref-for-get-an-eligibility-from-attributionreportingrequestoptions\u2460"}], "title": "3.2. XMLHttpRequest monkeypatches"}], "external": false};
window.dfnpanelData['attribution-reporting-eligible'] = {"dfnID": "attribution-reporting-eligible", "url": "#attribution-reporting-eligible", "dfnText": "Attribution-Reporting-Eligible", "refSections": [{"refs": [{"id": "ref-for-attribution-reporting-eligible"}, {"id": "ref-for-attribution-reporting-eligible\u2460"}], "title": "3. Network monkeypatches"}], "external": false};
window.dfnpanelData['eligible-key'] = {"dfnID": "eligible-key", "url": "#eligible-key", "dfnText": "allowed keys", "refSections": [{"refs": [{"id": "ref-for-eligible-key"}], "title": "3. Network monkeypatches"}], "external": false};
window.dfnpanelData['eligible-key-event-source'] = {"dfnID": "eligible-key-event-source", "url": "#eligible-key-event-source", "dfnText": "event-source", "refSections": [{"refs": [{"id": "ref-for-eligible-key-event-source"}, {"id": "ref-for-eligible-key-event-source\u2460"}], "title": "3. Network monkeypatches"}], "external": false};
window.dfnpanelData['eligible-key-navigation-source'] = {"dfnID": "eligible-key-navigation-source", "url": "#eligible-key-navigation-source", "dfnText": "navigation-source", "refSections": [{"refs": [{"id": "ref-for-eligible-key-navigation-source"}], "title": "3. Network monkeypatches"}], "external": false};
window.dfnpanelData['eligible-key-trigger'] = {"dfnID": "eligible-key-trigger", "url": "#eligible-key-trigger", "dfnText": "trigger", "refSections": [{"refs": [{"id": "ref-for-eligible-key-trigger"}, {"id": "ref-for-eligible-key-trigger\u2460"}], "title": "3. Network monkeypatches"}], "external": false};
window.dfnpanelData['obtain-a-dictionary-structured-header-value'] = {"dfnID": "obtain-a-dictionary-structured-header-value", "url": "#obtain-a-dictionary-structured-header-value", "dfnText": "obtain a dictionary structured header value", "refSections": [{"refs": [{"id": "ref-for-obtain-a-dictionary-structured-header-value"}], "title": "3. Network monkeypatches"}, {"refs": [{"id": "ref-for-obtain-a-dictionary-structured-header-value\u2460"}], "title": "15. Cross App and Web Algorithms"}], "external": false};
window.dfnpanelData['set-attribution-reporting-headers'] = {"dfnID": "set-attribution-reporting-headers", "url": "#set-attribution-reporting-headers", "dfnText": "set Attribution Reporting headers", "refSections": [{"refs": [{"id": "ref-for-set-attribution-reporting-headers"}], "title": "3.1. Fetch monkeypatches"}, {"refs": [{"id": "ref-for-set-attribution-reporting-headers\u2460"}], "title": "3.2. XMLHttpRequest monkeypatches"}], "external": false};
window.dfnpanelData['xmlhttprequest-eligibility'] = {"dfnID": "xmlhttprequest-eligibility", "url": "#xmlhttprequest-eligibility", "dfnText": "Attribution Reporting eligibility", "refSections": [{"refs": [{"id": "ref-for-xmlhttprequest-eligibility"}, {"id": "ref-for-xmlhttprequest-eligibility"}], "title": "3.2. XMLHttpRequest monkeypatches"}], "external": false};
window.dfnpanelData['pending-event-attributionreportingenabled'] = {"dfnID": "pending-event-attributionreportingenabled", "url": "#pending-event-attributionreportingenabled", "dfnText": "attributionReportingEnabled", "refSections": [{"refs": [{"id": "ref-for-pending-event-attributionreportingenabled"}, {"id": "ref-for-pending-event-attributionreportingenabled\u2460"}], "title": "4. Fenced Frame monkeypatches"}], "external": false};
window.dfnpanelData['pending-event-contextorigin'] = {"dfnID": "pending-event-contextorigin", "url": "#pending-event-contextorigin", "dfnText": "contextOrigin", "refSections": [{"refs": [{"id": "ref-for-pending-event-contextorigin"}, {"id": "ref-for-pending-event-contextorigin\u2460"}], "title": "4. Fenced Frame monkeypatches"}], "external": false};
window.dfnpanelData['dom-permissionpolicy-attribution-reporting'] = {"dfnID": "dom-permissionpolicy-attribution-reporting", "url": "#dom-permissionpolicy-attribution-reporting", "dfnText": "attribution-reporting", "refSections": [{"refs": [{"id": "ref-for-dom-permissionpolicy-attribution-reporting"}], "title": "4. Fenced Frame monkeypatches"}, {"refs": [{"id": "ref-for-dom-permissionpolicy-attribution-reporting\u2460"}], "title": "11.12. Making a background attributionsrc request"}], "external": false};
window.dfnpanelData['clear-site-data'] = {"dfnID": "clear-site-data", "url": "#clear-site-data", "dfnText": "clear site data", "refSections": [{"refs": [{"id": "ref-for-clear-site-data"}], "title": "6. Clear Site Data integration"}], "external": false};
window.dfnpanelData['trigger-state'] = {"dfnID": "trigger-state", "url": "#trigger-state", "dfnText": "7.1. Trigger state", "refSections": [{"refs": [{"id": "ref-for-trigger-state"}], "title": "7.1. Trigger state"}, {"refs": [{"id": "ref-for-trigger-state"}], "title": "7.3. Randomized source response"}, {"refs": [{"id": "ref-for-trigger-state\u2460"}], "title": "12.1. Obtaining a randomized source response"}, {"refs": [{"id": "ref-for-trigger-state\u2461"}, {"id": "ref-for-trigger-state\u2462"}], "title": "12.4. Processing an attribution source"}], "external": false};
window.dfnpanelData['trigger-state-trigger-data'] = {"dfnID": "trigger-state-trigger-data", "url": "#trigger-state-trigger-data", "dfnText": "trigger data", "refSections": [{"refs": [{"id": "ref-for-trigger-state-trigger-data"}], "title": "12.1. Obtaining a randomized source response"}, {"refs": [{"id": "ref-for-trigger-state-trigger-data\u2460"}], "title": "12.4. Processing an attribution source"}], "external": false};
window.dfnpanelData['trigger-state-report-window'] = {"dfnID": "trigger-state-report-window", "url": "#trigger-state-report-window", "dfnText": "report window", "refSections": [{"refs": [{"id": "ref-for-trigger-state-report-window"}], "title": "12.1. Obtaining a randomized source response"}, {"refs": [{"id": "ref-for-trigger-state-report-window\u2460"}], "title": "12.4. Processing an attribution source"}], "external": false};
window.dfnpanelData['randomized-response-output-configuration'] = {"dfnID": "randomized-response-output-configuration", "url": "#randomized-response-output-configuration", "dfnText": "7.2. Randomized response output configuration", "refSections": [{"refs": [{"id": "ref-for-randomized-response-output-configuration"}], "title": "7.2. Randomized response output configuration"}, {"refs": [{"id": "ref-for-randomized-response-output-configuration"}, {"id": "ref-for-randomized-response-output-configuration\u2460"}, {"id": "ref-for-randomized-response-output-configuration\u2461"}], "title": "12.1. Obtaining a randomized source response"}, {"refs": [{"id": "ref-for-randomized-response-output-configuration\u2462"}], "title": "12.2. Computing channel capacity"}, {"refs": [{"id": "ref-for-randomized-response-output-configuration\u2463"}], "title": "12.3. Parsing source-registration JSON"}], "external": false};
window.dfnpanelData['randomized-response-output-configuration-max-attributions-per-source'] = {"dfnID": "randomized-response-output-configuration-max-attributions-per-source", "url": "#randomized-response-output-configuration-max-attributions-per-source", "dfnText": "max attributions per source", "refSections": [{"refs": [{"id": "ref-for-randomized-response-output-configuration-max-attributions-per-source"}], "title": "12.1. Obtaining a randomized source response"}, {"refs": [{"id": "ref-for-randomized-response-output-configuration-max-attributions-per-source\u2460"}], "title": "12.3. Parsing source-registration JSON"}], "external": false};
window.dfnpanelData['randomized-response-output-configuration-trigger-data-cardinality'] = {"dfnID": "randomized-response-output-configuration-trigger-data-cardinality", "url": "#randomized-response-output-configuration-trigger-data-cardinality", "dfnText": "trigger data cardinality", "refSections": [{"refs": [{"id": "ref-for-randomized-response-output-configuration-trigger-data-cardinality"}], "title": "12.1. Obtaining a randomized source response"}, {"refs": [{"id": "ref-for-randomized-response-output-configuration-trigger-data-cardinality\u2460"}], "title": "12.3. Parsing source-registration JSON"}], "external": false};
window.dfnpanelData['randomized-response-output-configuration-num-report-windows'] = {"dfnID": "randomized-response-output-configuration-num-report-windows", "url": "#randomized-response-output-configuration-num-report-windows", "dfnText": "num report windows", "refSections": [{"refs": [{"id": "ref-for-randomized-response-output-configuration-num-report-windows"}], "title": "12.1. Obtaining a randomized source response"}, {"refs": [{"id": "ref-for-randomized-response-output-configuration-num-report-windows\u2460"}], "title": "12.3. Parsing source-registration JSON"}], "external": false};
window.dfnpanelData['randomized-source-response'] = {"dfnID": "randomized-source-response", "url": "#randomized-source-response", "dfnText": "7.3. Randomized source response", "refSections": [{"refs": [{"id": "ref-for-randomized-source-response"}], "title": "7.3. Randomized source response"}, {"refs": [{"id": "ref-for-randomized-source-response"}], "title": "7.8. Attribution source"}], "external": false};
window.dfnpanelData['filter-value'] = {"dfnID": "filter-value", "url": "#filter-value", "dfnText": "filter value", "refSections": [{"refs": [{"id": "ref-for-filter-value"}], "title": "7.4. Attribution filtering"}, {"refs": [{"id": "ref-for-filter-value\u2460"}, {"id": "ref-for-filter-value\u2461"}, {"id": "ref-for-filter-value\u2462"}, {"id": "ref-for-filter-value\u2463"}, {"id": "ref-for-filter-value\u2464"}, {"id": "ref-for-filter-value\u2465"}], "title": "13.2. Does filter data match"}], "external": false};
window.dfnpanelData['filter-map'] = {"dfnID": "filter-map", "url": "#filter-map", "dfnText": "filter map", "refSections": [{"refs": [{"id": "ref-for-filter-map"}], "title": "7.4. Attribution filtering"}, {"refs": [{"id": "ref-for-filter-map\u2460"}], "title": "7.8. Attribution source"}, {"refs": [{"id": "ref-for-filter-map\u2461"}], "title": "11.4. Parsing filter data"}, {"refs": [{"id": "ref-for-filter-map\u2462"}], "title": "12.3. Parsing source-registration JSON"}], "external": false};
window.dfnpanelData['filter-config'] = {"dfnID": "filter-config", "url": "#filter-config", "dfnText": "filter config", "refSections": [{"refs": [{"id": "ref-for-filter-config"}, {"id": "ref-for-filter-config\u2460"}], "title": "7.9. Aggregatable trigger data"}, {"refs": [{"id": "ref-for-filter-config\u2461"}, {"id": "ref-for-filter-config\u2462"}], "title": "7.10. Aggregatable dedup key"}, {"refs": [{"id": "ref-for-filter-config\u2463"}, {"id": "ref-for-filter-config\u2464"}], "title": "7.11. Event-level trigger configuration"}, {"refs": [{"id": "ref-for-filter-config\u2465"}, {"id": "ref-for-filter-config\u2466"}], "title": "7.14. Attribution trigger"}, {"refs": [{"id": "ref-for-filter-config\u2467"}], "title": "11.4. Parsing filter data"}, {"refs": [{"id": "ref-for-filter-config\u2468"}, {"id": "ref-for-filter-config\u2460\u24ea"}], "title": "11.5. Parsing filters"}, {"refs": [{"id": "ref-for-filter-config\u2460\u2460"}, {"id": "ref-for-filter-config\u2460\u2461"}, {"id": "ref-for-filter-config\u2460\u2462"}, {"id": "ref-for-filter-config\u2460\u2463"}], "title": "13.2. Does filter data match"}], "external": false};
window.dfnpanelData['filter-config-map'] = {"dfnID": "filter-config-map", "url": "#filter-config-map", "dfnText": "map", "refSections": [{"refs": [{"id": "ref-for-filter-config-map"}], "title": "11.4. Parsing filter data"}, {"refs": [{"id": "ref-for-filter-config-map\u2460"}], "title": "13.2. Does filter data match"}], "external": false};
window.dfnpanelData['filter-config-lookback-window'] = {"dfnID": "filter-config-lookback-window", "url": "#filter-config-lookback-window", "dfnText": "lookback window", "refSections": [{"refs": [{"id": "ref-for-filter-config-lookback-window"}], "title": "11.4. Parsing filter data"}, {"refs": [{"id": "ref-for-filter-config-lookback-window\u2460"}], "title": "13.2. Does filter data match"}], "external": false};
window.dfnpanelData['suitable-origin'] = {"dfnID": "suitable-origin", "url": "#suitable-origin", "dfnText": "7.5. Suitable origin", "refSections": [{"refs": [{"id": "ref-for-suitable-origin"}], "title": "7.5. Suitable origin"}, {"refs": [{"id": "ref-for-suitable-origin"}, {"id": "ref-for-suitable-origin\u2460"}], "title": "7.8. Attribution source"}, {"refs": [{"id": "ref-for-suitable-origin\u2461"}], "title": "7.12. Aggregation coordinator"}, {"refs": [{"id": "ref-for-suitable-origin\u2462"}], "title": "7.14. Attribution trigger"}, {"refs": [{"id": "ref-for-suitable-origin\u2463"}], "title": "7.15. Attribution report"}, {"refs": [{"id": "ref-for-suitable-origin\u2464"}], "title": "7.19. Attribution rate-limits"}, {"refs": [{"id": "ref-for-suitable-origin\u2465"}], "title": "7.21. Attribution debug report"}, {"refs": [{"id": "ref-for-suitable-origin\u2466"}], "title": "11.6. Cookie-based debugging"}, {"refs": [{"id": "ref-for-suitable-origin\u2467"}], "title": "11.11. Obtaining and delivering an attribution debug report"}, {"refs": [{"id": "ref-for-suitable-origin\u2468"}, {"id": "ref-for-suitable-origin\u2460\u24ea"}], "title": "11.12. Making a background attributionsrc request"}, {"refs": [{"id": "ref-for-suitable-origin\u2460\u2460"}, {"id": "ref-for-suitable-origin\u2460\u2461"}], "title": "12.3. Parsing source-registration JSON"}, {"refs": [{"id": "ref-for-suitable-origin\u2460\u2462"}], "title": "12.4. Processing an attribution source"}, {"refs": [{"id": "ref-for-suitable-origin\u2460\u2463"}], "title": "13.1. Creating an attribution trigger"}, {"refs": [{"id": "ref-for-suitable-origin\u2460\u2464"}], "title": "14.7. Get report request URL"}, {"refs": [{"id": "ref-for-suitable-origin\u2460\u2465"}], "title": "14.10. Issuing a report request"}, {"refs": [{"id": "ref-for-suitable-origin\u2460\u2466"}], "title": "16.1. Initiate trigger verification"}], "external": false};
window.dfnpanelData['source-type'] = {"dfnID": "source-type", "url": "#source-type", "dfnText": "source type", "refSections": [{"refs": [{"id": "ref-for-source-type"}], "title": "7.8. Attribution source"}, {"refs": [{"id": "ref-for-source-type\u2460"}], "title": "7.16. Event-level report"}, {"refs": [{"id": "ref-for-source-type\u2461"}, {"id": "ref-for-source-type\u2462"}], "title": "12.3. Parsing source-registration JSON"}], "external": false};
window.dfnpanelData['source-type-navigation'] = {"dfnID": "source-type-navigation", "url": "#source-type-navigation", "dfnText": "navigation", "refSections": [{"refs": [{"id": "ref-for-source-type-navigation"}], "title": "2.3. Navigation monkeypatches"}, {"refs": [{"id": "ref-for-source-type-navigation\u2460"}], "title": "3. Network monkeypatches"}, {"refs": [{"id": "ref-for-source-type-navigation\u2461"}, {"id": "ref-for-source-type-navigation\u2462"}, {"id": "ref-for-source-type-navigation\u2463"}], "title": "10. Vendor-Specific Values"}, {"refs": [{"id": "ref-for-source-type-navigation\u2464"}, {"id": "ref-for-source-type-navigation\u2465"}], "title": "11.12. Making a background attributionsrc request"}, {"refs": [{"id": "ref-for-source-type-navigation\u2466"}], "title": "19.2.1. Event-level reports"}], "external": false};
window.dfnpanelData['source-type-event'] = {"dfnID": "source-type-event", "url": "#source-type-event", "dfnText": "event", "refSections": [{"refs": [{"id": "ref-for-source-type-event"}], "title": "3. Network monkeypatches"}, {"refs": [{"id": "ref-for-source-type-event\u2460"}, {"id": "ref-for-source-type-event\u2461"}, {"id": "ref-for-source-type-event\u2462"}], "title": "10. Vendor-Specific Values"}, {"refs": [{"id": "ref-for-source-type-event\u2463"}, {"id": "ref-for-source-type-event\u2464"}, {"id": "ref-for-source-type-event\u2465"}, {"id": "ref-for-source-type-event\u2466"}], "title": "11.12. Making a background attributionsrc request"}, {"refs": [{"id": "ref-for-source-type-event\u2467"}, {"id": "ref-for-source-type-event\u2468"}], "title": "12.3. Parsing source-registration JSON"}, {"refs": [{"id": "ref-for-source-type-event\u2460\u24ea"}, {"id": "ref-for-source-type-event\u2460\u2460"}], "title": "19.2.1. Event-level reports"}], "external": false};
window.dfnpanelData['report-window'] = {"dfnID": "report-window", "url": "#report-window", "dfnText": "report window", "refSections": [{"refs": [{"id": "ref-for-report-window"}], "title": "7.7. Report window"}, {"refs": [{"id": "ref-for-report-window\u2460"}, {"id": "ref-for-report-window\u2461"}, {"id": "ref-for-report-window\u2462"}, {"id": "ref-for-report-window\u2463"}], "title": "7.8. Attribution source"}, {"refs": [{"id": "ref-for-report-window\u2464"}, {"id": "ref-for-report-window\u2465"}, {"id": "ref-for-report-window\u2466"}], "title": "12.3. Parsing source-registration JSON"}, {"refs": [{"id": "ref-for-report-window\u2467"}, {"id": "ref-for-report-window\u2468"}], "title": "13.12. Establishing report delivery time"}], "external": false};
window.dfnpanelData['report-window-start'] = {"dfnID": "report-window-start", "url": "#report-window-start", "dfnText": "start", "refSections": [{"refs": [{"id": "ref-for-report-window-start"}, {"id": "ref-for-report-window-start\u2460"}, {"id": "ref-for-report-window-start\u2461"}], "title": "7.7. Report window"}, {"refs": [{"id": "ref-for-report-window-start\u2462"}, {"id": "ref-for-report-window-start\u2463"}], "title": "7.8. Attribution source"}, {"refs": [{"id": "ref-for-report-window-start\u2464"}, {"id": "ref-for-report-window-start\u2465"}, {"id": "ref-for-report-window-start\u2466"}], "title": "12.3. Parsing source-registration JSON"}, {"refs": [{"id": "ref-for-report-window-start\u2467"}], "title": "13.12. Establishing report delivery time"}], "external": false};
window.dfnpanelData['report-window-end'] = {"dfnID": "report-window-end", "url": "#report-window-end", "dfnText": "end", "refSections": [{"refs": [{"id": "ref-for-report-window-end"}], "title": "7.7. Report window"}, {"refs": [{"id": "ref-for-report-window-end\u2460"}, {"id": "ref-for-report-window-end\u2461"}], "title": "7.8. Attribution source"}, {"refs": [{"id": "ref-for-report-window-end\u2462"}], "title": "9. Constants"}, {"refs": [{"id": "ref-for-report-window-end\u2463"}, {"id": "ref-for-report-window-end\u2464"}, {"id": "ref-for-report-window-end\u2465"}, {"id": "ref-for-report-window-end\u2466"}], "title": "12.3. Parsing source-registration JSON"}, {"refs": [{"id": "ref-for-report-window-end\u2467"}, {"id": "ref-for-report-window-end\u2468"}], "title": "13.12. Establishing report delivery time"}], "external": false};
window.dfnpanelData['report-window-list'] = {"dfnID": "report-window-list", "url": "#report-window-list", "dfnText": "report window list", "refSections": [{"refs": [{"id": "ref-for-report-window-list"}], "title": "7.8. Attribution source"}, {"refs": [{"id": "ref-for-report-window-list\u2460"}], "title": "12.3. Parsing source-registration JSON"}], "external": false};
window.dfnpanelData['attribution-source'] = {"dfnID": "attribution-source", "url": "#attribution-source", "dfnText": "7.8. Attribution source", "refSections": [{"refs": [{"id": "ref-for-attribution-source"}, {"id": "ref-for-attribution-source\u2460"}], "title": "1.1. Overview"}, {"refs": [{"id": "ref-for-attribution-source\u2461"}], "title": "2.3. Navigation monkeypatches"}, {"refs": [{"id": "ref-for-attribution-source\u2462"}, {"id": "ref-for-attribution-source\u2463"}], "title": "3. Network monkeypatches"}, {"refs": [{"id": "ref-for-attribution-source\u2464"}], "title": "6. Clear Site Data integration"}, {"refs": [{"id": "ref-for-attribution-source"}, {"id": "ref-for-attribution-source\u2465"}, {"id": "ref-for-attribution-source\u2466"}, {"id": "ref-for-attribution-source\u2467"}, {"id": "ref-for-attribution-source\u2468"}, {"id": "ref-for-attribution-source\u2460\u24ea"}, {"id": "ref-for-attribution-source\u2460\u2460"}, {"id": "ref-for-attribution-source\u2460\u2461"}, {"id": "ref-for-attribution-source\u2460\u2462"}, {"id": "ref-for-attribution-source\u2460\u2463"}], "title": "7.8. Attribution source"}, {"refs": [{"id": "ref-for-attribution-source\u2460\u2464"}], "title": "8. Storage"}, {"refs": [{"id": "ref-for-attribution-source\u2460\u2465"}, {"id": "ref-for-attribution-source\u2460\u2466"}, {"id": "ref-for-attribution-source\u2460\u2467"}, {"id": "ref-for-attribution-source\u2460\u2468"}], "title": "9. Constants"}, {"refs": [{"id": "ref-for-attribution-source\u2461\u24ea"}, {"id": "ref-for-attribution-source\u2461\u2460"}, {"id": "ref-for-attribution-source\u2461\u2461"}, {"id": "ref-for-attribution-source\u2461\u2462"}, {"id": "ref-for-attribution-source\u2461\u2463"}, {"id": "ref-for-attribution-source\u2461\u2464"}, {"id": "ref-for-attribution-source\u2461\u2465"}, {"id": "ref-for-attribution-source\u2461\u2466"}, {"id": "ref-for-attribution-source\u2461\u2467"}, {"id": "ref-for-attribution-source\u2461\u2468"}, {"id": "ref-for-attribution-source\u2462\u24ea"}, {"id": "ref-for-attribution-source\u2462\u2460"}], "title": "10. Vendor-Specific Values"}, {"refs": [{"id": "ref-for-attribution-source\u2462\u2461"}, {"id": "ref-for-attribution-source\u2462\u2462"}, {"id": "ref-for-attribution-source\u2462\u2463"}, {"id": "ref-for-attribution-source\u2462\u2464"}], "title": "11.12. Making a background attributionsrc request"}, {"refs": [{"id": "ref-for-attribution-source\u2462\u2465"}], "title": "12.3. Parsing source-registration JSON"}, {"refs": [{"id": "ref-for-attribution-source\u2462\u2466"}, {"id": "ref-for-attribution-source\u2462\u2467"}, {"id": "ref-for-attribution-source\u2462\u2468"}, {"id": "ref-for-attribution-source\u2463\u24ea"}, {"id": "ref-for-attribution-source\u2463\u2460"}, {"id": "ref-for-attribution-source\u2463\u2461"}, {"id": "ref-for-attribution-source\u2463\u2462"}, {"id": "ref-for-attribution-source\u2463\u2463"}, {"id": "ref-for-attribution-source\u2463\u2464"}], "title": "12.4. Processing an attribution source"}, {"refs": [{"id": "ref-for-attribution-source\u2463\u2465"}, {"id": "ref-for-attribution-source\u2463\u2466"}, {"id": "ref-for-attribution-source\u2463\u2467"}], "title": "13.2. Does filter data match"}, {"refs": [{"id": "ref-for-attribution-source\u2463\u2468"}], "title": "13.3. Should attribution be blocked by attribution rate limit"}, {"refs": [{"id": "ref-for-attribution-source\u2464\u24ea"}], "title": "13.5. Should attribution be blocked by rate limits"}, {"refs": [{"id": "ref-for-attribution-source\u2464\u2460"}], "title": "13.6. Creating aggregatable contributions"}, {"refs": [{"id": "ref-for-attribution-source\u2464\u2461"}, {"id": "ref-for-attribution-source\u2464\u2462"}], "title": "13.7. Can source create aggregatable contributions"}, {"refs": [{"id": "ref-for-attribution-source\u2464\u2463"}, {"id": "ref-for-attribution-source\u2464\u2464"}], "title": "13.8. Obtaining debug data on trigger registration"}, {"refs": [{"id": "ref-for-attribution-source\u2464\u2465"}, {"id": "ref-for-attribution-source\u2464\u2466"}], "title": "13.9. Triggering event-level attribution"}, {"refs": [{"id": "ref-for-attribution-source\u2464\u2467"}], "title": "13.10. Triggering aggregatable attribution"}, {"refs": [{"id": "ref-for-attribution-source\u2464\u2468"}], "title": "13.11. Triggering attribution"}, {"refs": [{"id": "ref-for-attribution-source\u2465\u24ea"}, {"id": "ref-for-attribution-source\u2465\u2460"}], "title": "13.12. Establishing report delivery time"}, {"refs": [{"id": "ref-for-attribution-source\u2465\u2461"}], "title": "13.13. Obtaining an event-level report"}, {"refs": [{"id": "ref-for-attribution-source\u2465\u2462"}], "title": "13.15. Obtaining an aggregatable report"}, {"refs": [{"id": "ref-for-attribution-source\u2465\u2463"}], "title": "18.1. Same-Origin Policy"}, {"refs": [{"id": "ref-for-attribution-source\u2465\u2464"}], "title": "18.2. Opting in to the API"}, {"refs": [{"id": "ref-for-attribution-source\u2465\u2465"}, {"id": "ref-for-attribution-source\u2465\u2466"}], "title": "19.2. Cross-site information disclosure"}, {"refs": [{"id": "ref-for-attribution-source\u2465\u2467"}, {"id": "ref-for-attribution-source\u2465\u2468"}, {"id": "ref-for-attribution-source\u2466\u24ea"}, {"id": "ref-for-attribution-source\u2466\u2460"}, {"id": "ref-for-attribution-source\u2466\u2461"}, {"id": "ref-for-attribution-source\u2466\u2462"}, {"id": "ref-for-attribution-source\u2466\u2463"}, {"id": "ref-for-attribution-source\u2466\u2464"}], "title": "19.2.1. Event-level reports"}, {"refs": [{"id": "ref-for-attribution-source\u2466\u2465"}, {"id": "ref-for-attribution-source\u2466\u2466"}], "title": "19.2.2. Aggregatable reports"}], "external": false};
window.dfnpanelData['attribution-source-source-identifier'] = {"dfnID": "attribution-source-source-identifier", "url": "#attribution-source-source-identifier", "dfnText": "source identifier", "refSections": [{"refs": [{"id": "ref-for-attribution-source-source-identifier"}], "title": "12.3. Parsing source-registration JSON"}, {"refs": [{"id": "ref-for-attribution-source-source-identifier\u2460"}], "title": "13.13. Obtaining an event-level report"}], "external": false};
window.dfnpanelData['attribution-source-source-origin'] = {"dfnID": "attribution-source-source-origin", "url": "#attribution-source-source-origin", "dfnText": "source origin", "refSections": [{"refs": [{"id": "ref-for-attribution-source-source-origin"}], "title": "7.8. Attribution source"}, {"refs": [{"id": "ref-for-attribution-source-source-origin\u2460"}], "title": "10. Vendor-Specific Values"}, {"refs": [{"id": "ref-for-attribution-source-source-origin\u2461"}], "title": "12.3. Parsing source-registration JSON"}, {"refs": [{"id": "ref-for-attribution-source-source-origin\u2462"}, {"id": "ref-for-attribution-source-source-origin\u2463"}], "title": "12.4. Processing an attribution source"}, {"refs": [{"id": "ref-for-attribution-source-source-origin\u2464"}], "title": "14. Report delivery"}, {"refs": [{"id": "ref-for-attribution-source-source-origin\u2465"}], "title": "18.1. Same-Origin Policy"}], "external": false};
window.dfnpanelData['attribution-source-event-id'] = {"dfnID": "attribution-source-event-id", "url": "#attribution-source-event-id", "dfnText": "event ID", "refSections": [{"refs": [{"id": "ref-for-attribution-source-event-id"}], "title": "12.3. Parsing source-registration JSON"}, {"refs": [{"id": "ref-for-attribution-source-event-id\u2460"}], "title": "12.4. Processing an attribution source"}, {"refs": [{"id": "ref-for-attribution-source-event-id\u2461"}], "title": "13.8. Obtaining debug data on trigger registration"}, {"refs": [{"id": "ref-for-attribution-source-event-id\u2462"}], "title": "13.13. Obtaining an event-level report"}], "external": false};
window.dfnpanelData['attribution-source-attribution-destinations'] = {"dfnID": "attribution-source-attribution-destinations", "url": "#attribution-source-attribution-destinations", "dfnText": "attribution destinations", "refSections": [{"refs": [{"id": "ref-for-attribution-source-attribution-destinations"}], "title": "1.1. Overview"}, {"refs": [{"id": "ref-for-attribution-source-attribution-destinations\u2460"}], "title": "9. Constants"}, {"refs": [{"id": "ref-for-attribution-source-attribution-destinations\u2461"}, {"id": "ref-for-attribution-source-attribution-destinations\u2462"}, {"id": "ref-for-attribution-source-attribution-destinations\u2463"}], "title": "10. Vendor-Specific Values"}, {"refs": [{"id": "ref-for-attribution-source-attribution-destinations\u2464"}], "title": "12.3. Parsing source-registration JSON"}, {"refs": [{"id": "ref-for-attribution-source-attribution-destinations\u2465"}, {"id": "ref-for-attribution-source-attribution-destinations\u2466"}, {"id": "ref-for-attribution-source-attribution-destinations\u2467"}, {"id": "ref-for-attribution-source-attribution-destinations\u2468"}, {"id": "ref-for-attribution-source-attribution-destinations\u2460\u24ea"}, {"id": "ref-for-attribution-source-attribution-destinations\u2460\u2460"}, {"id": "ref-for-attribution-source-attribution-destinations\u2460\u2461"}], "title": "12.4. Processing an attribution source"}, {"refs": [{"id": "ref-for-attribution-source-attribution-destinations\u2460\u2462"}], "title": "13.11. Triggering attribution"}, {"refs": [{"id": "ref-for-attribution-source-attribution-destinations\u2460\u2463"}], "title": "13.13. Obtaining an event-level report"}, {"refs": [{"id": "ref-for-attribution-source-attribution-destinations\u2460\u2464"}], "title": "19.3.1. Event-level reports"}], "external": false};
window.dfnpanelData['attribution-source-reporting-origin'] = {"dfnID": "attribution-source-reporting-origin", "url": "#attribution-source-reporting-origin", "dfnText": "reporting origin", "refSections": [{"refs": [{"id": "ref-for-attribution-source-reporting-origin"}], "title": "6. Clear Site Data integration"}, {"refs": [{"id": "ref-for-attribution-source-reporting-origin\u2460"}, {"id": "ref-for-attribution-source-reporting-origin\u2461"}, {"id": "ref-for-attribution-source-reporting-origin\u2462"}, {"id": "ref-for-attribution-source-reporting-origin\u2463"}], "title": "10. Vendor-Specific Values"}, {"refs": [{"id": "ref-for-attribution-source-reporting-origin\u2464"}], "title": "12.3. Parsing source-registration JSON"}, {"refs": [{"id": "ref-for-attribution-source-reporting-origin\u2465"}, {"id": "ref-for-attribution-source-reporting-origin\u2466"}, {"id": "ref-for-attribution-source-reporting-origin\u2467"}, {"id": "ref-for-attribution-source-reporting-origin\u2468"}, {"id": "ref-for-attribution-source-reporting-origin\u2460\u24ea"}, {"id": "ref-for-attribution-source-reporting-origin\u2460\u2460"}, {"id": "ref-for-attribution-source-reporting-origin\u2460\u2461"}], "title": "12.4. Processing an attribution source"}, {"refs": [{"id": "ref-for-attribution-source-reporting-origin\u2460\u2462"}, {"id": "ref-for-attribution-source-reporting-origin\u2460\u2463"}], "title": "13.11. Triggering attribution"}, {"refs": [{"id": "ref-for-attribution-source-reporting-origin\u2460\u2464"}], "title": "13.13. Obtaining an event-level report"}, {"refs": [{"id": "ref-for-attribution-source-reporting-origin\u2460\u2465"}], "title": "13.15. Obtaining an aggregatable report"}], "external": false};
window.dfnpanelData['attribution-source-source-type'] = {"dfnID": "attribution-source-source-type", "url": "#attribution-source-source-type", "dfnText": "source type", "refSections": [{"refs": [{"id": "ref-for-attribution-source-source-type"}], "title": "12.3. Parsing source-registration JSON"}, {"refs": [{"id": "ref-for-attribution-source-source-type\u2460"}], "title": "12.4. Processing an attribution source"}, {"refs": [{"id": "ref-for-attribution-source-source-type\u2461"}], "title": "13.13. Obtaining an event-level report"}], "external": false};
window.dfnpanelData['attribution-source-expiry'] = {"dfnID": "attribution-source-expiry", "url": "#attribution-source-expiry", "dfnText": "expiry", "refSections": [{"refs": [{"id": "ref-for-attribution-source-expiry"}], "title": "7.8. Attribution source"}, {"refs": [{"id": "ref-for-attribution-source-expiry\u2460"}], "title": "9. Constants"}, {"refs": [{"id": "ref-for-attribution-source-expiry\u2461"}], "title": "12.3. Parsing source-registration JSON"}], "external": false};
window.dfnpanelData['attribution-source-event-level-report-windows'] = {"dfnID": "attribution-source-event-level-report-windows", "url": "#attribution-source-event-level-report-windows", "dfnText": "event-level report windows", "refSections": [{"refs": [{"id": "ref-for-attribution-source-event-level-report-windows"}, {"id": "ref-for-attribution-source-event-level-report-windows\u2460"}, {"id": "ref-for-attribution-source-event-level-report-windows\u2461"}], "title": "7.8. Attribution source"}, {"refs": [{"id": "ref-for-attribution-source-event-level-report-windows\u2462"}, {"id": "ref-for-attribution-source-event-level-report-windows\u2463"}], "title": "9. Constants"}, {"refs": [{"id": "ref-for-attribution-source-event-level-report-windows\u2464"}], "title": "12.3. Parsing source-registration JSON"}, {"refs": [{"id": "ref-for-attribution-source-event-level-report-windows\u2465"}, {"id": "ref-for-attribution-source-event-level-report-windows\u2466"}, {"id": "ref-for-attribution-source-event-level-report-windows\u2467"}], "title": "13.12. Establishing report delivery time"}], "external": false};
window.dfnpanelData['attribution-source-aggregatable-report-window'] = {"dfnID": "attribution-source-aggregatable-report-window", "url": "#attribution-source-aggregatable-report-window", "dfnText": "aggregatable report window", "refSections": [{"refs": [{"id": "ref-for-attribution-source-aggregatable-report-window"}], "title": "9. Constants"}, {"refs": [{"id": "ref-for-attribution-source-aggregatable-report-window\u2460"}], "title": "12.3. Parsing source-registration JSON"}, {"refs": [{"id": "ref-for-attribution-source-aggregatable-report-window\u2461"}], "title": "13.10. Triggering aggregatable attribution"}], "external": false};
window.dfnpanelData['attribution-source-priority'] = {"dfnID": "attribution-source-priority", "url": "#attribution-source-priority", "dfnText": "priority", "refSections": [{"refs": [{"id": "ref-for-attribution-source-priority"}], "title": "12.3. Parsing source-registration JSON"}, {"refs": [{"id": "ref-for-attribution-source-priority\u2460"}, {"id": "ref-for-attribution-source-priority\u2461"}, {"id": "ref-for-attribution-source-priority\u2462"}, {"id": "ref-for-attribution-source-priority\u2463"}], "title": "13.11. Triggering attribution"}], "external": false};
window.dfnpanelData['attribution-source-source-time'] = {"dfnID": "attribution-source-source-time", "url": "#attribution-source-source-time", "dfnText": "source time", "refSections": [{"refs": [{"id": "ref-for-attribution-source-source-time"}], "title": "7.8. Attribution source"}, {"refs": [{"id": "ref-for-attribution-source-source-time\u2460"}], "title": "9. Constants"}, {"refs": [{"id": "ref-for-attribution-source-source-time\u2461"}], "title": "12.3. Parsing source-registration JSON"}, {"refs": [{"id": "ref-for-attribution-source-source-time\u2462"}, {"id": "ref-for-attribution-source-source-time\u2463"}, {"id": "ref-for-attribution-source-source-time\u2464"}, {"id": "ref-for-attribution-source-source-time\u2465"}, {"id": "ref-for-attribution-source-source-time\u2466"}, {"id": "ref-for-attribution-source-source-time\u2467"}, {"id": "ref-for-attribution-source-source-time\u2468"}, {"id": "ref-for-attribution-source-source-time\u2460\u24ea"}], "title": "12.4. Processing an attribution source"}, {"refs": [{"id": "ref-for-attribution-source-source-time\u2460\u2460"}], "title": "13.2. Does filter data match"}, {"refs": [{"id": "ref-for-attribution-source-source-time\u2460\u2461"}, {"id": "ref-for-attribution-source-source-time\u2460\u2462"}, {"id": "ref-for-attribution-source-source-time\u2460\u2463"}], "title": "13.11. Triggering attribution"}, {"refs": [{"id": "ref-for-attribution-source-source-time\u2460\u2464"}, {"id": "ref-for-attribution-source-source-time\u2460\u2465"}], "title": "13.12. Establishing report delivery time"}, {"refs": [{"id": "ref-for-attribution-source-source-time\u2460\u2466"}], "title": "13.15. Obtaining an aggregatable report"}], "external": false};
window.dfnpanelData['attribution-source-number-of-event-level-reports'] = {"dfnID": "attribution-source-number-of-event-level-reports", "url": "#attribution-source-number-of-event-level-reports", "dfnText": "number of event-level reports", "refSections": [{"refs": [{"id": "ref-for-attribution-source-number-of-event-level-reports"}, {"id": "ref-for-attribution-source-number-of-event-level-reports\u2460"}, {"id": "ref-for-attribution-source-number-of-event-level-reports\u2461"}, {"id": "ref-for-attribution-source-number-of-event-level-reports\u2462"}, {"id": "ref-for-attribution-source-number-of-event-level-reports\u2463"}], "title": "13.9. Triggering event-level attribution"}], "external": false};
window.dfnpanelData['attribution-source-max-number-of-event-level-reports'] = {"dfnID": "attribution-source-max-number-of-event-level-reports", "url": "#attribution-source-max-number-of-event-level-reports", "dfnText": "Max number of event-level reports", "refSections": [{"refs": [{"id": "ref-for-attribution-source-max-number-of-event-level-reports"}], "title": "9. Constants"}, {"refs": [{"id": "ref-for-attribution-source-max-number-of-event-level-reports\u2460"}], "title": "12.3. Parsing source-registration JSON"}, {"refs": [{"id": "ref-for-attribution-source-max-number-of-event-level-reports\u2461"}, {"id": "ref-for-attribution-source-max-number-of-event-level-reports\u2462"}, {"id": "ref-for-attribution-source-max-number-of-event-level-reports\u2463"}, {"id": "ref-for-attribution-source-max-number-of-event-level-reports\u2464"}], "title": "13.9. Triggering event-level attribution"}], "external": false};
window.dfnpanelData['attribution-source-event-level-attributable'] = {"dfnID": "attribution-source-event-level-attributable", "url": "#attribution-source-event-level-attributable", "dfnText": "event-level attributable", "refSections": [{"refs": [{"id": "ref-for-attribution-source-event-level-attributable"}], "title": "12.4. Processing an attribution source"}, {"refs": [{"id": "ref-for-attribution-source-event-level-attributable\u2460"}, {"id": "ref-for-attribution-source-event-level-attributable\u2461"}, {"id": "ref-for-attribution-source-event-level-attributable\u2462"}], "title": "13.9. Triggering event-level attribution"}], "external": false};
window.dfnpanelData['attribution-source-dedup-keys'] = {"dfnID": "attribution-source-dedup-keys", "url": "#attribution-source-dedup-keys", "dfnText": "dedup keys", "refSections": [{"refs": [{"id": "ref-for-attribution-source-dedup-keys"}, {"id": "ref-for-attribution-source-dedup-keys\u2460"}], "title": "13.9. Triggering event-level attribution"}], "external": false};
window.dfnpanelData['attribution-source-randomized-response'] = {"dfnID": "attribution-source-randomized-response", "url": "#attribution-source-randomized-response", "dfnText": "randomized response", "refSections": [{"refs": [{"id": "ref-for-attribution-source-randomized-response"}], "title": "12.3. Parsing source-registration JSON"}, {"refs": [{"id": "ref-for-attribution-source-randomized-response\u2460"}, {"id": "ref-for-attribution-source-randomized-response\u2461"}, {"id": "ref-for-attribution-source-randomized-response\u2462"}], "title": "12.4. Processing an attribution source"}, {"refs": [{"id": "ref-for-attribution-source-randomized-response\u2463"}, {"id": "ref-for-attribution-source-randomized-response\u2464"}], "title": "13.9. Triggering event-level attribution"}], "external": false};
window.dfnpanelData['attribution-source-randomized-trigger-rate'] = {"dfnID": "attribution-source-randomized-trigger-rate", "url": "#attribution-source-randomized-trigger-rate", "dfnText": "randomized trigger rate", "refSections": [{"refs": [{"id": "ref-for-attribution-source-randomized-trigger-rate"}], "title": "12.3. Parsing source-registration JSON"}, {"refs": [{"id": "ref-for-attribution-source-randomized-trigger-rate\u2460"}], "title": "13.13. Obtaining an event-level report"}], "external": false};
window.dfnpanelData['attribution-source-filter-data'] = {"dfnID": "attribution-source-filter-data", "url": "#attribution-source-filter-data", "dfnText": "filter data", "refSections": [{"refs": [{"id": "ref-for-attribution-source-filter-data"}, {"id": "ref-for-attribution-source-filter-data\u2460"}], "title": "9. Constants"}, {"refs": [{"id": "ref-for-attribution-source-filter-data\u2461"}], "title": "12.3. Parsing source-registration JSON"}, {"refs": [{"id": "ref-for-attribution-source-filter-data\u2462"}], "title": "13.2. Does filter data match"}], "external": false};
window.dfnpanelData['attribution-source-debug-key'] = {"dfnID": "attribution-source-debug-key", "url": "#attribution-source-debug-key", "dfnText": "debug key", "refSections": [{"refs": [{"id": "ref-for-attribution-source-debug-key"}], "title": "12.3. Parsing source-registration JSON"}, {"refs": [{"id": "ref-for-attribution-source-debug-key\u2460"}, {"id": "ref-for-attribution-source-debug-key\u2461"}], "title": "12.4. Processing an attribution source"}, {"refs": [{"id": "ref-for-attribution-source-debug-key\u2462"}, {"id": "ref-for-attribution-source-debug-key\u2463"}], "title": "13.8. Obtaining debug data on trigger registration"}, {"refs": [{"id": "ref-for-attribution-source-debug-key\u2464"}], "title": "13.13. Obtaining an event-level report"}, {"refs": [{"id": "ref-for-attribution-source-debug-key\u2465"}], "title": "13.15. Obtaining an aggregatable report"}], "external": false};
window.dfnpanelData['attribution-source-aggregation-keys'] = {"dfnID": "attribution-source-aggregation-keys", "url": "#attribution-source-aggregation-keys", "dfnText": "aggregation keys", "refSections": [{"refs": [{"id": "ref-for-attribution-source-aggregation-keys"}], "title": "10. Vendor-Specific Values"}, {"refs": [{"id": "ref-for-attribution-source-aggregation-keys\u2460"}], "title": "12.3. Parsing source-registration JSON"}, {"refs": [{"id": "ref-for-attribution-source-aggregation-keys\u2461"}], "title": "13.6. Creating aggregatable contributions"}], "external": false};
window.dfnpanelData['attribution-source-aggregatable-budget-consumed'] = {"dfnID": "attribution-source-aggregatable-budget-consumed", "url": "#attribution-source-aggregatable-budget-consumed", "dfnText": "aggregatable budget consumed", "refSections": [{"refs": [{"id": "ref-for-attribution-source-aggregatable-budget-consumed"}], "title": "12.3. Parsing source-registration JSON"}, {"refs": [{"id": "ref-for-attribution-source-aggregatable-budget-consumed\u2460"}], "title": "13.7. Can source create aggregatable contributions"}, {"refs": [{"id": "ref-for-attribution-source-aggregatable-budget-consumed\u2461"}], "title": "13.10. Triggering aggregatable attribution"}], "external": false};
window.dfnpanelData['attribution-source-aggregatable-dedup-keys'] = {"dfnID": "attribution-source-aggregatable-dedup-keys", "url": "#attribution-source-aggregatable-dedup-keys", "dfnText": "aggregatable dedup keys", "refSections": [{"refs": [{"id": "ref-for-attribution-source-aggregatable-dedup-keys"}, {"id": "ref-for-attribution-source-aggregatable-dedup-keys\u2460"}], "title": "13.10. Triggering aggregatable attribution"}], "external": false};
window.dfnpanelData['attribution-source-debug-reporting-enabled'] = {"dfnID": "attribution-source-debug-reporting-enabled", "url": "#attribution-source-debug-reporting-enabled", "dfnText": "debug reporting enabled", "refSections": [{"refs": [{"id": "ref-for-attribution-source-debug-reporting-enabled"}], "title": "12.3. Parsing source-registration JSON"}, {"refs": [{"id": "ref-for-attribution-source-debug-reporting-enabled\u2460"}], "title": "12.4. Processing an attribution source"}], "external": false};
window.dfnpanelData['attribution-source-number-of-aggregatable-reports'] = {"dfnID": "attribution-source-number-of-aggregatable-reports", "url": "#attribution-source-number-of-aggregatable-reports", "dfnText": "number of aggregatable reports", "refSections": [{"refs": [{"id": "ref-for-attribution-source-number-of-aggregatable-reports"}, {"id": "ref-for-attribution-source-number-of-aggregatable-reports\u2460"}], "title": "13.10. Triggering aggregatable attribution"}], "external": false};
window.dfnpanelData['attribution-source-expiry-time'] = {"dfnID": "attribution-source-expiry-time", "url": "#attribution-source-expiry-time", "dfnText": "expiry time", "refSections": [{"refs": [{"id": "ref-for-attribution-source-expiry-time"}, {"id": "ref-for-attribution-source-expiry-time\u2460"}], "title": "12.4. Processing an attribution source"}, {"refs": [{"id": "ref-for-attribution-source-expiry-time\u2461"}], "title": "13.11. Triggering attribution"}], "external": false};
window.dfnpanelData['attribution-source-total-event-level-report-window'] = {"dfnID": "attribution-source-total-event-level-report-window", "url": "#attribution-source-total-event-level-report-window", "dfnText": "total event-level report window", "refSections": [{"refs": [{"id": "ref-for-attribution-source-total-event-level-report-window"}], "title": "7.8. Attribution source"}, {"refs": [{"id": "ref-for-attribution-source-total-event-level-report-window\u2460"}], "title": "13.9. Triggering event-level attribution"}], "external": false};
window.dfnpanelData['attribution-source-source-site'] = {"dfnID": "attribution-source-source-site", "url": "#attribution-source-source-site", "dfnText": "source site", "refSections": [{"refs": [{"id": "ref-for-attribution-source-source-site"}, {"id": "ref-for-attribution-source-source-site\u2460"}, {"id": "ref-for-attribution-source-source-site\u2461"}], "title": "10. Vendor-Specific Values"}, {"refs": [{"id": "ref-for-attribution-source-source-site\u2462"}, {"id": "ref-for-attribution-source-source-site\u2463"}, {"id": "ref-for-attribution-source-source-site\u2464"}, {"id": "ref-for-attribution-source-source-site\u2465"}, {"id": "ref-for-attribution-source-source-site\u2466"}], "title": "12.4. Processing an attribution source"}, {"refs": [{"id": "ref-for-attribution-source-source-site\u2467"}], "title": "13.3. Should attribution be blocked by attribution rate limit"}, {"refs": [{"id": "ref-for-attribution-source-source-site\u2468"}], "title": "13.8. Obtaining debug data on trigger registration"}, {"refs": [{"id": "ref-for-attribution-source-source-site\u2460\u24ea"}], "title": "13.11. Triggering attribution"}, {"refs": [{"id": "ref-for-attribution-source-source-site\u2460\u2460"}], "title": "19.3.2. Aggregatable reports"}], "external": false};
window.dfnpanelData['aggregatable-trigger-data'] = {"dfnID": "aggregatable-trigger-data", "url": "#aggregatable-trigger-data", "dfnText": "7.9. Aggregatable trigger data", "refSections": [{"refs": [{"id": "ref-for-aggregatable-trigger-data"}], "title": "7.9. Aggregatable trigger data"}, {"refs": [{"id": "ref-for-aggregatable-trigger-data"}], "title": "7.14. Attribution trigger"}, {"refs": [{"id": "ref-for-aggregatable-trigger-data\u2460"}], "title": "10. Vendor-Specific Values"}, {"refs": [{"id": "ref-for-aggregatable-trigger-data\u2461"}], "title": "13.1. Creating an attribution trigger"}], "external": false};
window.dfnpanelData['aggregatable-trigger-data-key-piece'] = {"dfnID": "aggregatable-trigger-data-key-piece", "url": "#aggregatable-trigger-data-key-piece", "dfnText": "key piece", "refSections": [{"refs": [{"id": "ref-for-aggregatable-trigger-data-key-piece"}], "title": "13.1. Creating an attribution trigger"}, {"refs": [{"id": "ref-for-aggregatable-trigger-data-key-piece\u2460"}], "title": "13.6. Creating aggregatable contributions"}], "external": false};
window.dfnpanelData['aggregatable-trigger-data-source-keys'] = {"dfnID": "aggregatable-trigger-data-source-keys", "url": "#aggregatable-trigger-data-source-keys", "dfnText": "source keys", "refSections": [{"refs": [{"id": "ref-for-aggregatable-trigger-data-source-keys"}], "title": "10. Vendor-Specific Values"}, {"refs": [{"id": "ref-for-aggregatable-trigger-data-source-keys\u2460"}], "title": "13.1. Creating an attribution trigger"}, {"refs": [{"id": "ref-for-aggregatable-trigger-data-source-keys\u2461"}], "title": "13.6. Creating aggregatable contributions"}], "external": false};
window.dfnpanelData['aggregatable-trigger-data-filters'] = {"dfnID": "aggregatable-trigger-data-filters", "url": "#aggregatable-trigger-data-filters", "dfnText": "filters", "refSections": [{"refs": [{"id": "ref-for-aggregatable-trigger-data-filters"}], "title": "13.1. Creating an attribution trigger"}, {"refs": [{"id": "ref-for-aggregatable-trigger-data-filters\u2460"}], "title": "13.6. Creating aggregatable contributions"}], "external": false};
window.dfnpanelData['aggregatable-trigger-data-negated-filters'] = {"dfnID": "aggregatable-trigger-data-negated-filters", "url": "#aggregatable-trigger-data-negated-filters", "dfnText": "negated filters", "refSections": [{"refs": [{"id": "ref-for-aggregatable-trigger-data-negated-filters"}], "title": "13.1. Creating an attribution trigger"}, {"refs": [{"id": "ref-for-aggregatable-trigger-data-negated-filters\u2460"}], "title": "13.6. Creating aggregatable contributions"}], "external": false};
window.dfnpanelData['aggregatable-dedup-key'] = {"dfnID": "aggregatable-dedup-key", "url": "#aggregatable-dedup-key", "dfnText": "7.10. Aggregatable dedup key", "refSections": [{"refs": [{"id": "ref-for-aggregatable-dedup-key"}], "title": "7.10. Aggregatable dedup key"}, {"refs": [{"id": "ref-for-aggregatable-dedup-key"}], "title": "7.14. Attribution trigger"}, {"refs": [{"id": "ref-for-aggregatable-dedup-key\u2460"}], "title": "13.1. Creating an attribution trigger"}, {"refs": [{"id": "ref-for-aggregatable-dedup-key\u2461"}], "title": "13.10. Triggering aggregatable attribution"}], "external": false};
window.dfnpanelData['aggregatable-dedup-key-dedup-key'] = {"dfnID": "aggregatable-dedup-key-dedup-key", "url": "#aggregatable-dedup-key-dedup-key", "dfnText": "dedup key", "refSections": [{"refs": [{"id": "ref-for-aggregatable-dedup-key-dedup-key"}], "title": "7.8. Attribution source"}, {"refs": [{"id": "ref-for-aggregatable-dedup-key-dedup-key\u2460"}], "title": "13.1. Creating an attribution trigger"}, {"refs": [{"id": "ref-for-aggregatable-dedup-key-dedup-key\u2461"}], "title": "13.10. Triggering aggregatable attribution"}], "external": false};
window.dfnpanelData['aggregatable-dedup-key-filters'] = {"dfnID": "aggregatable-dedup-key-filters", "url": "#aggregatable-dedup-key-filters", "dfnText": "filters", "refSections": [{"refs": [{"id": "ref-for-aggregatable-dedup-key-filters"}], "title": "13.1. Creating an attribution trigger"}, {"refs": [{"id": "ref-for-aggregatable-dedup-key-filters\u2460"}], "title": "13.10. Triggering aggregatable attribution"}], "external": false};
window.dfnpanelData['aggregatable-dedup-key-negated-filters'] = {"dfnID": "aggregatable-dedup-key-negated-filters", "url": "#aggregatable-dedup-key-negated-filters", "dfnText": "negated filters", "refSections": [{"refs": [{"id": "ref-for-aggregatable-dedup-key-negated-filters"}], "title": "13.1. Creating an attribution trigger"}, {"refs": [{"id": "ref-for-aggregatable-dedup-key-negated-filters\u2460"}], "title": "13.10. Triggering aggregatable attribution"}], "external": false};
window.dfnpanelData['event-level-trigger-configuration'] = {"dfnID": "event-level-trigger-configuration", "url": "#event-level-trigger-configuration", "dfnText": "7.11. Event-level trigger configuration", "refSections": [{"refs": [{"id": "ref-for-event-level-trigger-configuration"}], "title": "7.11. Event-level trigger configuration"}, {"refs": [{"id": "ref-for-event-level-trigger-configuration"}], "title": "7.14. Attribution trigger"}, {"refs": [{"id": "ref-for-event-level-trigger-configuration\u2460"}], "title": "12.4. Processing an attribution source"}, {"refs": [{"id": "ref-for-event-level-trigger-configuration\u2461"}], "title": "13.1. Creating an attribution trigger"}, {"refs": [{"id": "ref-for-event-level-trigger-configuration\u2462"}], "title": "13.9. Triggering event-level attribution"}, {"refs": [{"id": "ref-for-event-level-trigger-configuration\u2463"}], "title": "13.13. Obtaining an event-level report"}], "external": false};
window.dfnpanelData['event-level-trigger-configuration-trigger-data'] = {"dfnID": "event-level-trigger-configuration-trigger-data", "url": "#event-level-trigger-configuration-trigger-data", "dfnText": "trigger data", "refSections": [{"refs": [{"id": "ref-for-event-level-trigger-configuration-trigger-data"}], "title": "10. Vendor-Specific Values"}, {"refs": [{"id": "ref-for-event-level-trigger-configuration-trigger-data\u2460"}], "title": "12.4. Processing an attribution source"}, {"refs": [{"id": "ref-for-event-level-trigger-configuration-trigger-data\u2461"}], "title": "13.1. Creating an attribution trigger"}, {"refs": [{"id": "ref-for-event-level-trigger-configuration-trigger-data\u2462"}], "title": "13.13. Obtaining an event-level report"}], "external": false};
window.dfnpanelData['event-level-trigger-configuration-dedup-key'] = {"dfnID": "event-level-trigger-configuration-dedup-key", "url": "#event-level-trigger-configuration-dedup-key", "dfnText": "dedup key", "refSections": [{"refs": [{"id": "ref-for-event-level-trigger-configuration-dedup-key"}], "title": "7.8. Attribution source"}, {"refs": [{"id": "ref-for-event-level-trigger-configuration-dedup-key\u2460"}], "title": "12.4. Processing an attribution source"}, {"refs": [{"id": "ref-for-event-level-trigger-configuration-dedup-key\u2461"}], "title": "13.1. Creating an attribution trigger"}, {"refs": [{"id": "ref-for-event-level-trigger-configuration-dedup-key\u2462"}, {"id": "ref-for-event-level-trigger-configuration-dedup-key\u2463"}], "title": "13.9. Triggering event-level attribution"}], "external": false};
window.dfnpanelData['event-level-trigger-configuration-priority'] = {"dfnID": "event-level-trigger-configuration-priority", "url": "#event-level-trigger-configuration-priority", "dfnText": "priority", "refSections": [{"refs": [{"id": "ref-for-event-level-trigger-configuration-priority"}], "title": "12.4. Processing an attribution source"}, {"refs": [{"id": "ref-for-event-level-trigger-configuration-priority\u2460"}], "title": "13.1. Creating an attribution trigger"}, {"refs": [{"id": "ref-for-event-level-trigger-configuration-priority\u2461"}], "title": "13.13. Obtaining an event-level report"}], "external": false};
window.dfnpanelData['event-level-trigger-configuration-filters'] = {"dfnID": "event-level-trigger-configuration-filters", "url": "#event-level-trigger-configuration-filters", "dfnText": "filters", "refSections": [{"refs": [{"id": "ref-for-event-level-trigger-configuration-filters"}], "title": "12.4. Processing an attribution source"}, {"refs": [{"id": "ref-for-event-level-trigger-configuration-filters\u2460"}], "title": "13.1. Creating an attribution trigger"}, {"refs": [{"id": "ref-for-event-level-trigger-configuration-filters\u2461"}], "title": "13.9. Triggering event-level attribution"}], "external": false};
window.dfnpanelData['event-level-trigger-configuration-negated-filters'] = {"dfnID": "event-level-trigger-configuration-negated-filters", "url": "#event-level-trigger-configuration-negated-filters", "dfnText": "negated filters", "refSections": [{"refs": [{"id": "ref-for-event-level-trigger-configuration-negated-filters"}], "title": "13.1. Creating an attribution trigger"}, {"refs": [{"id": "ref-for-event-level-trigger-configuration-negated-filters\u2460"}], "title": "13.9. Triggering event-level attribution"}], "external": false};
window.dfnpanelData['aggregation-coordinator'] = {"dfnID": "aggregation-coordinator", "url": "#aggregation-coordinator", "dfnText": "aggregation coordinator", "refSections": [{"refs": [{"id": "ref-for-aggregation-coordinator"}], "title": "7.14. Attribution trigger"}, {"refs": [{"id": "ref-for-aggregation-coordinator\u2460"}], "title": "7.18. Aggregatable report"}, {"refs": [{"id": "ref-for-aggregation-coordinator\u2461"}], "title": "10. Vendor-Specific Values"}, {"refs": [{"id": "ref-for-aggregation-coordinator\u2462"}], "title": "13.1. Creating an attribution trigger"}, {"refs": [{"id": "ref-for-aggregation-coordinator\u2463"}], "title": "14.4. Obtaining an aggregatable report\u2019s aggregation service payloads"}], "external": false};
window.dfnpanelData['aggregatable-source-registration-time-configuration'] = {"dfnID": "aggregatable-source-registration-time-configuration", "url": "#aggregatable-source-registration-time-configuration", "dfnText": "aggregatable source registration time configuration", "refSections": [{"refs": [{"id": "ref-for-aggregatable-source-registration-time-configuration"}], "title": "7.14. Attribution trigger"}, {"refs": [{"id": "ref-for-aggregatable-source-registration-time-configuration\u2460"}], "title": "7.18. Aggregatable report"}, {"refs": [{"id": "ref-for-aggregatable-source-registration-time-configuration\u2461"}], "title": "13.1. Creating an attribution trigger"}], "external": false};
window.dfnpanelData['aggregatable-source-registration-time-configuration-exclude'] = {"dfnID": "aggregatable-source-registration-time-configuration-exclude", "url": "#aggregatable-source-registration-time-configuration-exclude", "dfnText": "exclude", "refSections": [{"refs": [{"id": "ref-for-aggregatable-source-registration-time-configuration-exclude"}], "title": "10. Vendor-Specific Values"}, {"refs": [{"id": "ref-for-aggregatable-source-registration-time-configuration-exclude\u2460"}], "title": "12.4. Processing an attribution source"}, {"refs": [{"id": "ref-for-aggregatable-source-registration-time-configuration-exclude\u2461"}], "title": "13.1. Creating an attribution trigger"}, {"refs": [{"id": "ref-for-aggregatable-source-registration-time-configuration-exclude\u2462"}], "title": "13.16. Generating randomized null reports"}, {"refs": [{"id": "ref-for-aggregatable-source-registration-time-configuration-exclude\u2463"}], "title": "14.3. Obtaining an aggregatable report\u2019s shared info"}], "external": false};
window.dfnpanelData['aggregatable-source-registration-time-configuration-include'] = {"dfnID": "aggregatable-source-registration-time-configuration-include", "url": "#aggregatable-source-registration-time-configuration-include", "dfnText": "include", "refSections": [{"refs": [{"id": "ref-for-aggregatable-source-registration-time-configuration-include"}], "title": "10. Vendor-Specific Values"}, {"refs": [{"id": "ref-for-aggregatable-source-registration-time-configuration-include\u2460"}], "title": "14.3. Obtaining an aggregatable report\u2019s shared info"}], "external": false};
window.dfnpanelData['attribution-trigger'] = {"dfnID": "attribution-trigger", "url": "#attribution-trigger", "dfnText": "7.14. Attribution trigger", "refSections": [{"refs": [{"id": "ref-for-attribution-trigger"}, {"id": "ref-for-attribution-trigger\u2460"}], "title": "1.1. Overview"}, {"refs": [{"id": "ref-for-attribution-trigger\u2461"}], "title": "3. Network monkeypatches"}, {"refs": [{"id": "ref-for-attribution-trigger"}], "title": "7.14. Attribution trigger"}, {"refs": [{"id": "ref-for-attribution-trigger\u2462"}, {"id": "ref-for-attribution-trigger\u2463"}, {"id": "ref-for-attribution-trigger\u2464"}, {"id": "ref-for-attribution-trigger\u2465"}, {"id": "ref-for-attribution-trigger\u2466"}], "title": "10. Vendor-Specific Values"}, {"refs": [{"id": "ref-for-attribution-trigger\u2467"}, {"id": "ref-for-attribution-trigger\u2468"}, {"id": "ref-for-attribution-trigger\u2460\u24ea"}, {"id": "ref-for-attribution-trigger\u2460\u2460"}], "title": "11.12. Making a background attributionsrc request"}, {"refs": [{"id": "ref-for-attribution-trigger\u2460\u2461"}], "title": "12.4. Processing an attribution source"}, {"refs": [{"id": "ref-for-attribution-trigger\u2460\u2462"}], "title": "13.1. Creating an attribution trigger"}, {"refs": [{"id": "ref-for-attribution-trigger\u2460\u2463"}], "title": "13.3. Should attribution be blocked by attribution rate limit"}, {"refs": [{"id": "ref-for-attribution-trigger\u2460\u2464"}], "title": "13.5. Should attribution be blocked by rate limits"}, {"refs": [{"id": "ref-for-attribution-trigger\u2460\u2465"}], "title": "13.6. Creating aggregatable contributions"}, {"refs": [{"id": "ref-for-attribution-trigger\u2460\u2466"}, {"id": "ref-for-attribution-trigger\u2460\u2467"}], "title": "13.8. Obtaining debug data on trigger registration"}, {"refs": [{"id": "ref-for-attribution-trigger\u2460\u2468"}], "title": "13.9. Triggering event-level attribution"}, {"refs": [{"id": "ref-for-attribution-trigger\u2461\u24ea"}], "title": "13.10. Triggering aggregatable attribution"}, {"refs": [{"id": "ref-for-attribution-trigger\u2461\u2460"}, {"id": "ref-for-attribution-trigger\u2461\u2461"}, {"id": "ref-for-attribution-trigger\u2461\u2462"}, {"id": "ref-for-attribution-trigger\u2461\u2463"}, {"id": "ref-for-attribution-trigger\u2461\u2464"}], "title": "13.11. Triggering attribution"}, {"refs": [{"id": "ref-for-attribution-trigger\u2461\u2465"}], "title": "13.13. Obtaining an event-level report"}, {"refs": [{"id": "ref-for-attribution-trigger\u2461\u2466"}], "title": "13.15. Obtaining an aggregatable report"}, {"refs": [{"id": "ref-for-attribution-trigger\u2461\u2467"}, {"id": "ref-for-attribution-trigger\u2461\u2468"}, {"id": "ref-for-attribution-trigger\u2462\u24ea"}, {"id": "ref-for-attribution-trigger\u2462\u2460"}], "title": "13.16. Generating randomized null reports"}, {"refs": [{"id": "ref-for-attribution-trigger\u2462\u2461"}], "title": "13.17. Deferring trigger attribution"}, {"refs": [{"id": "ref-for-attribution-trigger\u2462\u2462"}, {"id": "ref-for-attribution-trigger\u2462\u2463"}], "title": "19.2.2. Aggregatable reports"}], "external": false};
window.dfnpanelData['attribution-trigger-attribution-destination'] = {"dfnID": "attribution-trigger-attribution-destination", "url": "#attribution-trigger-attribution-destination", "dfnText": "attribution destination", "refSections": [{"refs": [{"id": "ref-for-attribution-trigger-attribution-destination"}], "title": "12.4. Processing an attribution source"}, {"refs": [{"id": "ref-for-attribution-trigger-attribution-destination\u2460"}], "title": "13.1. Creating an attribution trigger"}, {"refs": [{"id": "ref-for-attribution-trigger-attribution-destination\u2461"}], "title": "13.3. Should attribution be blocked by attribution rate limit"}, {"refs": [{"id": "ref-for-attribution-trigger-attribution-destination\u2462"}], "title": "13.8. Obtaining debug data on trigger registration"}, {"refs": [{"id": "ref-for-attribution-trigger-attribution-destination\u2463"}], "title": "13.9. Triggering event-level attribution"}, {"refs": [{"id": "ref-for-attribution-trigger-attribution-destination\u2464"}], "title": "13.10. Triggering aggregatable attribution"}, {"refs": [{"id": "ref-for-attribution-trigger-attribution-destination\u2465"}, {"id": "ref-for-attribution-trigger-attribution-destination\u2466"}], "title": "13.11. Triggering attribution"}, {"refs": [{"id": "ref-for-attribution-trigger-attribution-destination\u2467"}], "title": "13.15. Obtaining an aggregatable report"}, {"refs": [{"id": "ref-for-attribution-trigger-attribution-destination\u2468"}], "title": "13.16. Generating randomized null reports"}], "external": false};
window.dfnpanelData['attribution-trigger-trigger-time'] = {"dfnID": "attribution-trigger-trigger-time", "url": "#attribution-trigger-trigger-time", "dfnText": "trigger time", "refSections": [{"refs": [{"id": "ref-for-attribution-trigger-trigger-time"}], "title": "12.4. Processing an attribution source"}, {"refs": [{"id": "ref-for-attribution-trigger-trigger-time\u2460"}], "title": "13.1. Creating an attribution trigger"}, {"refs": [{"id": "ref-for-attribution-trigger-trigger-time\u2461"}], "title": "13.3. Should attribution be blocked by attribution rate limit"}, {"refs": [{"id": "ref-for-attribution-trigger-trigger-time\u2462"}], "title": "13.6. Creating aggregatable contributions"}, {"refs": [{"id": "ref-for-attribution-trigger-trigger-time\u2463"}, {"id": "ref-for-attribution-trigger-trigger-time\u2464"}], "title": "13.9. Triggering event-level attribution"}, {"refs": [{"id": "ref-for-attribution-trigger-trigger-time\u2465"}, {"id": "ref-for-attribution-trigger-trigger-time\u2466"}], "title": "13.10. Triggering aggregatable attribution"}, {"refs": [{"id": "ref-for-attribution-trigger-trigger-time\u2467"}, {"id": "ref-for-attribution-trigger-trigger-time\u2468"}, {"id": "ref-for-attribution-trigger-trigger-time\u2460\u24ea"}], "title": "13.11. Triggering attribution"}, {"refs": [{"id": "ref-for-attribution-trigger-trigger-time\u2460\u2460"}, {"id": "ref-for-attribution-trigger-trigger-time\u2460\u2461"}], "title": "13.13. Obtaining an event-level report"}, {"refs": [{"id": "ref-for-attribution-trigger-trigger-time\u2460\u2462"}], "title": "13.15. Obtaining an aggregatable report"}, {"refs": [{"id": "ref-for-attribution-trigger-trigger-time\u2460\u2463"}, {"id": "ref-for-attribution-trigger-trigger-time\u2460\u2464"}, {"id": "ref-for-attribution-trigger-trigger-time\u2460\u2465"}], "title": "13.16. Generating randomized null reports"}], "external": false};
window.dfnpanelData['attribution-trigger-reporting-origin'] = {"dfnID": "attribution-trigger-reporting-origin", "url": "#attribution-trigger-reporting-origin", "dfnText": "reporting origin", "refSections": [{"refs": [{"id": "ref-for-attribution-trigger-reporting-origin"}], "title": "10. Vendor-Specific Values"}, {"refs": [{"id": "ref-for-attribution-trigger-reporting-origin\u2460"}], "title": "12.4. Processing an attribution source"}, {"refs": [{"id": "ref-for-attribution-trigger-reporting-origin\u2461"}], "title": "13.1. Creating an attribution trigger"}, {"refs": [{"id": "ref-for-attribution-trigger-reporting-origin\u2462"}], "title": "13.3. Should attribution be blocked by attribution rate limit"}, {"refs": [{"id": "ref-for-attribution-trigger-reporting-origin\u2463"}], "title": "13.8. Obtaining debug data on trigger registration"}, {"refs": [{"id": "ref-for-attribution-trigger-reporting-origin\u2464"}, {"id": "ref-for-attribution-trigger-reporting-origin\u2465"}, {"id": "ref-for-attribution-trigger-reporting-origin\u2466"}], "title": "13.11. Triggering attribution"}, {"refs": [{"id": "ref-for-attribution-trigger-reporting-origin\u2467"}], "title": "13.16. Generating randomized null reports"}], "external": false};
window.dfnpanelData['attribution-trigger-filters'] = {"dfnID": "attribution-trigger-filters", "url": "#attribution-trigger-filters", "dfnText": "filters", "refSections": [{"refs": [{"id": "ref-for-attribution-trigger-filters"}], "title": "12.4. Processing an attribution source"}, {"refs": [{"id": "ref-for-attribution-trigger-filters\u2460"}], "title": "13.1. Creating an attribution trigger"}, {"refs": [{"id": "ref-for-attribution-trigger-filters\u2461"}], "title": "13.11. Triggering attribution"}], "external": false};
window.dfnpanelData['attribution-trigger-negated-filters'] = {"dfnID": "attribution-trigger-negated-filters", "url": "#attribution-trigger-negated-filters", "dfnText": "negated filters", "refSections": [{"refs": [{"id": "ref-for-attribution-trigger-negated-filters"}], "title": "13.1. Creating an attribution trigger"}, {"refs": [{"id": "ref-for-attribution-trigger-negated-filters\u2460"}], "title": "13.11. Triggering attribution"}], "external": false};
window.dfnpanelData['attribution-trigger-debug-key'] = {"dfnID": "attribution-trigger-debug-key", "url": "#attribution-trigger-debug-key", "dfnText": "debug key", "refSections": [{"refs": [{"id": "ref-for-attribution-trigger-debug-key"}], "title": "12.4. Processing an attribution source"}, {"refs": [{"id": "ref-for-attribution-trigger-debug-key\u2460"}], "title": "13.1. Creating an attribution trigger"}, {"refs": [{"id": "ref-for-attribution-trigger-debug-key\u2461"}, {"id": "ref-for-attribution-trigger-debug-key\u2462"}], "title": "13.8. Obtaining debug data on trigger registration"}, {"refs": [{"id": "ref-for-attribution-trigger-debug-key\u2463"}], "title": "13.13. Obtaining an event-level report"}, {"refs": [{"id": "ref-for-attribution-trigger-debug-key\u2464"}], "title": "13.15. Obtaining an aggregatable report"}, {"refs": [{"id": "ref-for-attribution-trigger-debug-key\u2465"}], "title": "13.16. Generating randomized null reports"}], "external": false};
window.dfnpanelData['attribution-trigger-event-level-trigger-configurations'] = {"dfnID": "attribution-trigger-event-level-trigger-configurations", "url": "#attribution-trigger-event-level-trigger-configurations", "dfnText": "event-level trigger configurations", "refSections": [{"refs": [{"id": "ref-for-attribution-trigger-event-level-trigger-configurations"}], "title": "12.4. Processing an attribution source"}, {"refs": [{"id": "ref-for-attribution-trigger-event-level-trigger-configurations\u2460"}], "title": "13.1. Creating an attribution trigger"}, {"refs": [{"id": "ref-for-attribution-trigger-event-level-trigger-configurations\u2461"}, {"id": "ref-for-attribution-trigger-event-level-trigger-configurations\u2462"}], "title": "13.9. Triggering event-level attribution"}, {"refs": [{"id": "ref-for-attribution-trigger-event-level-trigger-configurations\u2463"}], "title": "13.11. Triggering attribution"}], "external": false};
window.dfnpanelData['attribution-trigger-aggregatable-trigger-data'] = {"dfnID": "attribution-trigger-aggregatable-trigger-data", "url": "#attribution-trigger-aggregatable-trigger-data", "dfnText": "aggregatable trigger data", "refSections": [{"refs": [{"id": "ref-for-attribution-trigger-aggregatable-trigger-data"}], "title": "12.4. Processing an attribution source"}, {"refs": [{"id": "ref-for-attribution-trigger-aggregatable-trigger-data\u2460"}], "title": "13.1. Creating an attribution trigger"}, {"refs": [{"id": "ref-for-attribution-trigger-aggregatable-trigger-data\u2461"}], "title": "13.6. Creating aggregatable contributions"}, {"refs": [{"id": "ref-for-attribution-trigger-aggregatable-trigger-data\u2462"}], "title": "13.11. Triggering attribution"}], "external": false};
window.dfnpanelData['attribution-trigger-aggregatable-values'] = {"dfnID": "attribution-trigger-aggregatable-values", "url": "#attribution-trigger-aggregatable-values", "dfnText": "aggregatable values", "refSections": [{"refs": [{"id": "ref-for-attribution-trigger-aggregatable-values"}], "title": "10. Vendor-Specific Values"}, {"refs": [{"id": "ref-for-attribution-trigger-aggregatable-values\u2460"}], "title": "12.4. Processing an attribution source"}, {"refs": [{"id": "ref-for-attribution-trigger-aggregatable-values\u2461"}], "title": "13.1. Creating an attribution trigger"}, {"refs": [{"id": "ref-for-attribution-trigger-aggregatable-values\u2462"}], "title": "13.6. Creating aggregatable contributions"}, {"refs": [{"id": "ref-for-attribution-trigger-aggregatable-values\u2463"}], "title": "13.11. Triggering attribution"}], "external": false};
window.dfnpanelData['attribution-trigger-aggregatable-dedup-keys'] = {"dfnID": "attribution-trigger-aggregatable-dedup-keys", "url": "#attribution-trigger-aggregatable-dedup-keys", "dfnText": "aggregatable dedup keys", "refSections": [{"refs": [{"id": "ref-for-attribution-trigger-aggregatable-dedup-keys"}], "title": "12.4. Processing an attribution source"}, {"refs": [{"id": "ref-for-attribution-trigger-aggregatable-dedup-keys\u2460"}], "title": "13.1. Creating an attribution trigger"}, {"refs": [{"id": "ref-for-attribution-trigger-aggregatable-dedup-keys\u2461"}], "title": "13.10. Triggering aggregatable attribution"}], "external": false};
window.dfnpanelData['attribution-trigger-verifications'] = {"dfnID": "attribution-trigger-verifications", "url": "#attribution-trigger-verifications", "dfnText": "verifications", "refSections": [{"refs": [{"id": "ref-for-attribution-trigger-verifications"}], "title": "12.4. Processing an attribution source"}, {"refs": [{"id": "ref-for-attribution-trigger-verifications\u2460"}], "title": "13.1. Creating an attribution trigger"}, {"refs": [{"id": "ref-for-attribution-trigger-verifications\u2461"}], "title": "13.16. Generating randomized null reports"}], "external": false};
window.dfnpanelData['attribution-trigger-debug-reporting-enabled'] = {"dfnID": "attribution-trigger-debug-reporting-enabled", "url": "#attribution-trigger-debug-reporting-enabled", "dfnText": "debug reporting enabled", "refSections": [{"refs": [{"id": "ref-for-attribution-trigger-debug-reporting-enabled"}], "title": "12.4. Processing an attribution source"}, {"refs": [{"id": "ref-for-attribution-trigger-debug-reporting-enabled\u2460"}], "title": "13.1. Creating an attribution trigger"}, {"refs": [{"id": "ref-for-attribution-trigger-debug-reporting-enabled\u2461"}], "title": "13.8. Obtaining debug data on trigger registration"}], "external": false};
window.dfnpanelData['attribution-trigger-aggregation-coordinator'] = {"dfnID": "attribution-trigger-aggregation-coordinator", "url": "#attribution-trigger-aggregation-coordinator", "dfnText": "aggregation coordinator", "refSections": [{"refs": [{"id": "ref-for-attribution-trigger-aggregation-coordinator"}], "title": "12.4. Processing an attribution source"}, {"refs": [{"id": "ref-for-attribution-trigger-aggregation-coordinator\u2460"}], "title": "13.1. Creating an attribution trigger"}, {"refs": [{"id": "ref-for-attribution-trigger-aggregation-coordinator\u2461"}], "title": "13.15. Obtaining an aggregatable report"}, {"refs": [{"id": "ref-for-attribution-trigger-aggregation-coordinator\u2462"}], "title": "13.16. Generating randomized null reports"}], "external": false};
window.dfnpanelData['attribution-trigger-aggregatable-source-registration-time-configuration'] = {"dfnID": "attribution-trigger-aggregatable-source-registration-time-configuration", "url": "#attribution-trigger-aggregatable-source-registration-time-configuration", "dfnText": "aggregatable source registration time configuration", "refSections": [{"refs": [{"id": "ref-for-attribution-trigger-aggregatable-source-registration-time-configuration"}], "title": "12.4. Processing an attribution source"}, {"refs": [{"id": "ref-for-attribution-trigger-aggregatable-source-registration-time-configuration\u2460"}], "title": "13.1. Creating an attribution trigger"}, {"refs": [{"id": "ref-for-attribution-trigger-aggregatable-source-registration-time-configuration\u2461"}], "title": "13.15. Obtaining an aggregatable report"}, {"refs": [{"id": "ref-for-attribution-trigger-aggregatable-source-registration-time-configuration\u2462"}, {"id": "ref-for-attribution-trigger-aggregatable-source-registration-time-configuration\u2463"}], "title": "13.16. Generating randomized null reports"}], "external": false};
window.dfnpanelData['attribution-report'] = {"dfnID": "attribution-report", "url": "#attribution-report", "dfnText": "7.15. Attribution report", "refSections": [{"refs": [{"id": "ref-for-attribution-report"}, {"id": "ref-for-attribution-report\u2460"}], "title": "1.1. Overview"}, {"refs": [{"id": "ref-for-attribution-report"}], "title": "7.15. Attribution report"}, {"refs": [{"id": "ref-for-attribution-report\u2461"}], "title": "7.16. Event-level report"}, {"refs": [{"id": "ref-for-attribution-report\u2462"}], "title": "7.18. Aggregatable report"}, {"refs": [{"id": "ref-for-attribution-report\u2463"}, {"id": "ref-for-attribution-report\u2464"}], "title": "13.8. Obtaining debug data on trigger registration"}, {"refs": [{"id": "ref-for-attribution-report\u2465"}], "title": "14. Report delivery"}, {"refs": [{"id": "ref-for-attribution-report\u2466"}, {"id": "ref-for-attribution-report\u2467"}], "title": "14.5. Serialize attribution report body"}, {"refs": [{"id": "ref-for-attribution-report\u2468"}], "title": "14.7. Get report request URL"}, {"refs": [{"id": "ref-for-attribution-report\u2460\u24ea"}], "title": "14.9. Get report request headers"}, {"refs": [{"id": "ref-for-attribution-report\u2460\u2460"}, {"id": "ref-for-attribution-report\u2460\u2461"}], "title": "14.10. Issuing a report request"}, {"refs": [{"id": "ref-for-attribution-report\u2460\u2462"}], "title": "14.11. Issuing a debug report request"}, {"refs": [{"id": "ref-for-attribution-report\u2460\u2463"}, {"id": "ref-for-attribution-report\u2460\u2464"}], "title": "19.2. Cross-site information disclosure"}, {"refs": [{"id": "ref-for-attribution-report\u2460\u2465"}], "title": "19.2.3. Debug reports"}], "external": false};
window.dfnpanelData['attribution-report-reporting-origin'] = {"dfnID": "attribution-report-reporting-origin", "url": "#attribution-report-reporting-origin", "dfnText": "reporting origin", "refSections": [{"refs": [{"id": "ref-for-attribution-report-reporting-origin"}, {"id": "ref-for-attribution-report-reporting-origin\u2460"}], "title": "6. Clear Site Data integration"}, {"refs": [{"id": "ref-for-attribution-report-reporting-origin\u2461"}], "title": "13.13. Obtaining an event-level report"}, {"refs": [{"id": "ref-for-attribution-report-reporting-origin\u2462"}], "title": "13.15. Obtaining an aggregatable report"}, {"refs": [{"id": "ref-for-attribution-report-reporting-origin\u2463"}], "title": "13.16. Generating randomized null reports"}, {"refs": [{"id": "ref-for-attribution-report-reporting-origin\u2464"}], "title": "14.3. Obtaining an aggregatable report\u2019s shared info"}, {"refs": [{"id": "ref-for-attribution-report-reporting-origin\u2465"}], "title": "14.7. Get report request URL"}], "external": false};
window.dfnpanelData['attribution-report-report-time'] = {"dfnID": "attribution-report-report-time", "url": "#attribution-report-report-time", "dfnText": "report time", "refSections": [{"refs": [{"id": "ref-for-attribution-report-report-time"}], "title": "12.4. Processing an attribution source"}, {"refs": [{"id": "ref-for-attribution-report-report-time\u2460"}], "title": "13.9. Triggering event-level attribution"}, {"refs": [{"id": "ref-for-attribution-report-report-time\u2461"}], "title": "13.13. Obtaining an event-level report"}, {"refs": [{"id": "ref-for-attribution-report-report-time\u2462"}], "title": "13.15. Obtaining an aggregatable report"}, {"refs": [{"id": "ref-for-attribution-report-report-time\u2463"}], "title": "13.16. Generating randomized null reports"}, {"refs": [{"id": "ref-for-attribution-report-report-time\u2464"}, {"id": "ref-for-attribution-report-report-time\u2465"}, {"id": "ref-for-attribution-report-report-time\u2466"}], "title": "14. Report delivery"}], "external": false};
window.dfnpanelData['attribution-report-original-report-time'] = {"dfnID": "attribution-report-original-report-time", "url": "#attribution-report-original-report-time", "dfnText": "original report time", "refSections": [{"refs": [{"id": "ref-for-attribution-report-original-report-time"}], "title": "13.13. Obtaining an event-level report"}, {"refs": [{"id": "ref-for-attribution-report-original-report-time\u2460"}], "title": "13.15. Obtaining an aggregatable report"}, {"refs": [{"id": "ref-for-attribution-report-original-report-time\u2461"}], "title": "13.16. Generating randomized null reports"}, {"refs": [{"id": "ref-for-attribution-report-original-report-time\u2462"}], "title": "14.3. Obtaining an aggregatable report\u2019s shared info"}, {"refs": [{"id": "ref-for-attribution-report-original-report-time\u2463"}], "title": "14.5. Serialize attribution report body"}], "external": false};
window.dfnpanelData['attribution-report-delivered'] = {"dfnID": "attribution-report-delivered", "url": "#attribution-report-delivered", "dfnText": "delivered", "refSections": [{"refs": [{"id": "ref-for-attribution-report-delivered"}, {"id": "ref-for-attribution-report-delivered\u2460"}], "title": "14. Report delivery"}], "external": false};
window.dfnpanelData['attribution-report-report-id'] = {"dfnID": "attribution-report-report-id", "url": "#attribution-report-report-id", "dfnText": "report ID", "refSections": [{"refs": [{"id": "ref-for-attribution-report-report-id"}], "title": "13.13. Obtaining an event-level report"}, {"refs": [{"id": "ref-for-attribution-report-report-id\u2460"}], "title": "13.15. Obtaining an aggregatable report"}, {"refs": [{"id": "ref-for-attribution-report-report-id\u2461"}, {"id": "ref-for-attribution-report-report-id\u2462"}], "title": "13.16. Generating randomized null reports"}, {"refs": [{"id": "ref-for-attribution-report-report-id\u2463"}], "title": "14.3. Obtaining an aggregatable report\u2019s shared info"}, {"refs": [{"id": "ref-for-attribution-report-report-id\u2464"}], "title": "14.5. Serialize attribution report body"}], "external": false};
window.dfnpanelData['attribution-report-source-debug-key'] = {"dfnID": "attribution-report-source-debug-key", "url": "#attribution-report-source-debug-key", "dfnText": "source debug key", "refSections": [{"refs": [{"id": "ref-for-attribution-report-source-debug-key"}], "title": "13.9. Triggering event-level attribution"}, {"refs": [{"id": "ref-for-attribution-report-source-debug-key\u2460"}], "title": "13.10. Triggering aggregatable attribution"}, {"refs": [{"id": "ref-for-attribution-report-source-debug-key\u2461"}], "title": "13.13. Obtaining an event-level report"}, {"refs": [{"id": "ref-for-attribution-report-source-debug-key\u2462"}], "title": "13.15. Obtaining an aggregatable report"}, {"refs": [{"id": "ref-for-attribution-report-source-debug-key\u2463"}], "title": "13.16. Generating randomized null reports"}, {"refs": [{"id": "ref-for-attribution-report-source-debug-key\u2464"}], "title": "14.2. Obtaining an aggregatable report\u2019s debug mode"}, {"refs": [{"id": "ref-for-attribution-report-source-debug-key\u2465"}, {"id": "ref-for-attribution-report-source-debug-key\u2466"}, {"id": "ref-for-attribution-report-source-debug-key\u2467"}, {"id": "ref-for-attribution-report-source-debug-key\u2468"}], "title": "14.5. Serialize attribution report body"}], "external": false};
window.dfnpanelData['attribution-report-trigger-debug-key'] = {"dfnID": "attribution-report-trigger-debug-key", "url": "#attribution-report-trigger-debug-key", "dfnText": "trigger debug key", "refSections": [{"refs": [{"id": "ref-for-attribution-report-trigger-debug-key"}], "title": "13.9. Triggering event-level attribution"}, {"refs": [{"id": "ref-for-attribution-report-trigger-debug-key\u2460"}], "title": "13.10. Triggering aggregatable attribution"}, {"refs": [{"id": "ref-for-attribution-report-trigger-debug-key\u2461"}], "title": "13.13. Obtaining an event-level report"}, {"refs": [{"id": "ref-for-attribution-report-trigger-debug-key\u2462"}], "title": "13.15. Obtaining an aggregatable report"}, {"refs": [{"id": "ref-for-attribution-report-trigger-debug-key\u2463"}], "title": "13.16. Generating randomized null reports"}, {"refs": [{"id": "ref-for-attribution-report-trigger-debug-key\u2464"}], "title": "14.2. Obtaining an aggregatable report\u2019s debug mode"}, {"refs": [{"id": "ref-for-attribution-report-trigger-debug-key\u2465"}, {"id": "ref-for-attribution-report-trigger-debug-key\u2466"}, {"id": "ref-for-attribution-report-trigger-debug-key\u2467"}, {"id": "ref-for-attribution-report-trigger-debug-key\u2468"}], "title": "14.5. Serialize attribution report body"}], "external": false};
window.dfnpanelData['event-level-report'] = {"dfnID": "event-level-report", "url": "#event-level-report", "dfnText": "7.16. Event-level report", "refSections": [{"refs": [{"id": "ref-for-event-level-report"}], "title": "6. Clear Site Data integration"}, {"refs": [{"id": "ref-for-event-level-report\u2460"}, {"id": "ref-for-event-level-report\u2461"}], "title": "7.8. Attribution source"}, {"refs": [{"id": "ref-for-event-level-report"}], "title": "7.16. Event-level report"}, {"refs": [{"id": "ref-for-event-level-report\u2462"}], "title": "8. Storage"}, {"refs": [{"id": "ref-for-event-level-report\u2463"}, {"id": "ref-for-event-level-report\u2464"}, {"id": "ref-for-event-level-report\u2465"}], "title": "10. Vendor-Specific Values"}, {"refs": [{"id": "ref-for-event-level-report\u2466"}], "title": "13.8. Obtaining debug data on trigger registration"}, {"refs": [{"id": "ref-for-event-level-report\u2467"}, {"id": "ref-for-event-level-report\u2468"}, {"id": "ref-for-event-level-report\u2460\u24ea"}], "title": "13.9. Triggering event-level attribution"}, {"refs": [{"id": "ref-for-event-level-report\u2460\u2460"}], "title": "13.13. Obtaining an event-level report"}, {"refs": [{"id": "ref-for-event-level-report\u2460\u2461"}, {"id": "ref-for-event-level-report\u2460\u2462"}], "title": "14.5. Serialize attribution report body"}, {"refs": [{"id": "ref-for-event-level-report\u2460\u2463"}], "title": "14.7. Get report request URL"}, {"refs": [{"id": "ref-for-event-level-report\u2460\u2464"}], "title": "14.10. Issuing a report request"}, {"refs": [{"id": "ref-for-event-level-report\u2460\u2465"}, {"id": "ref-for-event-level-report\u2460\u2466"}], "title": "19.2.1. Event-level reports"}, {"refs": [{"id": "ref-for-event-level-report\u2460\u2467"}], "title": "19.3. Protecting against cross-site recognition"}, {"refs": [{"id": "ref-for-event-level-report\u2460\u2468"}, {"id": "ref-for-event-level-report\u2461\u24ea"}, {"id": "ref-for-event-level-report\u2461\u2460"}], "title": "19.3.1. Event-level reports"}, {"refs": [{"id": "ref-for-event-level-report\u2461\u2461"}], "title": "19.6.2. User-presence tracking"}], "external": false};
window.dfnpanelData['event-level-report-event-id'] = {"dfnID": "event-level-report-event-id", "url": "#event-level-report-event-id", "dfnText": "event ID", "refSections": [{"refs": [{"id": "ref-for-event-level-report-event-id"}], "title": "13.13. Obtaining an event-level report"}, {"refs": [{"id": "ref-for-event-level-report-event-id\u2460"}], "title": "14.5. Serialize attribution report body"}, {"refs": [{"id": "ref-for-event-level-report-event-id\u2461"}], "title": "19.3.1. Event-level reports"}], "external": false};
window.dfnpanelData['event-level-report-source-type'] = {"dfnID": "event-level-report-source-type", "url": "#event-level-report-source-type", "dfnText": "source type", "refSections": [{"refs": [{"id": "ref-for-event-level-report-source-type"}], "title": "14.5. Serialize attribution report body"}], "external": false};
window.dfnpanelData['event-level-report-trigger-data'] = {"dfnID": "event-level-report-trigger-data", "url": "#event-level-report-trigger-data", "dfnText": "trigger data", "refSections": [{"refs": [{"id": "ref-for-event-level-report-trigger-data"}], "title": "13.13. Obtaining an event-level report"}, {"refs": [{"id": "ref-for-event-level-report-trigger-data\u2460"}], "title": "14.5. Serialize attribution report body"}], "external": false};
window.dfnpanelData['event-level-report-randomized-trigger-rate'] = {"dfnID": "event-level-report-randomized-trigger-rate", "url": "#event-level-report-randomized-trigger-rate", "dfnText": "randomized trigger rate", "refSections": [{"refs": [{"id": "ref-for-event-level-report-randomized-trigger-rate"}], "title": "13.13. Obtaining an event-level report"}, {"refs": [{"id": "ref-for-event-level-report-randomized-trigger-rate\u2460"}], "title": "14.5. Serialize attribution report body"}], "external": false};
window.dfnpanelData['event-level-report-trigger-priority'] = {"dfnID": "event-level-report-trigger-priority", "url": "#event-level-report-trigger-priority", "dfnText": "trigger priority", "refSections": [{"refs": [{"id": "ref-for-event-level-report-trigger-priority"}, {"id": "ref-for-event-level-report-trigger-priority\u2460"}, {"id": "ref-for-event-level-report-trigger-priority\u2461"}, {"id": "ref-for-event-level-report-trigger-priority\u2462"}], "title": "13.9. Triggering event-level attribution"}, {"refs": [{"id": "ref-for-event-level-report-trigger-priority\u2463"}], "title": "13.13. Obtaining an event-level report"}, {"refs": [{"id": "ref-for-event-level-report-trigger-priority\u2464"}], "title": "19.6.1. Cross-network reporting-origin leakage"}, {"refs": [{"id": "ref-for-event-level-report-trigger-priority\u2465"}, {"id": "ref-for-event-level-report-trigger-priority\u2466"}], "title": "19.6.2. User-presence tracking"}], "external": false};
window.dfnpanelData['event-level-report-trigger-time'] = {"dfnID": "event-level-report-trigger-time", "url": "#event-level-report-trigger-time", "dfnText": "trigger time", "refSections": [{"refs": [{"id": "ref-for-event-level-report-trigger-time"}, {"id": "ref-for-event-level-report-trigger-time\u2460"}], "title": "13.9. Triggering event-level attribution"}, {"refs": [{"id": "ref-for-event-level-report-trigger-time\u2461"}], "title": "13.13. Obtaining an event-level report"}], "external": false};
window.dfnpanelData['event-level-report-source-identifier'] = {"dfnID": "event-level-report-source-identifier", "url": "#event-level-report-source-identifier", "dfnText": "source identifier", "refSections": [{"refs": [{"id": "ref-for-event-level-report-source-identifier"}], "title": "13.9. Triggering event-level attribution"}, {"refs": [{"id": "ref-for-event-level-report-source-identifier\u2460"}], "title": "13.13. Obtaining an event-level report"}], "external": false};
window.dfnpanelData['event-level-report-attribution-destinations'] = {"dfnID": "event-level-report-attribution-destinations", "url": "#event-level-report-attribution-destinations", "dfnText": "attribution destinations", "refSections": [{"refs": [{"id": "ref-for-event-level-report-attribution-destinations"}], "title": "10. Vendor-Specific Values"}, {"refs": [{"id": "ref-for-event-level-report-attribution-destinations\u2460"}], "title": "11.3. Serialize attribution destinations"}, {"refs": [{"id": "ref-for-event-level-report-attribution-destinations\u2461"}], "title": "13.9. Triggering event-level attribution"}, {"refs": [{"id": "ref-for-event-level-report-attribution-destinations\u2462"}], "title": "13.13. Obtaining an event-level report"}, {"refs": [{"id": "ref-for-event-level-report-attribution-destinations\u2463"}], "title": "14.5. Serialize attribution report body"}], "external": false};
window.dfnpanelData['aggregatable-contribution'] = {"dfnID": "aggregatable-contribution", "url": "#aggregatable-contribution", "dfnText": "7.17. Aggregatable contribution", "refSections": [{"refs": [{"id": "ref-for-aggregatable-contribution"}], "title": "7.8. Attribution source"}, {"refs": [{"id": "ref-for-aggregatable-contribution"}], "title": "7.17. Aggregatable contribution"}, {"refs": [{"id": "ref-for-aggregatable-contribution\u2460"}], "title": "7.18. Aggregatable report"}, {"refs": [{"id": "ref-for-aggregatable-contribution\u2461"}, {"id": "ref-for-aggregatable-contribution\u2462"}], "title": "13.6. Creating aggregatable contributions"}, {"refs": [{"id": "ref-for-aggregatable-contribution\u2463"}], "title": "13.7. Can source create aggregatable contributions"}, {"refs": [{"id": "ref-for-aggregatable-contribution\u2464"}], "title": "13.16. Generating randomized null reports"}], "external": false};
window.dfnpanelData['aggregatable-contribution-key'] = {"dfnID": "aggregatable-contribution-key", "url": "#aggregatable-contribution-key", "dfnText": "key", "refSections": [{"refs": [{"id": "ref-for-aggregatable-contribution-key"}], "title": "13.6. Creating aggregatable contributions"}, {"refs": [{"id": "ref-for-aggregatable-contribution-key\u2460"}], "title": "13.16. Generating randomized null reports"}, {"refs": [{"id": "ref-for-aggregatable-contribution-key\u2461"}], "title": "14.4. Obtaining an aggregatable report\u2019s aggregation service payloads"}], "external": false};
window.dfnpanelData['aggregatable-contribution-value'] = {"dfnID": "aggregatable-contribution-value", "url": "#aggregatable-contribution-value", "dfnText": "value", "refSections": [{"refs": [{"id": "ref-for-aggregatable-contribution-value"}], "title": "7.8. Attribution source"}, {"refs": [{"id": "ref-for-aggregatable-contribution-value\u2460"}], "title": "13.6. Creating aggregatable contributions"}, {"refs": [{"id": "ref-for-aggregatable-contribution-value\u2461"}], "title": "13.14. Obtaining an aggregatable report\u2019s required budget"}, {"refs": [{"id": "ref-for-aggregatable-contribution-value\u2462"}], "title": "13.16. Generating randomized null reports"}, {"refs": [{"id": "ref-for-aggregatable-contribution-value\u2463"}], "title": "14.4. Obtaining an aggregatable report\u2019s aggregation service payloads"}], "external": false};
window.dfnpanelData['aggregatable-report'] = {"dfnID": "aggregatable-report", "url": "#aggregatable-report", "dfnText": "7.18. Aggregatable report", "refSections": [{"refs": [{"id": "ref-for-aggregatable-report"}], "title": "6. Clear Site Data integration"}, {"refs": [{"id": "ref-for-aggregatable-report\u2460"}], "title": "7.8. Attribution source"}, {"refs": [{"id": "ref-for-aggregatable-report\u2461"}, {"id": "ref-for-aggregatable-report\u2462"}], "title": "7.13. Aggregatable source registration time configuration"}, {"refs": [{"id": "ref-for-aggregatable-report"}], "title": "7.18. Aggregatable report"}, {"refs": [{"id": "ref-for-aggregatable-report\u2463"}], "title": "8. Storage"}, {"refs": [{"id": "ref-for-aggregatable-report\u2464"}, {"id": "ref-for-aggregatable-report\u2465"}, {"id": "ref-for-aggregatable-report\u2466"}, {"id": "ref-for-aggregatable-report\u2467"}, {"id": "ref-for-aggregatable-report\u2468"}], "title": "10. Vendor-Specific Values"}, {"refs": [{"id": "ref-for-aggregatable-report\u2460\u24ea"}], "title": "13.7. Can source create aggregatable contributions"}, {"refs": [{"id": "ref-for-aggregatable-report\u2460\u2460"}], "title": "13.14. Obtaining an aggregatable report\u2019s required budget"}, {"refs": [{"id": "ref-for-aggregatable-report\u2460\u2461"}], "title": "13.15. Obtaining an aggregatable report"}, {"refs": [{"id": "ref-for-aggregatable-report\u2460\u2462"}, {"id": "ref-for-aggregatable-report\u2460\u2463"}, {"id": "ref-for-aggregatable-report\u2460\u2464"}, {"id": "ref-for-aggregatable-report\u2460\u2465"}], "title": "13.16. Generating randomized null reports"}, {"refs": [{"id": "ref-for-aggregatable-report\u2460\u2466"}], "title": "14.2. Obtaining an aggregatable report\u2019s debug mode"}, {"refs": [{"id": "ref-for-aggregatable-report\u2460\u2467"}], "title": "14.3. Obtaining an aggregatable report\u2019s shared info"}, {"refs": [{"id": "ref-for-aggregatable-report\u2460\u2468"}, {"id": "ref-for-aggregatable-report\u2461\u24ea"}, {"id": "ref-for-aggregatable-report\u2461\u2460"}], "title": "14.4. Obtaining an aggregatable report\u2019s aggregation service payloads"}, {"refs": [{"id": "ref-for-aggregatable-report\u2461\u2461"}, {"id": "ref-for-aggregatable-report\u2461\u2462"}], "title": "14.5. Serialize attribution report body"}, {"refs": [{"id": "ref-for-aggregatable-report\u2461\u2463"}], "title": "14.7. Get report request URL"}, {"refs": [{"id": "ref-for-aggregatable-report\u2461\u2464"}], "title": "14.9. Get report request headers"}, {"refs": [{"id": "ref-for-aggregatable-report\u2461\u2465"}], "title": "14.10. Issuing a report request"}, {"refs": [{"id": "ref-for-aggregatable-report\u2461\u2466"}, {"id": "ref-for-aggregatable-report\u2461\u2467"}], "title": "19.2.2. Aggregatable reports"}, {"refs": [{"id": "ref-for-aggregatable-report\u2461\u2468"}], "title": "19.3. Protecting against cross-site recognition"}, {"refs": [{"id": "ref-for-aggregatable-report\u2462\u24ea"}, {"id": "ref-for-aggregatable-report\u2462\u2460"}], "title": "19.3.2. Aggregatable reports"}], "external": false};
window.dfnpanelData['aggregatable-report-source-time'] = {"dfnID": "aggregatable-report-source-time", "url": "#aggregatable-report-source-time", "dfnText": "source time", "refSections": [{"refs": [{"id": "ref-for-aggregatable-report-source-time"}], "title": "13.15. Obtaining an aggregatable report"}, {"refs": [{"id": "ref-for-aggregatable-report-source-time\u2460"}, {"id": "ref-for-aggregatable-report-source-time\u2461"}], "title": "13.16. Generating randomized null reports"}, {"refs": [{"id": "ref-for-aggregatable-report-source-time\u2462"}], "title": "14.3. Obtaining an aggregatable report\u2019s shared info"}], "external": false};
window.dfnpanelData['aggregatable-report-contributions'] = {"dfnID": "aggregatable-report-contributions", "url": "#aggregatable-report-contributions", "dfnText": "contributions", "refSections": [{"refs": [{"id": "ref-for-aggregatable-report-contributions"}], "title": "13.10. Triggering aggregatable attribution"}, {"refs": [{"id": "ref-for-aggregatable-report-contributions\u2460"}], "title": "13.14. Obtaining an aggregatable report\u2019s required budget"}, {"refs": [{"id": "ref-for-aggregatable-report-contributions\u2461"}], "title": "13.15. Obtaining an aggregatable report"}, {"refs": [{"id": "ref-for-aggregatable-report-contributions\u2462"}], "title": "13.16. Generating randomized null reports"}, {"refs": [{"id": "ref-for-aggregatable-report-contributions\u2463"}], "title": "14.4. Obtaining an aggregatable report\u2019s aggregation service payloads"}, {"refs": [{"id": "ref-for-aggregatable-report-contributions\u2464"}], "title": "19.2.2. Aggregatable reports"}], "external": false};
window.dfnpanelData['aggregatable-report-effective-attribution-destination'] = {"dfnID": "aggregatable-report-effective-attribution-destination", "url": "#aggregatable-report-effective-attribution-destination", "dfnText": "effective attribution destination", "refSections": [{"refs": [{"id": "ref-for-aggregatable-report-effective-attribution-destination"}], "title": "10. Vendor-Specific Values"}, {"refs": [{"id": "ref-for-aggregatable-report-effective-attribution-destination\u2460"}], "title": "13.10. Triggering aggregatable attribution"}, {"refs": [{"id": "ref-for-aggregatable-report-effective-attribution-destination\u2461"}], "title": "13.15. Obtaining an aggregatable report"}, {"refs": [{"id": "ref-for-aggregatable-report-effective-attribution-destination\u2462"}], "title": "13.16. Generating randomized null reports"}, {"refs": [{"id": "ref-for-aggregatable-report-effective-attribution-destination\u2463"}], "title": "14.3. Obtaining an aggregatable report\u2019s shared info"}, {"refs": [{"id": "ref-for-aggregatable-report-effective-attribution-destination\u2464"}], "title": "14.5. Serialize attribution report body"}, {"refs": [{"id": "ref-for-aggregatable-report-effective-attribution-destination\u2465"}], "title": "19.3.2. Aggregatable reports"}], "external": false};
window.dfnpanelData['aggregatable-report-serialized-private-state-token'] = {"dfnID": "aggregatable-report-serialized-private-state-token", "url": "#aggregatable-report-serialized-private-state-token", "dfnText": "serialized private state token", "refSections": [{"refs": [{"id": "ref-for-aggregatable-report-serialized-private-state-token"}], "title": "13.15. Obtaining an aggregatable report"}, {"refs": [{"id": "ref-for-aggregatable-report-serialized-private-state-token\u2460"}, {"id": "ref-for-aggregatable-report-serialized-private-state-token\u2461"}], "title": "13.16. Generating randomized null reports"}, {"refs": [{"id": "ref-for-aggregatable-report-serialized-private-state-token\u2462"}, {"id": "ref-for-aggregatable-report-serialized-private-state-token\u2463"}], "title": "14.9. Get report request headers"}], "external": false};
window.dfnpanelData['aggregatable-report-aggregation-coordinator'] = {"dfnID": "aggregatable-report-aggregation-coordinator", "url": "#aggregatable-report-aggregation-coordinator", "dfnText": "aggregation coordinator", "refSections": [{"refs": [{"id": "ref-for-aggregatable-report-aggregation-coordinator"}], "title": "13.15. Obtaining an aggregatable report"}, {"refs": [{"id": "ref-for-aggregatable-report-aggregation-coordinator\u2460"}], "title": "13.16. Generating randomized null reports"}, {"refs": [{"id": "ref-for-aggregatable-report-aggregation-coordinator\u2461"}], "title": "14.4. Obtaining an aggregatable report\u2019s aggregation service payloads"}, {"refs": [{"id": "ref-for-aggregatable-report-aggregation-coordinator\u2462"}], "title": "14.5. Serialize attribution report body"}], "external": false};
window.dfnpanelData['aggregatable-report-source-registration-time-configuration'] = {"dfnID": "aggregatable-report-source-registration-time-configuration", "url": "#aggregatable-report-source-registration-time-configuration", "dfnText": "source registration time configuration", "refSections": [{"refs": [{"id": "ref-for-aggregatable-report-source-registration-time-configuration"}], "title": "13.15. Obtaining an aggregatable report"}, {"refs": [{"id": "ref-for-aggregatable-report-source-registration-time-configuration\u2460"}], "title": "13.16. Generating randomized null reports"}, {"refs": [{"id": "ref-for-aggregatable-report-source-registration-time-configuration\u2461"}], "title": "14.3. Obtaining an aggregatable report\u2019s shared info"}], "external": false};
window.dfnpanelData['aggregatable-report-is-null-report'] = {"dfnID": "aggregatable-report-is-null-report", "url": "#aggregatable-report-is-null-report", "dfnText": "is null report", "refSections": [{"refs": [{"id": "ref-for-aggregatable-report-is-null-report"}], "title": "13.10. Triggering aggregatable attribution"}, {"refs": [{"id": "ref-for-aggregatable-report-is-null-report\u2460"}], "title": "13.16. Generating randomized null reports"}], "external": false};
window.dfnpanelData['rate-limit-scope'] = {"dfnID": "rate-limit-scope", "url": "#rate-limit-scope", "dfnText": "rate-limit scope", "refSections": [{"refs": [{"id": "ref-for-rate-limit-scope"}], "title": "7.19. Attribution rate-limits"}], "external": false};
window.dfnpanelData['rate-limit-scope-source'] = {"dfnID": "rate-limit-scope-source", "url": "#rate-limit-scope-source", "dfnText": "source", "refSections": [{"refs": [{"id": "ref-for-rate-limit-scope-source"}, {"id": "ref-for-rate-limit-scope-source\u2460"}, {"id": "ref-for-rate-limit-scope-source\u2461"}], "title": "12.4. Processing an attribution source"}, {"refs": [{"id": "ref-for-rate-limit-scope-source\u2462"}, {"id": "ref-for-rate-limit-scope-source\u2463"}], "title": "13.4. Should processing be blocked by reporting-origin limit"}], "external": false};
window.dfnpanelData['rate-limit-scope-attribution'] = {"dfnID": "rate-limit-scope-attribution", "url": "#rate-limit-scope-attribution", "dfnText": "attribution", "refSections": [{"refs": [{"id": "ref-for-rate-limit-scope-attribution"}], "title": "11.10. Can attribution rate-limit record be removed"}, {"refs": [{"id": "ref-for-rate-limit-scope-attribution\u2460"}], "title": "12.4. Processing an attribution source"}, {"refs": [{"id": "ref-for-rate-limit-scope-attribution\u2461"}], "title": "13.3. Should attribution be blocked by attribution rate limit"}, {"refs": [{"id": "ref-for-rate-limit-scope-attribution\u2462"}, {"id": "ref-for-rate-limit-scope-attribution\u2463"}], "title": "13.4. Should processing be blocked by reporting-origin limit"}, {"refs": [{"id": "ref-for-rate-limit-scope-attribution\u2464"}], "title": "13.11. Triggering attribution"}], "external": false};
window.dfnpanelData['attribution-rate-limit-record'] = {"dfnID": "attribution-rate-limit-record", "url": "#attribution-rate-limit-record", "dfnText": "attribution rate-limit record", "refSections": [{"refs": [{"id": "ref-for-attribution-rate-limit-record"}], "title": "8. Storage"}, {"refs": [{"id": "ref-for-attribution-rate-limit-record\u2460"}, {"id": "ref-for-attribution-rate-limit-record\u2461"}], "title": "11.10. Can attribution rate-limit record be removed"}, {"refs": [{"id": "ref-for-attribution-rate-limit-record\u2462"}, {"id": "ref-for-attribution-rate-limit-record\u2463"}, {"id": "ref-for-attribution-rate-limit-record\u2464"}, {"id": "ref-for-attribution-rate-limit-record\u2465"}, {"id": "ref-for-attribution-rate-limit-record\u2466"}, {"id": "ref-for-attribution-rate-limit-record\u2467"}, {"id": "ref-for-attribution-rate-limit-record\u2468"}], "title": "12.4. Processing an attribution source"}, {"refs": [{"id": "ref-for-attribution-rate-limit-record\u2460\u24ea"}], "title": "13.3. Should attribution be blocked by attribution rate limit"}, {"refs": [{"id": "ref-for-attribution-rate-limit-record\u2460\u2460"}, {"id": "ref-for-attribution-rate-limit-record\u2460\u2461"}, {"id": "ref-for-attribution-rate-limit-record\u2460\u2462"}], "title": "13.4. Should processing be blocked by reporting-origin limit"}, {"refs": [{"id": "ref-for-attribution-rate-limit-record\u2460\u2463"}], "title": "13.5. Should attribution be blocked by rate limits"}, {"refs": [{"id": "ref-for-attribution-rate-limit-record\u2460\u2464"}], "title": "13.9. Triggering event-level attribution"}, {"refs": [{"id": "ref-for-attribution-rate-limit-record\u2460\u2465"}], "title": "13.10. Triggering aggregatable attribution"}, {"refs": [{"id": "ref-for-attribution-rate-limit-record\u2460\u2466"}, {"id": "ref-for-attribution-rate-limit-record\u2460\u2467"}], "title": "13.11. Triggering attribution"}], "external": false};
window.dfnpanelData['attribution-rate-limit-record-scope'] = {"dfnID": "attribution-rate-limit-record-scope", "url": "#attribution-rate-limit-record-scope", "dfnText": "scope", "refSections": [{"refs": [{"id": "ref-for-attribution-rate-limit-record-scope"}], "title": "11.10. Can attribution rate-limit record be removed"}, {"refs": [{"id": "ref-for-attribution-rate-limit-record-scope\u2460"}, {"id": "ref-for-attribution-rate-limit-record-scope\u2461"}, {"id": "ref-for-attribution-rate-limit-record-scope\u2462"}, {"id": "ref-for-attribution-rate-limit-record-scope\u2463"}], "title": "12.4. Processing an attribution source"}, {"refs": [{"id": "ref-for-attribution-rate-limit-record-scope\u2464"}], "title": "13.3. Should attribution be blocked by attribution rate limit"}, {"refs": [{"id": "ref-for-attribution-rate-limit-record-scope\u2465"}, {"id": "ref-for-attribution-rate-limit-record-scope\u2466"}, {"id": "ref-for-attribution-rate-limit-record-scope\u2467"}, {"id": "ref-for-attribution-rate-limit-record-scope\u2468"}, {"id": "ref-for-attribution-rate-limit-record-scope\u2460\u24ea"}], "title": "13.4. Should processing be blocked by reporting-origin limit"}, {"refs": [{"id": "ref-for-attribution-rate-limit-record-scope\u2460\u2460"}], "title": "13.11. Triggering attribution"}], "external": false};
window.dfnpanelData['attribution-rate-limit-record-source-site'] = {"dfnID": "attribution-rate-limit-record-source-site", "url": "#attribution-rate-limit-record-source-site", "dfnText": "source site", "refSections": [{"refs": [{"id": "ref-for-attribution-rate-limit-record-source-site"}, {"id": "ref-for-attribution-rate-limit-record-source-site\u2460"}, {"id": "ref-for-attribution-rate-limit-record-source-site\u2461"}, {"id": "ref-for-attribution-rate-limit-record-source-site\u2462"}], "title": "10. Vendor-Specific Values"}, {"refs": [{"id": "ref-for-attribution-rate-limit-record-source-site\u2463"}, {"id": "ref-for-attribution-rate-limit-record-source-site\u2464"}, {"id": "ref-for-attribution-rate-limit-record-source-site\u2465"}, {"id": "ref-for-attribution-rate-limit-record-source-site\u2466"}], "title": "12.4. Processing an attribution source"}, {"refs": [{"id": "ref-for-attribution-rate-limit-record-source-site\u2467"}], "title": "13.3. Should attribution be blocked by attribution rate limit"}, {"refs": [{"id": "ref-for-attribution-rate-limit-record-source-site\u2468"}, {"id": "ref-for-attribution-rate-limit-record-source-site\u2460\u24ea"}, {"id": "ref-for-attribution-rate-limit-record-source-site\u2460\u2460"}, {"id": "ref-for-attribution-rate-limit-record-source-site\u2460\u2461"}], "title": "13.4. Should processing be blocked by reporting-origin limit"}, {"refs": [{"id": "ref-for-attribution-rate-limit-record-source-site\u2460\u2462"}], "title": "13.11. Triggering attribution"}], "external": false};
window.dfnpanelData['attribution-rate-limit-record-attribution-destination'] = {"dfnID": "attribution-rate-limit-record-attribution-destination", "url": "#attribution-rate-limit-record-attribution-destination", "dfnText": "attribution destination", "refSections": [{"refs": [{"id": "ref-for-attribution-rate-limit-record-attribution-destination"}, {"id": "ref-for-attribution-rate-limit-record-attribution-destination\u2460"}, {"id": "ref-for-attribution-rate-limit-record-attribution-destination\u2461"}], "title": "10. Vendor-Specific Values"}, {"refs": [{"id": "ref-for-attribution-rate-limit-record-attribution-destination\u2462"}, {"id": "ref-for-attribution-rate-limit-record-attribution-destination\u2463"}, {"id": "ref-for-attribution-rate-limit-record-attribution-destination\u2464"}, {"id": "ref-for-attribution-rate-limit-record-attribution-destination\u2465"}, {"id": "ref-for-attribution-rate-limit-record-attribution-destination\u2466"}], "title": "12.4. Processing an attribution source"}, {"refs": [{"id": "ref-for-attribution-rate-limit-record-attribution-destination\u2467"}], "title": "13.3. Should attribution be blocked by attribution rate limit"}, {"refs": [{"id": "ref-for-attribution-rate-limit-record-attribution-destination\u2468"}, {"id": "ref-for-attribution-rate-limit-record-attribution-destination\u2460\u24ea"}], "title": "13.4. Should processing be blocked by reporting-origin limit"}, {"refs": [{"id": "ref-for-attribution-rate-limit-record-attribution-destination\u2460\u2460"}], "title": "13.11. Triggering attribution"}], "external": false};
window.dfnpanelData['attribution-rate-limit-record-reporting-origin'] = {"dfnID": "attribution-rate-limit-record-reporting-origin", "url": "#attribution-rate-limit-record-reporting-origin", "dfnText": "reporting origin", "refSections": [{"refs": [{"id": "ref-for-attribution-rate-limit-record-reporting-origin"}, {"id": "ref-for-attribution-rate-limit-record-reporting-origin\u2460"}], "title": "10. Vendor-Specific Values"}, {"refs": [{"id": "ref-for-attribution-rate-limit-record-reporting-origin\u2461"}, {"id": "ref-for-attribution-rate-limit-record-reporting-origin\u2462"}, {"id": "ref-for-attribution-rate-limit-record-reporting-origin\u2463"}, {"id": "ref-for-attribution-rate-limit-record-reporting-origin\u2464"}], "title": "12.4. Processing an attribution source"}, {"refs": [{"id": "ref-for-attribution-rate-limit-record-reporting-origin\u2465"}], "title": "13.3. Should attribution be blocked by attribution rate limit"}, {"refs": [{"id": "ref-for-attribution-rate-limit-record-reporting-origin\u2466"}, {"id": "ref-for-attribution-rate-limit-record-reporting-origin\u2467"}, {"id": "ref-for-attribution-rate-limit-record-reporting-origin\u2468"}, {"id": "ref-for-attribution-rate-limit-record-reporting-origin\u2460\u24ea"}], "title": "13.4. Should processing be blocked by reporting-origin limit"}, {"refs": [{"id": "ref-for-attribution-rate-limit-record-reporting-origin\u2460\u2460"}], "title": "13.11. Triggering attribution"}], "external": false};
window.dfnpanelData['attribution-rate-limit-record-time'] = {"dfnID": "attribution-rate-limit-record-time", "url": "#attribution-rate-limit-record-time", "dfnText": "time", "refSections": [{"refs": [{"id": "ref-for-attribution-rate-limit-record-time"}, {"id": "ref-for-attribution-rate-limit-record-time\u2460"}, {"id": "ref-for-attribution-rate-limit-record-time\u2461"}], "title": "12.4. Processing an attribution source"}, {"refs": [{"id": "ref-for-attribution-rate-limit-record-time\u2462"}], "title": "13.3. Should attribution be blocked by attribution rate limit"}, {"refs": [{"id": "ref-for-attribution-rate-limit-record-time\u2463"}, {"id": "ref-for-attribution-rate-limit-record-time\u2464"}, {"id": "ref-for-attribution-rate-limit-record-time\u2465"}, {"id": "ref-for-attribution-rate-limit-record-time\u2466"}], "title": "13.4. Should processing be blocked by reporting-origin limit"}, {"refs": [{"id": "ref-for-attribution-rate-limit-record-time\u2467"}], "title": "13.11. Triggering attribution"}], "external": false};
window.dfnpanelData['attribution-rate-limit-record-expiry-time'] = {"dfnID": "attribution-rate-limit-record-expiry-time", "url": "#attribution-rate-limit-record-expiry-time", "dfnText": "expiry time", "refSections": [{"refs": [{"id": "ref-for-attribution-rate-limit-record-expiry-time"}], "title": "11.10. Can attribution rate-limit record be removed"}, {"refs": [{"id": "ref-for-attribution-rate-limit-record-expiry-time\u2460"}, {"id": "ref-for-attribution-rate-limit-record-expiry-time\u2461"}, {"id": "ref-for-attribution-rate-limit-record-expiry-time\u2462"}, {"id": "ref-for-attribution-rate-limit-record-expiry-time\u2463"}], "title": "12.4. Processing an attribution source"}, {"refs": [{"id": "ref-for-attribution-rate-limit-record-expiry-time\u2464"}], "title": "13.11. Triggering attribution"}], "external": false};
window.dfnpanelData['attribution-debug-data'] = {"dfnID": "attribution-debug-data", "url": "#attribution-debug-data", "dfnText": "7.20. Attribution debug data", "refSections": [{"refs": [{"id": "ref-for-attribution-debug-data"}, {"id": "ref-for-attribution-debug-data"}], "title": "7.20. Attribution debug data"}, {"refs": [{"id": "ref-for-attribution-debug-data\u2460"}], "title": "7.21. Attribution debug report"}, {"refs": [{"id": "ref-for-attribution-debug-data\u2461"}], "title": "7.25. Triggering result"}, {"refs": [{"id": "ref-for-attribution-debug-data\u2462"}], "title": "11.11. Obtaining and delivering an attribution debug report"}, {"refs": [{"id": "ref-for-attribution-debug-data\u2463"}], "title": "12.4. Processing an attribution source"}, {"refs": [{"id": "ref-for-attribution-debug-data\u2464"}], "title": "13.8. Obtaining debug data on trigger registration"}, {"refs": [{"id": "ref-for-attribution-debug-data\u2465"}], "title": "16.2. Handle trigger verification"}, {"refs": [{"id": "ref-for-attribution-debug-data\u2466"}, {"id": "ref-for-attribution-debug-data\u2467"}], "title": "18.1. Same-Origin Policy"}], "external": false};
window.dfnpanelData['debug-data-type'] = {"dfnID": "debug-data-type", "url": "#debug-data-type", "dfnText": "debug data type", "refSections": [{"refs": [{"id": "ref-for-debug-data-type"}, {"id": "ref-for-debug-data-type\u2460"}, {"id": "ref-for-debug-data-type\u2461"}, {"id": "ref-for-debug-data-type\u2462"}], "title": "7.20. Attribution debug data"}, {"refs": [{"id": "ref-for-debug-data-type\u2463"}], "title": "19.2.3. Debug reports"}], "external": false};
window.dfnpanelData['source-debug-data-type'] = {"dfnID": "source-debug-data-type", "url": "#source-debug-data-type", "dfnText": "source debug data type", "refSections": [{"refs": [{"id": "ref-for-source-debug-data-type"}, {"id": "ref-for-source-debug-data-type\u2460"}, {"id": "ref-for-source-debug-data-type\u2461"}], "title": "12.4. Processing an attribution source"}], "external": false};
window.dfnpanelData['source-debug-data-type-source-destination-limit'] = {"dfnID": "source-debug-data-type-source-destination-limit", "url": "#source-debug-data-type-source-destination-limit", "dfnText": "source-destination-limit", "refSections": [{"refs": [{"id": "ref-for-source-debug-data-type-source-destination-limit"}, {"id": "ref-for-source-debug-data-type-source-destination-limit\u2460"}, {"id": "ref-for-source-debug-data-type-source-destination-limit\u2461"}], "title": "12.4. Processing an attribution source"}], "external": false};
window.dfnpanelData['source-debug-data-type-source-destination-rate-limit'] = {"dfnID": "source-debug-data-type-source-destination-rate-limit", "url": "#source-debug-data-type-source-destination-rate-limit", "dfnText": "source-destination-rate-limit", "refSections": [{"refs": [{"id": "ref-for-source-debug-data-type-source-destination-rate-limit"}, {"id": "ref-for-source-debug-data-type-source-destination-rate-limit\u2460"}, {"id": "ref-for-source-debug-data-type-source-destination-rate-limit\u2461"}], "title": "12.4. Processing an attribution source"}], "external": false};
window.dfnpanelData['source-debug-data-type-source-noised'] = {"dfnID": "source-debug-data-type-source-noised", "url": "#source-debug-data-type-source-noised", "dfnText": "source-noised", "refSections": [{"refs": [{"id": "ref-for-source-debug-data-type-source-noised"}, {"id": "ref-for-source-debug-data-type-source-noised\u2460"}], "title": "12.4. Processing an attribution source"}], "external": false};
window.dfnpanelData['source-debug-data-type-source-storage-limit'] = {"dfnID": "source-debug-data-type-source-storage-limit", "url": "#source-debug-data-type-source-storage-limit", "dfnText": "source-storage-limit", "refSections": [{"refs": [{"id": "ref-for-source-debug-data-type-source-storage-limit"}, {"id": "ref-for-source-debug-data-type-source-storage-limit\u2460"}, {"id": "ref-for-source-debug-data-type-source-storage-limit\u2461"}], "title": "12.4. Processing an attribution source"}], "external": false};
window.dfnpanelData['source-debug-data-type-source-success'] = {"dfnID": "source-debug-data-type-source-success", "url": "#source-debug-data-type-source-success", "dfnText": "source-success", "refSections": [{"refs": [{"id": "ref-for-source-debug-data-type-source-success"}, {"id": "ref-for-source-debug-data-type-source-success\u2460"}, {"id": "ref-for-source-debug-data-type-source-success\u2461"}, {"id": "ref-for-source-debug-data-type-source-success\u2462"}, {"id": "ref-for-source-debug-data-type-source-success\u2463"}], "title": "12.4. Processing an attribution source"}, {"refs": [{"id": "ref-for-source-debug-data-type-source-success\u2464"}], "title": "18.1. Same-Origin Policy"}], "external": false};
window.dfnpanelData['source-debug-data-type-source-unknown-error'] = {"dfnID": "source-debug-data-type-source-unknown-error", "url": "#source-debug-data-type-source-unknown-error", "dfnText": "source-unknown-error", "refSections": [{"refs": [{"id": "ref-for-source-debug-data-type-source-unknown-error"}], "title": "12.4. Processing an attribution source"}], "external": false};
window.dfnpanelData['trigger-debug-data-type'] = {"dfnID": "trigger-debug-data-type", "url": "#trigger-debug-data-type", "dfnText": "trigger debug data type", "refSections": [{"refs": [{"id": "ref-for-trigger-debug-data-type"}, {"id": "ref-for-trigger-debug-data-type\u2460"}], "title": "13.8. Obtaining debug data on trigger registration"}, {"refs": [{"id": "ref-for-trigger-debug-data-type\u2461"}], "title": "13.11. Triggering attribution"}], "external": false};
window.dfnpanelData['trigger-debug-data-type-trigger-aggregate-deduplicated'] = {"dfnID": "trigger-debug-data-type-trigger-aggregate-deduplicated", "url": "#trigger-debug-data-type-trigger-aggregate-deduplicated", "dfnText": "trigger-aggregate-deduplicated", "refSections": [{"refs": [{"id": "ref-for-trigger-debug-data-type-trigger-aggregate-deduplicated"}], "title": "13.10. Triggering aggregatable attribution"}], "external": false};
window.dfnpanelData['trigger-debug-data-type-trigger-aggregate-excessive-reports'] = {"dfnID": "trigger-debug-data-type-trigger-aggregate-excessive-reports", "url": "#trigger-debug-data-type-trigger-aggregate-excessive-reports", "dfnText": "trigger-aggregate-excessive-reports", "refSections": [{"refs": [{"id": "ref-for-trigger-debug-data-type-trigger-aggregate-excessive-reports"}], "title": "13.8. Obtaining debug data on trigger registration"}, {"refs": [{"id": "ref-for-trigger-debug-data-type-trigger-aggregate-excessive-reports\u2460"}], "title": "13.10. Triggering aggregatable attribution"}], "external": false};
window.dfnpanelData['trigger-debug-data-type-trigger-aggregate-no-contributions'] = {"dfnID": "trigger-debug-data-type-trigger-aggregate-no-contributions", "url": "#trigger-debug-data-type-trigger-aggregate-no-contributions", "dfnText": "trigger-aggregate-no-contributions", "refSections": [{"refs": [{"id": "ref-for-trigger-debug-data-type-trigger-aggregate-no-contributions"}], "title": "13.10. Triggering aggregatable attribution"}], "external": false};
window.dfnpanelData['trigger-debug-data-type-trigger-aggregate-insufficient-budget'] = {"dfnID": "trigger-debug-data-type-trigger-aggregate-insufficient-budget", "url": "#trigger-debug-data-type-trigger-aggregate-insufficient-budget", "dfnText": "trigger-aggregate-insufficient-budget", "refSections": [{"refs": [{"id": "ref-for-trigger-debug-data-type-trigger-aggregate-insufficient-budget"}], "title": "13.8. Obtaining debug data on trigger registration"}, {"refs": [{"id": "ref-for-trigger-debug-data-type-trigger-aggregate-insufficient-budget\u2460"}], "title": "13.10. Triggering aggregatable attribution"}], "external": false};
window.dfnpanelData['trigger-debug-data-type-trigger-aggregate-storage-limit'] = {"dfnID": "trigger-debug-data-type-trigger-aggregate-storage-limit", "url": "#trigger-debug-data-type-trigger-aggregate-storage-limit", "dfnText": "trigger-aggregate-storage-limit", "refSections": [{"refs": [{"id": "ref-for-trigger-debug-data-type-trigger-aggregate-storage-limit"}], "title": "13.8. Obtaining debug data on trigger registration"}, {"refs": [{"id": "ref-for-trigger-debug-data-type-trigger-aggregate-storage-limit\u2460"}], "title": "13.10. Triggering aggregatable attribution"}], "external": false};
window.dfnpanelData['trigger-debug-data-type-trigger-aggregate-report-window-passed'] = {"dfnID": "trigger-debug-data-type-trigger-aggregate-report-window-passed", "url": "#trigger-debug-data-type-trigger-aggregate-report-window-passed", "dfnText": "trigger-aggregate-report-window-passed", "refSections": [{"refs": [{"id": "ref-for-trigger-debug-data-type-trigger-aggregate-report-window-passed"}], "title": "13.10. Triggering aggregatable attribution"}], "external": false};
window.dfnpanelData['trigger-debug-data-type-trigger-attributions-per-source-destination-limit'] = {"dfnID": "trigger-debug-data-type-trigger-attributions-per-source-destination-limit", "url": "#trigger-debug-data-type-trigger-attributions-per-source-destination-limit", "dfnText": "trigger-attributions-per-source-destination-limit", "refSections": [{"refs": [{"id": "ref-for-trigger-debug-data-type-trigger-attributions-per-source-destination-limit"}], "title": "13.5. Should attribution be blocked by rate limits"}, {"refs": [{"id": "ref-for-trigger-debug-data-type-trigger-attributions-per-source-destination-limit\u2460"}], "title": "13.8. Obtaining debug data on trigger registration"}], "external": false};
window.dfnpanelData['trigger-debug-data-type-trigger-event-deduplicated'] = {"dfnID": "trigger-debug-data-type-trigger-event-deduplicated", "url": "#trigger-debug-data-type-trigger-event-deduplicated", "dfnText": "trigger-event-deduplicated", "refSections": [{"refs": [{"id": "ref-for-trigger-debug-data-type-trigger-event-deduplicated"}], "title": "13.9. Triggering event-level attribution"}], "external": false};
window.dfnpanelData['trigger-debug-data-type-trigger-event-excessive-reports'] = {"dfnID": "trigger-debug-data-type-trigger-event-excessive-reports", "url": "#trigger-debug-data-type-trigger-event-excessive-reports", "dfnText": "trigger-event-excessive-reports", "refSections": [{"refs": [{"id": "ref-for-trigger-debug-data-type-trigger-event-excessive-reports"}], "title": "13.8. Obtaining debug data on trigger registration"}, {"refs": [{"id": "ref-for-trigger-debug-data-type-trigger-event-excessive-reports\u2460"}, {"id": "ref-for-trigger-debug-data-type-trigger-event-excessive-reports\u2461"}], "title": "13.9. Triggering event-level attribution"}], "external": false};
window.dfnpanelData['trigger-debug-data-type-trigger-event-low-priority'] = {"dfnID": "trigger-debug-data-type-trigger-event-low-priority", "url": "#trigger-debug-data-type-trigger-event-low-priority", "dfnText": "trigger-event-low-priority", "refSections": [{"refs": [{"id": "ref-for-trigger-debug-data-type-trigger-event-low-priority"}], "title": "13.8. Obtaining debug data on trigger registration"}, {"refs": [{"id": "ref-for-trigger-debug-data-type-trigger-event-low-priority\u2460"}], "title": "13.9. Triggering event-level attribution"}], "external": false};
window.dfnpanelData['trigger-debug-data-type-trigger-event-no-matching-configurations'] = {"dfnID": "trigger-debug-data-type-trigger-event-no-matching-configurations", "url": "#trigger-debug-data-type-trigger-event-no-matching-configurations", "dfnText": "trigger-event-no-matching-configurations", "refSections": [{"refs": [{"id": "ref-for-trigger-debug-data-type-trigger-event-no-matching-configurations"}], "title": "13.9. Triggering event-level attribution"}], "external": false};
window.dfnpanelData['trigger-debug-data-type-trigger-event-noise'] = {"dfnID": "trigger-debug-data-type-trigger-event-noise", "url": "#trigger-debug-data-type-trigger-event-noise", "dfnText": "trigger-event-noise", "refSections": [{"refs": [{"id": "ref-for-trigger-debug-data-type-trigger-event-noise"}, {"id": "ref-for-trigger-debug-data-type-trigger-event-noise\u2460"}], "title": "13.9. Triggering event-level attribution"}], "external": false};
window.dfnpanelData['trigger-debug-data-type-trigger-event-report-window-not-started'] = {"dfnID": "trigger-debug-data-type-trigger-event-report-window-not-started", "url": "#trigger-debug-data-type-trigger-event-report-window-not-started", "dfnText": "trigger-event-report-window-not-started", "refSections": [{"refs": [{"id": "ref-for-trigger-debug-data-type-trigger-event-report-window-not-started"}], "title": "13.9. Triggering event-level attribution"}], "external": false};
window.dfnpanelData['trigger-debug-data-type-trigger-event-report-window-passed'] = {"dfnID": "trigger-debug-data-type-trigger-event-report-window-passed", "url": "#trigger-debug-data-type-trigger-event-report-window-passed", "dfnText": "trigger-event-report-window-passed", "refSections": [{"refs": [{"id": "ref-for-trigger-debug-data-type-trigger-event-report-window-passed"}], "title": "13.9. Triggering event-level attribution"}], "external": false};
window.dfnpanelData['trigger-debug-data-type-trigger-event-storage-limit'] = {"dfnID": "trigger-debug-data-type-trigger-event-storage-limit", "url": "#trigger-debug-data-type-trigger-event-storage-limit", "dfnText": "trigger-event-storage-limit", "refSections": [{"refs": [{"id": "ref-for-trigger-debug-data-type-trigger-event-storage-limit"}], "title": "13.8. Obtaining debug data on trigger registration"}, {"refs": [{"id": "ref-for-trigger-debug-data-type-trigger-event-storage-limit\u2460"}], "title": "13.9. Triggering event-level attribution"}], "external": false};
window.dfnpanelData['trigger-debug-data-type-trigger-no-matching-source'] = {"dfnID": "trigger-debug-data-type-trigger-no-matching-source", "url": "#trigger-debug-data-type-trigger-no-matching-source", "dfnText": "trigger-no-matching-source", "refSections": [{"refs": [{"id": "ref-for-trigger-debug-data-type-trigger-no-matching-source"}], "title": "13.11. Triggering attribution"}], "external": false};
window.dfnpanelData['trigger-debug-data-type-trigger-no-matching-filter-data'] = {"dfnID": "trigger-debug-data-type-trigger-no-matching-filter-data", "url": "#trigger-debug-data-type-trigger-no-matching-filter-data", "dfnText": "trigger-no-matching-filter-data", "refSections": [{"refs": [{"id": "ref-for-trigger-debug-data-type-trigger-no-matching-filter-data"}], "title": "13.11. Triggering attribution"}], "external": false};
window.dfnpanelData['trigger-debug-data-type-trigger-reporting-origin-limit'] = {"dfnID": "trigger-debug-data-type-trigger-reporting-origin-limit", "url": "#trigger-debug-data-type-trigger-reporting-origin-limit", "dfnText": "trigger-reporting-origin-limit", "refSections": [{"refs": [{"id": "ref-for-trigger-debug-data-type-trigger-reporting-origin-limit"}], "title": "13.5. Should attribution be blocked by rate limits"}, {"refs": [{"id": "ref-for-trigger-debug-data-type-trigger-reporting-origin-limit\u2460"}], "title": "13.8. Obtaining debug data on trigger registration"}], "external": false};
window.dfnpanelData['os-debug-data-type'] = {"dfnID": "os-debug-data-type", "url": "#os-debug-data-type", "dfnText": "OS debug data type", "refSections": [{"refs": [{"id": "ref-for-os-debug-data-type"}], "title": "16.2. Handle trigger verification"}], "external": false};
window.dfnpanelData['os-debug-data-type-os-source-delegated'] = {"dfnID": "os-debug-data-type-os-source-delegated", "url": "#os-debug-data-type-os-source-delegated", "dfnText": "os-source-delegated", "refSections": [{"refs": [{"id": "ref-for-os-debug-data-type-os-source-delegated"}, {"id": "ref-for-os-debug-data-type-os-source-delegated\u2460"}], "title": "11.12. Making a background attributionsrc request"}], "external": false};
window.dfnpanelData['os-debug-data-type-os-trigger-delegated'] = {"dfnID": "os-debug-data-type-os-trigger-delegated", "url": "#os-debug-data-type-os-trigger-delegated", "dfnText": "os-trigger-delegated", "refSections": [{"refs": [{"id": "ref-for-os-debug-data-type-os-trigger-delegated"}], "title": "11.12. Making a background attributionsrc request"}], "external": false};
window.dfnpanelData['attribution-debug-data-data-type'] = {"dfnID": "attribution-debug-data-data-type", "url": "#attribution-debug-data-data-type", "dfnText": "data type", "refSections": [{"refs": [{"id": "ref-for-attribution-debug-data-data-type"}], "title": "7.20. Attribution debug data"}, {"refs": [{"id": "ref-for-attribution-debug-data-data-type\u2460"}], "title": "12.4. Processing an attribution source"}, {"refs": [{"id": "ref-for-attribution-debug-data-data-type\u2461"}], "title": "13.8. Obtaining debug data on trigger registration"}, {"refs": [{"id": "ref-for-attribution-debug-data-data-type\u2462"}, {"id": "ref-for-attribution-debug-data-data-type\u2463"}], "title": "13.11. Triggering attribution"}, {"refs": [{"id": "ref-for-attribution-debug-data-data-type\u2464"}], "title": "14.6. Serialize attribution debug report body"}, {"refs": [{"id": "ref-for-attribution-debug-data-data-type\u2465"}], "title": "16.2. Handle trigger verification"}], "external": false};
window.dfnpanelData['attribution-debug-data-body'] = {"dfnID": "attribution-debug-data-body", "url": "#attribution-debug-data-body", "dfnText": "body", "refSections": [{"refs": [{"id": "ref-for-attribution-debug-data-body"}], "title": "7.20. Attribution debug data"}, {"refs": [{"id": "ref-for-attribution-debug-data-body\u2460"}], "title": "12.4. Processing an attribution source"}, {"refs": [{"id": "ref-for-attribution-debug-data-body\u2461"}], "title": "13.8. Obtaining debug data on trigger registration"}, {"refs": [{"id": "ref-for-attribution-debug-data-body\u2462"}], "title": "14.6. Serialize attribution debug report body"}, {"refs": [{"id": "ref-for-attribution-debug-data-body\u2463"}], "title": "16.2. Handle trigger verification"}], "external": false};
window.dfnpanelData['attribution-debug-report'] = {"dfnID": "attribution-debug-report", "url": "#attribution-debug-report", "dfnText": "7.21. Attribution debug report", "refSections": [{"refs": [{"id": "ref-for-attribution-debug-report"}], "title": "7.21. Attribution debug report"}, {"refs": [{"id": "ref-for-attribution-debug-report"}], "title": "11.11. Obtaining and delivering an attribution debug report"}, {"refs": [{"id": "ref-for-attribution-debug-report\u2460"}], "title": "14.6. Serialize attribution debug report body"}, {"refs": [{"id": "ref-for-attribution-debug-report\u2461"}], "title": "14.7. Get report request URL"}, {"refs": [{"id": "ref-for-attribution-debug-report\u2462"}], "title": "14.12. Issuing a verbose debug request"}, {"refs": [{"id": "ref-for-attribution-debug-report\u2463"}, {"id": "ref-for-attribution-debug-report\u2464"}], "title": "18.1. Same-Origin Policy"}, {"refs": [{"id": "ref-for-attribution-debug-report\u2465"}], "title": "19.2.3. Debug reports"}], "external": false};
window.dfnpanelData['attribution-debug-report-data'] = {"dfnID": "attribution-debug-report-data", "url": "#attribution-debug-report-data", "dfnText": "data", "refSections": [{"refs": [{"id": "ref-for-attribution-debug-report-data"}], "title": "11.11. Obtaining and delivering an attribution debug report"}, {"refs": [{"id": "ref-for-attribution-debug-report-data\u2460"}], "title": "14.6. Serialize attribution debug report body"}], "external": false};
window.dfnpanelData['attribution-debug-report-reporting-origin'] = {"dfnID": "attribution-debug-report-reporting-origin", "url": "#attribution-debug-report-reporting-origin", "dfnText": "reporting origin", "refSections": [{"refs": [{"id": "ref-for-attribution-debug-report-reporting-origin"}], "title": "11.11. Obtaining and delivering an attribution debug report"}, {"refs": [{"id": "ref-for-attribution-debug-report-reporting-origin\u2460"}], "title": "14.7. Get report request URL"}], "external": false};
window.dfnpanelData['serialized-private-state-token'] = {"dfnID": "serialized-private-state-token", "url": "#serialized-private-state-token", "dfnText": "7.22. Serialized private state token", "refSections": [{"refs": [{"id": "ref-for-serialized-private-state-token"}], "title": "7.18. Aggregatable report"}, {"refs": [{"id": "ref-for-serialized-private-state-token"}], "title": "7.22. Serialized private state token"}, {"refs": [{"id": "ref-for-serialized-private-state-token\u2460"}], "title": "7.23. Trigger verification"}, {"refs": [{"id": "ref-for-serialized-private-state-token\u2461"}], "title": "10. Vendor-Specific Values"}], "external": false};
window.dfnpanelData['trigger-verification'] = {"dfnID": "trigger-verification", "url": "#trigger-verification", "dfnText": "7.23. Trigger verification", "refSections": [{"refs": [{"id": "ref-for-trigger-verification"}], "title": "7.14. Attribution trigger"}, {"refs": [{"id": "ref-for-trigger-verification"}], "title": "7.23. Trigger verification"}, {"refs": [{"id": "ref-for-trigger-verification\u2460"}], "title": "13.1. Creating an attribution trigger"}, {"refs": [{"id": "ref-for-trigger-verification\u2461"}], "title": "16.2. Handle trigger verification"}], "external": false};
window.dfnpanelData['trigger-verification-token'] = {"dfnID": "trigger-verification-token", "url": "#trigger-verification-token", "dfnText": "token", "refSections": [{"refs": [{"id": "ref-for-trigger-verification-token"}], "title": "7.23. Trigger verification"}, {"refs": [{"id": "ref-for-trigger-verification-token\u2460"}], "title": "13.16. Generating randomized null reports"}, {"refs": [{"id": "ref-for-trigger-verification-token\u2461"}], "title": "16.2. Handle trigger verification"}], "external": false};
window.dfnpanelData['trigger-verification-id'] = {"dfnID": "trigger-verification-id", "url": "#trigger-verification-id", "dfnText": "id", "refSections": [{"refs": [{"id": "ref-for-trigger-verification-id"}], "title": "13.16. Generating randomized null reports"}, {"refs": [{"id": "ref-for-trigger-verification-id\u2460"}], "title": "16.2. Handle trigger verification"}], "external": false};
window.dfnpanelData['trigger-verification-metadata'] = {"dfnID": "trigger-verification-metadata", "url": "#trigger-verification-metadata", "dfnText": "7.24. Trigger verification metadata", "refSections": [{"refs": [{"id": "ref-for-trigger-verification-metadata"}], "title": "3. Network monkeypatches"}, {"refs": [{"id": "ref-for-trigger-verification-metadata"}], "title": "7.24. Trigger verification metadata"}, {"refs": [{"id": "ref-for-trigger-verification-metadata\u2460"}], "title": "16.1. Initiate trigger verification"}], "external": false};
window.dfnpanelData['trigger-verification-metadata-pretokens'] = {"dfnID": "trigger-verification-metadata-pretokens", "url": "#trigger-verification-metadata-pretokens", "dfnText": "pretokens", "refSections": [{"refs": [{"id": "ref-for-trigger-verification-metadata-pretokens"}], "title": "16.1. Initiate trigger verification"}, {"refs": [{"id": "ref-for-trigger-verification-metadata-pretokens\u2460"}], "title": "16.2. Handle trigger verification"}], "external": false};
window.dfnpanelData['trigger-verification-metadata-ids'] = {"dfnID": "trigger-verification-metadata-ids", "url": "#trigger-verification-metadata-ids", "dfnText": "IDs", "refSections": [{"refs": [{"id": "ref-for-trigger-verification-metadata-ids"}], "title": "16.1. Initiate trigger verification"}, {"refs": [{"id": "ref-for-trigger-verification-metadata-ids\u2460"}, {"id": "ref-for-trigger-verification-metadata-ids\u2461"}, {"id": "ref-for-trigger-verification-metadata-ids\u2462"}], "title": "16.2. Handle trigger verification"}], "external": false};
window.dfnpanelData['triggering-result'] = {"dfnID": "triggering-result", "url": "#triggering-result", "dfnText": "7.25. Triggering result", "refSections": [{"refs": [{"id": "ref-for-triggering-result"}], "title": "7.25. Triggering result"}, {"refs": [{"id": "ref-for-triggering-result"}, {"id": "ref-for-triggering-result\u2460"}], "title": "13.5. Should attribution be blocked by rate limits"}, {"refs": [{"id": "ref-for-triggering-result\u2461"}, {"id": "ref-for-triggering-result\u2462"}, {"id": "ref-for-triggering-result\u2463"}, {"id": "ref-for-triggering-result\u2464"}, {"id": "ref-for-triggering-result\u2465"}, {"id": "ref-for-triggering-result\u2466"}, {"id": "ref-for-triggering-result\u2467"}, {"id": "ref-for-triggering-result\u2468"}, {"id": "ref-for-triggering-result\u2460\u24ea"}, {"id": "ref-for-triggering-result\u2460\u2460"}, {"id": "ref-for-triggering-result\u2460\u2461"}], "title": "13.9. Triggering event-level attribution"}, {"refs": [{"id": "ref-for-triggering-result\u2460\u2462"}, {"id": "ref-for-triggering-result\u2460\u2463"}, {"id": "ref-for-triggering-result\u2460\u2464"}, {"id": "ref-for-triggering-result\u2460\u2465"}, {"id": "ref-for-triggering-result\u2460\u2466"}, {"id": "ref-for-triggering-result\u2460\u2467"}, {"id": "ref-for-triggering-result\u2460\u2468"}, {"id": "ref-for-triggering-result\u2461\u24ea"}], "title": "13.10. Triggering aggregatable attribution"}], "external": false};
window.dfnpanelData['triggering-status'] = {"dfnID": "triggering-status", "url": "#triggering-status", "dfnText": "triggering status", "refSections": [{"refs": [{"id": "ref-for-triggering-status"}], "title": "7.25. Triggering result"}], "external": false};
window.dfnpanelData['triggering-status-dropped'] = {"dfnID": "triggering-status-dropped", "url": "#triggering-status-dropped", "dfnText": "dropped", "refSections": [{"refs": [{"id": "ref-for-triggering-status-dropped"}, {"id": "ref-for-triggering-status-dropped\u2460"}], "title": "13.5. Should attribution be blocked by rate limits"}, {"refs": [{"id": "ref-for-triggering-status-dropped\u2461"}, {"id": "ref-for-triggering-status-dropped\u2462"}, {"id": "ref-for-triggering-status-dropped\u2463"}, {"id": "ref-for-triggering-status-dropped\u2464"}, {"id": "ref-for-triggering-status-dropped\u2465"}, {"id": "ref-for-triggering-status-dropped\u2466"}, {"id": "ref-for-triggering-status-dropped\u2467"}, {"id": "ref-for-triggering-status-dropped\u2468"}, {"id": "ref-for-triggering-status-dropped\u2460\u24ea"}, {"id": "ref-for-triggering-status-dropped\u2460\u2460"}], "title": "13.9. Triggering event-level attribution"}, {"refs": [{"id": "ref-for-triggering-status-dropped\u2460\u2461"}, {"id": "ref-for-triggering-status-dropped\u2460\u2462"}, {"id": "ref-for-triggering-status-dropped\u2460\u2463"}, {"id": "ref-for-triggering-status-dropped\u2460\u2464"}, {"id": "ref-for-triggering-status-dropped\u2460\u2465"}, {"id": "ref-for-triggering-status-dropped\u2460\u2466"}, {"id": "ref-for-triggering-status-dropped\u2460\u2467"}], "title": "13.10. Triggering aggregatable attribution"}, {"refs": [{"id": "ref-for-triggering-status-dropped\u2460\u2468"}, {"id": "ref-for-triggering-status-dropped\u2461\u24ea"}], "title": "13.11. Triggering attribution"}], "external": false};
window.dfnpanelData['triggering-status-noised'] = {"dfnID": "triggering-status-noised", "url": "#triggering-status-noised", "dfnText": "noised", "refSections": [{"refs": [{"id": "ref-for-triggering-status-noised"}], "title": "7.25. Triggering result"}, {"refs": [{"id": "ref-for-triggering-status-noised\u2460"}], "title": "13.9. Triggering event-level attribution"}], "external": false};
window.dfnpanelData['triggering-status-attributed'] = {"dfnID": "triggering-status-attributed", "url": "#triggering-status-attributed", "dfnText": "attributed", "refSections": [{"refs": [{"id": "ref-for-triggering-status-attributed"}, {"id": "ref-for-triggering-status-attributed\u2460"}], "title": "13.9. Triggering event-level attribution"}, {"refs": [{"id": "ref-for-triggering-status-attributed\u2461"}], "title": "13.10. Triggering aggregatable attribution"}, {"refs": [{"id": "ref-for-triggering-status-attributed\u2462"}], "title": "13.11. Triggering attribution"}], "external": false};
window.dfnpanelData['triggering-result-status'] = {"dfnID": "triggering-result-status", "url": "#triggering-result-status", "dfnText": "status", "refSections": [{"refs": [{"id": "ref-for-triggering-result-status"}, {"id": "ref-for-triggering-result-status\u2460"}, {"id": "ref-for-triggering-result-status\u2461"}, {"id": "ref-for-triggering-result-status\u2462"}, {"id": "ref-for-triggering-result-status\u2463"}], "title": "13.11. Triggering attribution"}], "external": false};
window.dfnpanelData['triggering-result-debug-data'] = {"dfnID": "triggering-result-debug-data", "url": "#triggering-result-debug-data", "dfnText": "debug data", "refSections": [{"refs": [{"id": "ref-for-triggering-result-debug-data"}, {"id": "ref-for-triggering-result-debug-data\u2460"}], "title": "13.11. Triggering attribution"}], "external": false};
window.dfnpanelData['destination-rate-limit-result'] = {"dfnID": "destination-rate-limit-result", "url": "#destination-rate-limit-result", "dfnText": "7.26. Destination rate-limit result", "refSections": [{"refs": [{"id": "ref-for-destination-rate-limit-result"}], "title": "7.26. Destination rate-limit result"}], "external": false};
window.dfnpanelData['destination-rate-limit-result-allowed'] = {"dfnID": "destination-rate-limit-result-allowed", "url": "#destination-rate-limit-result-allowed", "dfnText": "allowed", "refSections": [{"refs": [{"id": "ref-for-destination-rate-limit-result-allowed"}], "title": "12.4. Processing an attribution source"}], "external": false};
window.dfnpanelData['destination-rate-limit-result-hit-global-limit'] = {"dfnID": "destination-rate-limit-result-hit-global-limit", "url": "#destination-rate-limit-result-hit-global-limit", "dfnText": "hit global limit", "refSections": [{"refs": [{"id": "ref-for-destination-rate-limit-result-hit-global-limit"}, {"id": "ref-for-destination-rate-limit-result-hit-global-limit\u2460"}, {"id": "ref-for-destination-rate-limit-result-hit-global-limit\u2461"}], "title": "12.4. Processing an attribution source"}], "external": false};
window.dfnpanelData['destination-rate-limit-result-hit-reporting-limit'] = {"dfnID": "destination-rate-limit-result-hit-reporting-limit", "url": "#destination-rate-limit-result-hit-reporting-limit", "dfnText": "hit reporting limit", "refSections": [{"refs": [{"id": "ref-for-destination-rate-limit-result-hit-reporting-limit"}, {"id": "ref-for-destination-rate-limit-result-hit-reporting-limit\u2460"}, {"id": "ref-for-destination-rate-limit-result-hit-reporting-limit\u2461"}, {"id": "ref-for-destination-rate-limit-result-hit-reporting-limit\u2462"}], "title": "12.4. Processing an attribution source"}], "external": false};
window.dfnpanelData['attribution-source-cache'] = {"dfnID": "attribution-source-cache", "url": "#attribution-source-cache", "dfnText": "attribution source cache", "refSections": [{"refs": [{"id": "ref-for-attribution-source-cache"}, {"id": "ref-for-attribution-source-cache\u2460"}], "title": "6. Clear Site Data integration"}, {"refs": [{"id": "ref-for-attribution-source-cache\u2461"}], "title": "10. Vendor-Specific Values"}, {"refs": [{"id": "ref-for-attribution-source-cache\u2462"}], "title": "12.4. Processing an attribution source"}, {"refs": [{"id": "ref-for-attribution-source-cache\u2463"}, {"id": "ref-for-attribution-source-cache\u2464"}], "title": "13.11. Triggering attribution"}, {"refs": [{"id": "ref-for-attribution-source-cache\u2465"}, {"id": "ref-for-attribution-source-cache\u2466"}], "title": "18.1. Same-Origin Policy"}], "external": false};
window.dfnpanelData['event-level-report-cache'] = {"dfnID": "event-level-report-cache", "url": "#event-level-report-cache", "dfnText": "event-level report cache", "refSections": [{"refs": [{"id": "ref-for-event-level-report-cache"}, {"id": "ref-for-event-level-report-cache\u2460"}], "title": "6. Clear Site Data integration"}, {"refs": [{"id": "ref-for-event-level-report-cache\u2461"}], "title": "10. Vendor-Specific Values"}, {"refs": [{"id": "ref-for-event-level-report-cache\u2462"}], "title": "12.4. Processing an attribution source"}, {"refs": [{"id": "ref-for-event-level-report-cache\u2463"}, {"id": "ref-for-event-level-report-cache\u2464"}, {"id": "ref-for-event-level-report-cache\u2465"}, {"id": "ref-for-event-level-report-cache\u2466"}], "title": "13.9. Triggering event-level attribution"}, {"refs": [{"id": "ref-for-event-level-report-cache\u2467"}], "title": "14. Report delivery"}, {"refs": [{"id": "ref-for-event-level-report-cache\u2468"}], "title": "14.10. Issuing a report request"}, {"refs": [{"id": "ref-for-event-level-report-cache\u2460\u24ea"}, {"id": "ref-for-event-level-report-cache\u2460\u2460"}], "title": "18.1. Same-Origin Policy"}], "external": false};
window.dfnpanelData['aggregatable-report-cache'] = {"dfnID": "aggregatable-report-cache", "url": "#aggregatable-report-cache", "dfnText": "aggregatable report cache", "refSections": [{"refs": [{"id": "ref-for-aggregatable-report-cache"}, {"id": "ref-for-aggregatable-report-cache\u2460"}], "title": "6. Clear Site Data integration"}, {"refs": [{"id": "ref-for-aggregatable-report-cache\u2461"}], "title": "10. Vendor-Specific Values"}, {"refs": [{"id": "ref-for-aggregatable-report-cache\u2462"}, {"id": "ref-for-aggregatable-report-cache\u2463"}], "title": "13.10. Triggering aggregatable attribution"}, {"refs": [{"id": "ref-for-aggregatable-report-cache\u2464"}, {"id": "ref-for-aggregatable-report-cache\u2465"}], "title": "13.16. Generating randomized null reports"}, {"refs": [{"id": "ref-for-aggregatable-report-cache\u2466"}], "title": "14. Report delivery"}, {"refs": [{"id": "ref-for-aggregatable-report-cache\u2467"}], "title": "14.10. Issuing a report request"}, {"refs": [{"id": "ref-for-aggregatable-report-cache\u2468"}, {"id": "ref-for-aggregatable-report-cache\u2460\u24ea"}], "title": "18.1. Same-Origin Policy"}], "external": false};
window.dfnpanelData['attribution-rate-limit-cache'] = {"dfnID": "attribution-rate-limit-cache", "url": "#attribution-rate-limit-cache", "dfnText": "attribution rate-limit cache", "refSections": [{"refs": [{"id": "ref-for-attribution-rate-limit-cache"}], "title": "6. Clear Site Data integration"}, {"refs": [{"id": "ref-for-attribution-rate-limit-cache\u2460"}, {"id": "ref-for-attribution-rate-limit-cache\u2461"}, {"id": "ref-for-attribution-rate-limit-cache\u2462"}, {"id": "ref-for-attribution-rate-limit-cache\u2463"}, {"id": "ref-for-attribution-rate-limit-cache\u2464"}], "title": "12.4. Processing an attribution source"}, {"refs": [{"id": "ref-for-attribution-rate-limit-cache\u2465"}], "title": "13.3. Should attribution be blocked by attribution rate limit"}, {"refs": [{"id": "ref-for-attribution-rate-limit-cache\u2466"}, {"id": "ref-for-attribution-rate-limit-cache\u2467"}], "title": "13.4. Should processing be blocked by reporting-origin limit"}, {"refs": [{"id": "ref-for-attribution-rate-limit-cache\u2468"}, {"id": "ref-for-attribution-rate-limit-cache\u2460\u24ea"}], "title": "13.11. Triggering attribution"}, {"refs": [{"id": "ref-for-attribution-rate-limit-cache\u2460\u2460"}, {"id": "ref-for-attribution-rate-limit-cache\u2460\u2461"}], "title": "18.1. Same-Origin Policy"}], "external": false};
window.dfnpanelData['attribution-caches'] = {"dfnID": "attribution-caches", "url": "#attribution-caches", "dfnText": "attribution caches", "refSections": [{"refs": [{"id": "ref-for-attribution-caches"}], "title": "8. Storage"}, {"refs": [{"id": "ref-for-attribution-caches\u2460"}], "title": "19.1. Clearing site data"}], "external": false};
window.dfnpanelData['valid-source-expiry-range'] = {"dfnID": "valid-source-expiry-range", "url": "#valid-source-expiry-range", "dfnText": "Valid source expiry range", "refSections": [{"refs": [{"id": "ref-for-valid-source-expiry-range"}], "title": "12.3. Parsing source-registration JSON"}, {"refs": [{"id": "ref-for-valid-source-expiry-range\u2460"}], "title": "13.16. Generating randomized null reports"}], "external": false};
window.dfnpanelData['min-report-window'] = {"dfnID": "min-report-window", "url": "#min-report-window", "dfnText": "Min report window", "refSections": [{"refs": [{"id": "ref-for-min-report-window"}, {"id": "ref-for-min-report-window\u2460"}, {"id": "ref-for-min-report-window\u2461"}, {"id": "ref-for-min-report-window\u2462"}], "title": "12.3. Parsing source-registration JSON"}], "external": false};
window.dfnpanelData['max-entries-per-filter-data'] = {"dfnID": "max-entries-per-filter-data", "url": "#max-entries-per-filter-data", "dfnText": "Max entries per filter data", "refSections": [{"refs": [{"id": "ref-for-max-entries-per-filter-data"}], "title": "11.4. Parsing filter data"}], "external": false};
window.dfnpanelData['max-values-per-filter-data-entry'] = {"dfnID": "max-values-per-filter-data-entry", "url": "#max-values-per-filter-data-entry", "dfnText": "Max values per filter data entry", "refSections": [{"refs": [{"id": "ref-for-max-values-per-filter-data-entry"}], "title": "11.4. Parsing filter data"}], "external": false};
window.dfnpanelData['attribution-rate-limit-window'] = {"dfnID": "attribution-rate-limit-window", "url": "#attribution-rate-limit-window", "dfnText": "Attribution rate-limit window", "refSections": [{"refs": [{"id": "ref-for-attribution-rate-limit-window"}, {"id": "ref-for-attribution-rate-limit-window\u2460"}, {"id": "ref-for-attribution-rate-limit-window\u2461"}], "title": "10. Vendor-Specific Values"}, {"refs": [{"id": "ref-for-attribution-rate-limit-window\u2462"}], "title": "11.10. Can attribution rate-limit record be removed"}, {"refs": [{"id": "ref-for-attribution-rate-limit-window\u2463"}], "title": "13.3. Should attribution be blocked by attribution rate limit"}, {"refs": [{"id": "ref-for-attribution-rate-limit-window\u2464"}], "title": "13.4. Should processing be blocked by reporting-origin limit"}], "external": false};
window.dfnpanelData['max-destinations-per-source'] = {"dfnID": "max-destinations-per-source", "url": "#max-destinations-per-source", "dfnText": "Max destinations per source", "refSections": [{"refs": [{"id": "ref-for-max-destinations-per-source"}], "title": "12.3. Parsing source-registration JSON"}], "external": false};
window.dfnpanelData['max-settable-event-level-attributions-per-source'] = {"dfnID": "max-settable-event-level-attributions-per-source", "url": "#max-settable-event-level-attributions-per-source", "dfnText": "Max settable event-level attributions per source", "refSections": [{"refs": [{"id": "ref-for-max-settable-event-level-attributions-per-source"}], "title": "12.3. Parsing source-registration JSON"}], "external": false};
window.dfnpanelData['max-settable-event-level-report-windows'] = {"dfnID": "max-settable-event-level-report-windows", "url": "#max-settable-event-level-report-windows", "dfnText": "Max settable event-level report windows", "refSections": [{"refs": [{"id": "ref-for-max-settable-event-level-report-windows"}], "title": "12.3. Parsing source-registration JSON"}], "external": false};
window.dfnpanelData['max-aggregation-keys-per-attribution'] = {"dfnID": "max-aggregation-keys-per-attribution", "url": "#max-aggregation-keys-per-attribution", "dfnText": "Max aggregation keys per attribution", "refSections": [{"refs": [{"id": "ref-for-max-aggregation-keys-per-attribution"}], "title": "12.3. Parsing source-registration JSON"}, {"refs": [{"id": "ref-for-max-aggregation-keys-per-attribution\u2460"}, {"id": "ref-for-max-aggregation-keys-per-attribution\u2461"}], "title": "13.1. Creating an attribution trigger"}], "external": false};
window.dfnpanelData['max-pending-sources-per-source-origin'] = {"dfnID": "max-pending-sources-per-source-origin", "url": "#max-pending-sources-per-source-origin", "dfnText": "Max pending sources per source origin", "refSections": [{"refs": [{"id": "ref-for-max-pending-sources-per-source-origin"}, {"id": "ref-for-max-pending-sources-per-source-origin\u2460"}], "title": "12.4. Processing an attribution source"}], "external": false};
window.dfnpanelData['default-trigger-data-cardinality'] = {"dfnID": "default-trigger-data-cardinality", "url": "#default-trigger-data-cardinality", "dfnText": "Default trigger data cardinality", "refSections": [{"refs": [{"id": "ref-for-default-trigger-data-cardinality"}], "title": "12.3. Parsing source-registration JSON"}, {"refs": [{"id": "ref-for-default-trigger-data-cardinality\u2460"}], "title": "13.13. Obtaining an event-level report"}], "external": false};
window.dfnpanelData['randomized-response-epsilon'] = {"dfnID": "randomized-response-epsilon", "url": "#randomized-response-epsilon", "dfnText": "Randomized response epsilon", "refSections": [{"refs": [{"id": "ref-for-randomized-response-epsilon"}], "title": "12.3. Parsing source-registration JSON"}, {"refs": [{"id": "ref-for-randomized-response-epsilon\u2460"}], "title": "19.2.1. Event-level reports"}], "external": false};
window.dfnpanelData['randomized-null-report-rate-excluding-source-registration-time'] = {"dfnID": "randomized-null-report-rate-excluding-source-registration-time", "url": "#randomized-null-report-rate-excluding-source-registration-time", "dfnText": "Randomized null report rate excluding source registration time", "refSections": [{"refs": [{"id": "ref-for-randomized-null-report-rate-excluding-source-registration-time"}], "title": "13.16. Generating randomized null reports"}], "external": false};
window.dfnpanelData['randomized-null-report-rate-including-source-registration-time'] = {"dfnID": "randomized-null-report-rate-including-source-registration-time", "url": "#randomized-null-report-rate-including-source-registration-time", "dfnText": "Randomized null report rate including source registration time", "refSections": [{"refs": [{"id": "ref-for-randomized-null-report-rate-including-source-registration-time"}], "title": "13.16. Generating randomized null reports"}], "external": false};
window.dfnpanelData['max-event-level-reports-per-attribution-destination'] = {"dfnID": "max-event-level-reports-per-attribution-destination", "url": "#max-event-level-reports-per-attribution-destination", "dfnText": "Max event-level reports per attribution destination", "refSections": [{"refs": [{"id": "ref-for-max-event-level-reports-per-attribution-destination"}], "title": "13.8. Obtaining debug data on trigger registration"}, {"refs": [{"id": "ref-for-max-event-level-reports-per-attribution-destination\u2460"}], "title": "13.9. Triggering event-level attribution"}], "external": false};
window.dfnpanelData['max-aggregatable-reports-per-attribution-destination'] = {"dfnID": "max-aggregatable-reports-per-attribution-destination", "url": "#max-aggregatable-reports-per-attribution-destination", "dfnText": "Max aggregatable reports per attribution destination", "refSections": [{"refs": [{"id": "ref-for-max-aggregatable-reports-per-attribution-destination"}], "title": "13.8. Obtaining debug data on trigger registration"}, {"refs": [{"id": "ref-for-max-aggregatable-reports-per-attribution-destination\u2460"}], "title": "13.10. Triggering aggregatable attribution"}], "external": false};
window.dfnpanelData['default-event-level-attributions-per-source'] = {"dfnID": "default-event-level-attributions-per-source", "url": "#default-event-level-attributions-per-source", "dfnText": "Default event-level attributions per source", "refSections": [{"refs": [{"id": "ref-for-default-event-level-attributions-per-source"}], "title": "12.3. Parsing source-registration JSON"}], "external": false};
window.dfnpanelData['max-event-level-channel-capacity-per-source'] = {"dfnID": "max-event-level-channel-capacity-per-source", "url": "#max-event-level-channel-capacity-per-source", "dfnText": "Max event-level channel capacity per source", "refSections": [{"refs": [{"id": "ref-for-max-event-level-channel-capacity-per-source"}], "title": "12.3. Parsing source-registration JSON"}, {"refs": [{"id": "ref-for-max-event-level-channel-capacity-per-source\u2460"}], "title": "19.2.1. Event-level reports"}], "external": false};
window.dfnpanelData['max-aggregatable-reports-per-source'] = {"dfnID": "max-aggregatable-reports-per-source", "url": "#max-aggregatable-reports-per-source", "dfnText": "Max aggregatable reports per source", "refSections": [{"refs": [{"id": "ref-for-max-aggregatable-reports-per-source"}], "title": "13.8. Obtaining debug data on trigger registration"}, {"refs": [{"id": "ref-for-max-aggregatable-reports-per-source\u2460"}], "title": "13.10. Triggering aggregatable attribution"}], "external": false};
window.dfnpanelData['max-destinations-covered-by-unexpired-sources'] = {"dfnID": "max-destinations-covered-by-unexpired-sources", "url": "#max-destinations-covered-by-unexpired-sources", "dfnText": "Max destinations covered by unexpired sources", "refSections": [{"refs": [{"id": "ref-for-max-destinations-covered-by-unexpired-sources"}, {"id": "ref-for-max-destinations-covered-by-unexpired-sources\u2460"}], "title": "12.4. Processing an attribution source"}], "external": false};
window.dfnpanelData['destination-rate-limit-window'] = {"dfnID": "destination-rate-limit-window", "url": "#destination-rate-limit-window", "dfnText": "Destination rate-limit window", "refSections": [{"refs": [{"id": "ref-for-destination-rate-limit-window"}, {"id": "ref-for-destination-rate-limit-window\u2460"}], "title": "10. Vendor-Specific Values"}, {"refs": [{"id": "ref-for-destination-rate-limit-window\u2461"}], "title": "12.4. Processing an attribution source"}], "external": false};
window.dfnpanelData['max-destinations-per-rate-limit-window'] = {"dfnID": "max-destinations-per-rate-limit-window", "url": "#max-destinations-per-rate-limit-window", "dfnText": "Max destinations per rate-limit window", "refSections": [{"refs": [{"id": "ref-for-max-destinations-per-rate-limit-window"}, {"id": "ref-for-max-destinations-per-rate-limit-window\u2460"}, {"id": "ref-for-max-destinations-per-rate-limit-window\u2461"}], "title": "12.4. Processing an attribution source"}, {"refs": [{"id": "ref-for-max-destinations-per-rate-limit-window\u2462"}], "title": "18.1. Same-Origin Policy"}], "external": false};
window.dfnpanelData['max-source-reporting-origins-per-rate-limit-window'] = {"dfnID": "max-source-reporting-origins-per-rate-limit-window", "url": "#max-source-reporting-origins-per-rate-limit-window", "dfnText": "Max source reporting origins per rate-limit window", "refSections": [{"refs": [{"id": "ref-for-max-source-reporting-origins-per-rate-limit-window"}], "title": "13.4. Should processing be blocked by reporting-origin limit"}, {"refs": [{"id": "ref-for-max-source-reporting-origins-per-rate-limit-window\u2460"}], "title": "18.1. Same-Origin Policy"}], "external": false};
window.dfnpanelData['max-source-reporting-origins-per-source-reporting-site'] = {"dfnID": "max-source-reporting-origins-per-source-reporting-site", "url": "#max-source-reporting-origins-per-source-reporting-site", "dfnText": "Max source reporting origins per source reporting site", "refSections": [{"refs": [{"id": "ref-for-max-source-reporting-origins-per-source-reporting-site"}], "title": "10. Vendor-Specific Values"}, {"refs": [{"id": "ref-for-max-source-reporting-origins-per-source-reporting-site\u2460"}, {"id": "ref-for-max-source-reporting-origins-per-source-reporting-site\u2461"}], "title": "13.4. Should processing be blocked by reporting-origin limit"}, {"refs": [{"id": "ref-for-max-source-reporting-origins-per-source-reporting-site\u2462"}], "title": "18.1. Same-Origin Policy"}], "external": false};
window.dfnpanelData['origin-rate-limit-window'] = {"dfnID": "origin-rate-limit-window", "url": "#origin-rate-limit-window", "dfnText": "Origin rate-limit window", "refSections": [{"refs": [{"id": "ref-for-origin-rate-limit-window"}], "title": "10. Vendor-Specific Values"}, {"refs": [{"id": "ref-for-origin-rate-limit-window\u2460"}], "title": "13.4. Should processing be blocked by reporting-origin limit"}], "external": false};
window.dfnpanelData['max-attribution-reporting-origins-per-rate-limit-window'] = {"dfnID": "max-attribution-reporting-origins-per-rate-limit-window", "url": "#max-attribution-reporting-origins-per-rate-limit-window", "dfnText": "Max attribution reporting origins per rate-limit window", "refSections": [{"refs": [{"id": "ref-for-max-attribution-reporting-origins-per-rate-limit-window"}], "title": "13.4. Should processing be blocked by reporting-origin limit"}, {"refs": [{"id": "ref-for-max-attribution-reporting-origins-per-rate-limit-window\u2460"}], "title": "13.8. Obtaining debug data on trigger registration"}, {"refs": [{"id": "ref-for-max-attribution-reporting-origins-per-rate-limit-window\u2461"}], "title": "18.1. Same-Origin Policy"}], "external": false};
window.dfnpanelData['max-attributions-per-rate-limit-window'] = {"dfnID": "max-attributions-per-rate-limit-window", "url": "#max-attributions-per-rate-limit-window", "dfnText": "Max attributions per rate-limit window", "refSections": [{"refs": [{"id": "ref-for-max-attributions-per-rate-limit-window"}], "title": "13.3. Should attribution be blocked by attribution rate limit"}, {"refs": [{"id": "ref-for-max-attributions-per-rate-limit-window\u2460"}], "title": "13.8. Obtaining debug data on trigger registration"}], "external": false};
window.dfnpanelData['allowed-aggregatable-budget-per-source'] = {"dfnID": "allowed-aggregatable-budget-per-source", "url": "#allowed-aggregatable-budget-per-source", "dfnText": "Allowed aggregatable budget per source", "refSections": [{"refs": [{"id": "ref-for-allowed-aggregatable-budget-per-source"}], "title": "13.1. Creating an attribution trigger"}, {"refs": [{"id": "ref-for-allowed-aggregatable-budget-per-source\u2460"}], "title": "13.7. Can source create aggregatable contributions"}, {"refs": [{"id": "ref-for-allowed-aggregatable-budget-per-source\u2461"}], "title": "13.8. Obtaining debug data on trigger registration"}], "external": false};
window.dfnpanelData['randomized-aggregatable-report-delay'] = {"dfnID": "randomized-aggregatable-report-delay", "url": "#randomized-aggregatable-report-delay", "dfnText": "Randomized aggregatable report delay", "refSections": [{"refs": [{"id": "ref-for-randomized-aggregatable-report-delay"}], "title": "13.12. Establishing report delivery time"}], "external": false};
window.dfnpanelData['default-aggregation-coordinator'] = {"dfnID": "default-aggregation-coordinator", "url": "#default-aggregation-coordinator", "dfnText": "Default aggregation coordinator", "refSections": [{"refs": [{"id": "ref-for-default-aggregation-coordinator"}], "title": "12.4. Processing an attribution source"}, {"refs": [{"id": "ref-for-default-aggregation-coordinator\u2460"}], "title": "13.1. Creating an attribution trigger"}], "external": false};
window.dfnpanelData['verification-tokens-per-trigger'] = {"dfnID": "verification-tokens-per-trigger", "url": "#verification-tokens-per-trigger", "dfnText": "Verification tokens per trigger", "refSections": [{"refs": [{"id": "ref-for-verification-tokens-per-trigger"}], "title": "16.1. Initiate trigger verification"}, {"refs": [{"id": "ref-for-verification-tokens-per-trigger\u2460"}], "title": "16.2. Handle trigger verification"}], "external": false};
window.dfnpanelData['serialize-an-integer'] = {"dfnID": "serialize-an-integer", "url": "#serialize-an-integer", "dfnText": "serialize an integer", "refSections": [{"refs": [{"id": "ref-for-serialize-an-integer"}, {"id": "ref-for-serialize-an-integer\u2460"}, {"id": "ref-for-serialize-an-integer\u2461"}, {"id": "ref-for-serialize-an-integer\u2462"}, {"id": "ref-for-serialize-an-integer\u2463"}], "title": "12.4. Processing an attribution source"}, {"refs": [{"id": "ref-for-serialize-an-integer\u2464"}, {"id": "ref-for-serialize-an-integer\u2465"}, {"id": "ref-for-serialize-an-integer\u2466"}, {"id": "ref-for-serialize-an-integer\u2467"}, {"id": "ref-for-serialize-an-integer\u2468"}, {"id": "ref-for-serialize-an-integer\u2460\u24ea"}, {"id": "ref-for-serialize-an-integer\u2460\u2460"}, {"id": "ref-for-serialize-an-integer\u2460\u2461"}], "title": "13.8. Obtaining debug data on trigger registration"}, {"refs": [{"id": "ref-for-serialize-an-integer\u2460\u2462"}, {"id": "ref-for-serialize-an-integer\u2460\u2463"}], "title": "14.3. Obtaining an aggregatable report\u2019s shared info"}, {"refs": [{"id": "ref-for-serialize-an-integer\u2460\u2464"}, {"id": "ref-for-serialize-an-integer\u2460\u2465"}, {"id": "ref-for-serialize-an-integer\u2460\u2466"}, {"id": "ref-for-serialize-an-integer\u2460\u2467"}, {"id": "ref-for-serialize-an-integer\u2460\u2468"}, {"id": "ref-for-serialize-an-integer\u2461\u24ea"}, {"id": "ref-for-serialize-an-integer\u2461\u2460"}], "title": "14.5. Serialize attribution report body"}], "external": false};
window.dfnpanelData['parse-an-optional-64-bit-signed-integer'] = {"dfnID": "parse-an-optional-64-bit-signed-integer", "url": "#parse-an-optional-64-bit-signed-integer", "dfnText": "parse an optional 64-bit signed integer", "refSections": [{"refs": [{"id": "ref-for-parse-an-optional-64-bit-signed-integer"}], "title": "12.3. Parsing source-registration JSON"}, {"refs": [{"id": "ref-for-parse-an-optional-64-bit-signed-integer\u2460"}], "title": "13.1. Creating an attribution trigger"}], "external": false};
window.dfnpanelData['parse-an-optional-64-bit-unsigned-integer'] = {"dfnID": "parse-an-optional-64-bit-unsigned-integer", "url": "#parse-an-optional-64-bit-unsigned-integer", "dfnText": "parse an optional 64-bit unsigned integer", "refSections": [{"refs": [{"id": "ref-for-parse-an-optional-64-bit-unsigned-integer"}, {"id": "ref-for-parse-an-optional-64-bit-unsigned-integer\u2460"}, {"id": "ref-for-parse-an-optional-64-bit-unsigned-integer\u2461"}], "title": "12.3. Parsing source-registration JSON"}, {"refs": [{"id": "ref-for-parse-an-optional-64-bit-unsigned-integer\u2462"}, {"id": "ref-for-parse-an-optional-64-bit-unsigned-integer\u2463"}, {"id": "ref-for-parse-an-optional-64-bit-unsigned-integer\u2464"}, {"id": "ref-for-parse-an-optional-64-bit-unsigned-integer\u2465"}], "title": "13.1. Creating an attribution trigger"}], "external": false};
window.dfnpanelData['serialize-attribution-destinations'] = {"dfnID": "serialize-attribution-destinations", "url": "#serialize-attribution-destinations", "dfnText": "serialize attribution destinations", "refSections": [{"refs": [{"id": "ref-for-serialize-attribution-destinations"}], "title": "12.4. Processing an attribution source"}, {"refs": [{"id": "ref-for-serialize-attribution-destinations\u2460"}], "title": "14.5. Serialize attribution report body"}], "external": false};
window.dfnpanelData['check-if-a-scheme-is-suitable'] = {"dfnID": "check-if-a-scheme-is-suitable", "url": "#check-if-a-scheme-is-suitable", "dfnText": "check if a scheme is suitable", "refSections": [{"refs": [{"id": "ref-for-check-if-a-scheme-is-suitable"}], "title": "11.3. Serialize attribution destinations"}, {"refs": [{"id": "ref-for-check-if-a-scheme-is-suitable\u2460"}], "title": "11.12. Making a background attributionsrc request"}], "external": false};
window.dfnpanelData['check-if-an-origin-is-suitable'] = {"dfnID": "check-if-an-origin-is-suitable", "url": "#check-if-an-origin-is-suitable", "dfnText": "check if an origin is suitable", "refSections": [{"refs": [{"id": "ref-for-check-if-an-origin-is-suitable"}], "title": "4. Fenced Frame monkeypatches"}, {"refs": [{"id": "ref-for-check-if-an-origin-is-suitable\u2460"}], "title": "7.5. Suitable origin"}, {"refs": [{"id": "ref-for-check-if-an-origin-is-suitable\u2461"}, {"id": "ref-for-check-if-an-origin-is-suitable\u2462"}], "title": "11.12. Making a background attributionsrc request"}, {"refs": [{"id": "ref-for-check-if-an-origin-is-suitable\u2463"}], "title": "12.3. Parsing source-registration JSON"}, {"refs": [{"id": "ref-for-check-if-an-origin-is-suitable\u2464"}], "title": "16.1. Initiate trigger verification"}, {"refs": [{"id": "ref-for-check-if-an-origin-is-suitable\u2465"}], "title": "16.2. Handle trigger verification"}], "external": false};
window.dfnpanelData['parse-filter-values'] = {"dfnID": "parse-filter-values", "url": "#parse-filter-values", "dfnText": "parse filter values", "refSections": [{"refs": [{"id": "ref-for-parse-filter-values"}, {"id": "ref-for-parse-filter-values\u2460"}], "title": "11.4. Parsing filter data"}], "external": false};
window.dfnpanelData['parse-filter-data'] = {"dfnID": "parse-filter-data", "url": "#parse-filter-data", "dfnText": "parse filter data", "refSections": [{"refs": [{"id": "ref-for-parse-filter-data"}], "title": "12.3. Parsing source-registration JSON"}], "external": false};
window.dfnpanelData['parse-filter-config'] = {"dfnID": "parse-filter-config", "url": "#parse-filter-config", "dfnText": "parse filter config", "refSections": [{"refs": [{"id": "ref-for-parse-filter-config"}, {"id": "ref-for-parse-filter-config\u2460"}], "title": "11.5. Parsing filters"}], "external": false};
window.dfnpanelData['parse-filters'] = {"dfnID": "parse-filters", "url": "#parse-filters", "dfnText": "parse filters", "refSections": [{"refs": [{"id": "ref-for-parse-filters"}, {"id": "ref-for-parse-filters\u2460"}], "title": "11.5. Parsing filters"}], "external": false};
window.dfnpanelData['parse-a-filter-pair'] = {"dfnID": "parse-a-filter-pair", "url": "#parse-a-filter-pair", "dfnText": "parse a filter pair", "refSections": [{"refs": [{"id": "ref-for-parse-a-filter-pair"}, {"id": "ref-for-parse-a-filter-pair\u2460"}, {"id": "ref-for-parse-a-filter-pair\u2461"}, {"id": "ref-for-parse-a-filter-pair\u2462"}], "title": "13.1. Creating an attribution trigger"}], "external": false};
window.dfnpanelData['check-if-cookie-based-debugging-is-allowed'] = {"dfnID": "check-if-cookie-based-debugging-is-allowed", "url": "#check-if-cookie-based-debugging-is-allowed", "dfnText": "check if cookie-based debugging is allowed", "refSections": [{"refs": [{"id": "ref-for-check-if-cookie-based-debugging-is-allowed"}], "title": "12.3. Parsing source-registration JSON"}, {"refs": [{"id": "ref-for-check-if-cookie-based-debugging-is-allowed\u2460"}], "title": "12.4. Processing an attribution source"}, {"refs": [{"id": "ref-for-check-if-cookie-based-debugging-is-allowed\u2461"}], "title": "13.1. Creating an attribution trigger"}, {"refs": [{"id": "ref-for-check-if-cookie-based-debugging-is-allowed\u2462"}], "title": "13.8. Obtaining debug data on trigger registration"}, {"refs": [{"id": "ref-for-check-if-cookie-based-debugging-is-allowed\u2463"}], "title": "19.2.3. Debug reports"}], "external": false};
window.dfnpanelData['node-context-origin'] = {"dfnID": "node-context-origin", "url": "#node-context-origin", "dfnText": "context origin", "refSections": [{"refs": [{"id": "ref-for-node-context-origin"}], "title": "3.1. Fetch monkeypatches"}, {"refs": [{"id": "ref-for-node-context-origin\u2460"}], "title": "3.2. XMLHttpRequest monkeypatches"}, {"refs": [{"id": "ref-for-node-context-origin\u2461"}], "title": "4. Fenced Frame monkeypatches"}, {"refs": [{"id": "ref-for-node-context-origin\u2462"}], "title": "11.12. Making a background attributionsrc request"}], "external": false};
window.dfnpanelData['obtain-a-randomized-response'] = {"dfnID": "obtain-a-randomized-response", "url": "#obtain-a-randomized-response", "dfnText": "obtain a randomized response", "refSections": [{"refs": [{"id": "ref-for-obtain-a-randomized-response"}], "title": "12.1. Obtaining a randomized source response"}, {"refs": [{"id": "ref-for-obtain-a-randomized-response\u2460"}], "title": "19.2.1. Event-level reports"}], "external": false};
window.dfnpanelData['parse-an-aggregation-key-piece'] = {"dfnID": "parse-an-aggregation-key-piece", "url": "#parse-an-aggregation-key-piece", "dfnText": "parse an aggregation key piece", "refSections": [{"refs": [{"id": "ref-for-parse-an-aggregation-key-piece"}], "title": "12.3. Parsing source-registration JSON"}, {"refs": [{"id": "ref-for-parse-an-aggregation-key-piece\u2460"}], "title": "13.1. Creating an attribution trigger"}], "external": false};
window.dfnpanelData['can-attribution-rate-limit-record-be-removed'] = {"dfnID": "can-attribution-rate-limit-record-be-removed", "url": "#can-attribution-rate-limit-record-be-removed", "dfnText": "11.10. Can attribution rate-limit record be removed", "refSections": [{"refs": [{"id": "ref-for-can-attribution-rate-limit-record-be-removed"}], "title": "11.10. Can attribution rate-limit record be removed"}, {"refs": [{"id": "ref-for-can-attribution-rate-limit-record-be-removed"}], "title": "12.4. Processing an attribution source"}, {"refs": [{"id": "ref-for-can-attribution-rate-limit-record-be-removed\u2460"}], "title": "13.11. Triggering attribution"}], "external": false};
window.dfnpanelData['obtain-and-deliver-a-debug-report'] = {"dfnID": "obtain-and-deliver-a-debug-report", "url": "#obtain-and-deliver-a-debug-report", "dfnText": "obtain and deliver a debug report", "refSections": [{"refs": [{"id": "ref-for-obtain-and-deliver-a-debug-report"}], "title": "12.4. Processing an attribution source"}, {"refs": [{"id": "ref-for-obtain-and-deliver-a-debug-report\u2460"}, {"id": "ref-for-obtain-and-deliver-a-debug-report\u2461"}], "title": "13.11. Triggering attribution"}, {"refs": [{"id": "ref-for-obtain-and-deliver-a-debug-report\u2462"}], "title": "16.2. Handle trigger verification"}], "external": false};
window.dfnpanelData['eligibility'] = {"dfnID": "eligibility", "url": "#eligibility", "dfnText": "eligibility", "refSections": [{"refs": [{"id": "ref-for-eligibility"}], "title": "2.1. API for elements"}, {"refs": [{"id": "ref-for-eligibility\u2460"}], "title": "3. Network monkeypatches"}, {"refs": [{"id": "ref-for-eligibility\u2461"}], "title": "3.2. XMLHttpRequest monkeypatches"}, {"refs": [{"id": "ref-for-eligibility\u2462"}, {"id": "ref-for-eligibility\u2463"}, {"id": "ref-for-eligibility\u2464"}, {"id": "ref-for-eligibility\u2465"}, {"id": "ref-for-eligibility\u2466"}], "title": "11.12. Making a background attributionsrc request"}], "external": false};
window.dfnpanelData['eligibility-unset'] = {"dfnID": "eligibility-unset", "url": "#eligibility-unset", "dfnText": "unset", "refSections": [{"refs": [{"id": "ref-for-eligibility-unset"}, {"id": "ref-for-eligibility-unset\u2460"}], "title": "2.1. API for elements"}, {"refs": [{"id": "ref-for-eligibility-unset\u2461"}, {"id": "ref-for-eligibility-unset\u2462"}, {"id": "ref-for-eligibility-unset\u2463"}], "title": "3. Network monkeypatches"}, {"refs": [{"id": "ref-for-eligibility-unset\u2464"}], "title": "3.2. XMLHttpRequest monkeypatches"}, {"refs": [{"id": "ref-for-eligibility-unset\u2465"}], "title": "4. Fenced Frame monkeypatches"}], "external": false};
window.dfnpanelData['eligibility-empty'] = {"dfnID": "eligibility-empty", "url": "#eligibility-empty", "dfnText": "empty", "refSections": [{"refs": [{"id": "ref-for-eligibility-empty"}, {"id": "ref-for-eligibility-empty\u2460"}], "title": "3. Network monkeypatches"}], "external": false};
window.dfnpanelData['eligibility-event-source'] = {"dfnID": "eligibility-event-source", "url": "#eligibility-event-source", "dfnText": "event-source", "refSections": [{"refs": [{"id": "ref-for-eligibility-event-source"}, {"id": "ref-for-eligibility-event-source\u2460"}], "title": "3. Network monkeypatches"}, {"refs": [{"id": "ref-for-eligibility-event-source\u2461"}], "title": "4. Fenced Frame monkeypatches"}, {"refs": [{"id": "ref-for-eligibility-event-source\u2462"}, {"id": "ref-for-eligibility-event-source\u2463"}, {"id": "ref-for-eligibility-event-source\u2464"}], "title": "11.12. Making a background attributionsrc request"}], "external": false};
window.dfnpanelData['eligibility-navigation-source'] = {"dfnID": "eligibility-navigation-source", "url": "#eligibility-navigation-source", "dfnText": "navigation-source", "refSections": [{"refs": [{"id": "ref-for-eligibility-navigation-source"}], "title": "2.1. API for elements"}, {"refs": [{"id": "ref-for-eligibility-navigation-source\u2460"}], "title": "3. Network monkeypatches"}, {"refs": [{"id": "ref-for-eligibility-navigation-source\u2461"}], "title": "4. Fenced Frame monkeypatches"}, {"refs": [{"id": "ref-for-eligibility-navigation-source\u2462"}, {"id": "ref-for-eligibility-navigation-source\u2463"}, {"id": "ref-for-eligibility-navigation-source\u2464"}, {"id": "ref-for-eligibility-navigation-source\u2465"}], "title": "11.12. Making a background attributionsrc request"}], "external": false};
window.dfnpanelData['eligibility-trigger'] = {"dfnID": "eligibility-trigger", "url": "#eligibility-trigger", "dfnText": "trigger", "refSections": [{"refs": [{"id": "ref-for-eligibility-trigger"}, {"id": "ref-for-eligibility-trigger\u2460"}], "title": "3. Network monkeypatches"}], "external": false};
window.dfnpanelData['eligibility-event-source-or-trigger'] = {"dfnID": "eligibility-event-source-or-trigger", "url": "#eligibility-event-source-or-trigger", "dfnText": "event-source-or-trigger", "refSections": [{"refs": [{"id": "ref-for-eligibility-event-source-or-trigger"}, {"id": "ref-for-eligibility-event-source-or-trigger\u2460"}, {"id": "ref-for-eligibility-event-source-or-trigger\u2461"}], "title": "2.1. API for elements"}, {"refs": [{"id": "ref-for-eligibility-event-source-or-trigger\u2462"}, {"id": "ref-for-eligibility-event-source-or-trigger\u2463"}], "title": "3. Network monkeypatches"}, {"refs": [{"id": "ref-for-eligibility-event-source-or-trigger\u2464"}, {"id": "ref-for-eligibility-event-source-or-trigger\u2465"}, {"id": "ref-for-eligibility-event-source-or-trigger\u2466"}], "title": "11.12. Making a background attributionsrc request"}], "external": false};
window.dfnpanelData['registrar'] = {"dfnID": "registrar", "url": "#registrar", "dfnText": "registrar", "refSections": [{"refs": [{"id": "ref-for-registrar"}, {"id": "ref-for-registrar\u2460"}], "title": "15. Cross App and Web Algorithms"}], "external": false};
window.dfnpanelData['registrar-web'] = {"dfnID": "registrar-web", "url": "#registrar-web", "dfnText": "web", "refSections": [{"refs": [{"id": "ref-for-registrar-web"}], "title": "15. Cross App and Web Algorithms"}], "external": false};
window.dfnpanelData['registrar-os'] = {"dfnID": "registrar-os", "url": "#registrar-os", "dfnText": "os", "refSections": [{"refs": [{"id": "ref-for-registrar-os"}], "title": "15. Cross App and Web Algorithms"}], "external": false};
window.dfnpanelData['validate-a-background-attributionsrc-eligibility'] = {"dfnID": "validate-a-background-attributionsrc-eligibility", "url": "#validate-a-background-attributionsrc-eligibility", "dfnText": "validate a background attributionsrc eligibility", "refSections": [{"refs": [{"id": "ref-for-validate-a-background-attributionsrc-eligibility"}, {"id": "ref-for-validate-a-background-attributionsrc-eligibility\u2460"}], "title": "11.12. Making a background attributionsrc request"}], "external": false};
window.dfnpanelData['make-a-background-attributionsrc-request'] = {"dfnID": "make-a-background-attributionsrc-request", "url": "#make-a-background-attributionsrc-request", "dfnText": "make a background attributionsrc request", "refSections": [{"refs": [{"id": "ref-for-make-a-background-attributionsrc-request"}], "title": "2.2. Window open steps"}, {"refs": [{"id": "ref-for-make-a-background-attributionsrc-request\u2460"}], "title": "11.12. Making a background attributionsrc request"}], "external": false};
window.dfnpanelData['make-background-attributionsrc-requests'] = {"dfnID": "make-background-attributionsrc-requests", "url": "#make-background-attributionsrc-requests", "dfnText": "make background attributionsrc requests", "refSections": [{"refs": [{"id": "ref-for-make-background-attributionsrc-requests"}, {"id": "ref-for-make-background-attributionsrc-requests\u2460"}], "title": "2.1. API for elements"}], "external": false};
window.dfnpanelData['process-an-attributionsrc-response'] = {"dfnID": "process-an-attributionsrc-response", "url": "#process-an-attributionsrc-response", "dfnText": "process an attributionsrc response", "refSections": [{"refs": [{"id": "ref-for-process-an-attributionsrc-response"}], "title": "11.12. Making a background attributionsrc request"}], "external": false};
window.dfnpanelData['process-an-attribution-eligible-response'] = {"dfnID": "process-an-attribution-eligible-response", "url": "#process-an-attribution-eligible-response", "dfnText": "process an attribution eligible response", "refSections": [{"refs": [{"id": "ref-for-process-an-attribution-eligible-response"}], "title": "4. Fenced Frame monkeypatches"}, {"refs": [{"id": "ref-for-process-an-attribution-eligible-response\u2460"}], "title": "11.12. Making a background attributionsrc request"}], "external": false};
window.dfnpanelData['obtain-a-set-of-possible-trigger-states'] = {"dfnID": "obtain-a-set-of-possible-trigger-states", "url": "#obtain-a-set-of-possible-trigger-states", "dfnText": "obtain a set of possible trigger states", "refSections": [{"refs": [{"id": "ref-for-obtain-a-set-of-possible-trigger-states"}, {"id": "ref-for-obtain-a-set-of-possible-trigger-states\u2460"}], "title": "12.1. Obtaining a randomized source response"}, {"refs": [{"id": "ref-for-obtain-a-set-of-possible-trigger-states\u2461"}], "title": "12.2. Computing channel capacity"}, {"refs": [{"id": "ref-for-obtain-a-set-of-possible-trigger-states\u2462"}, {"id": "ref-for-obtain-a-set-of-possible-trigger-states\u2463"}, {"id": "ref-for-obtain-a-set-of-possible-trigger-states\u2464"}], "title": "19.2.1. Event-level reports"}], "external": false};
window.dfnpanelData['obtain-a-randomized-source-response-pick-rate'] = {"dfnID": "obtain-a-randomized-source-response-pick-rate", "url": "#obtain-a-randomized-source-response-pick-rate", "dfnText": "obtain a randomized source response pick rate", "refSections": [{"refs": [{"id": "ref-for-obtain-a-randomized-source-response-pick-rate"}], "title": "12.1. Obtaining a randomized source response"}, {"refs": [{"id": "ref-for-obtain-a-randomized-source-response-pick-rate\u2460"}], "title": "12.2. Computing channel capacity"}, {"refs": [{"id": "ref-for-obtain-a-randomized-source-response-pick-rate\u2461"}], "title": "12.3. Parsing source-registration JSON"}, {"refs": [{"id": "ref-for-obtain-a-randomized-source-response-pick-rate\u2462"}], "title": "19.2.1. Event-level reports"}], "external": false};
window.dfnpanelData['obtain-a-randomized-source-response'] = {"dfnID": "obtain-a-randomized-source-response", "url": "#obtain-a-randomized-source-response", "dfnText": "obtain a randomized source response", "refSections": [{"refs": [{"id": "ref-for-obtain-a-randomized-source-response"}], "title": "12.3. Parsing source-registration JSON"}], "external": false};
window.dfnpanelData['compute-the-channel-capacity-of-a-source'] = {"dfnID": "compute-the-channel-capacity-of-a-source", "url": "#compute-the-channel-capacity-of-a-source", "dfnText": "compute the channel capacity of a source", "refSections": [{"refs": [{"id": "ref-for-compute-the-channel-capacity-of-a-source"}], "title": "12.3. Parsing source-registration JSON"}, {"refs": [{"id": "ref-for-compute-the-channel-capacity-of-a-source\u2460"}], "title": "19.2.1. Event-level reports"}], "external": false};
window.dfnpanelData['parse-an-attribution-destination'] = {"dfnID": "parse-an-attribution-destination", "url": "#parse-an-attribution-destination", "dfnText": "parse an attribution destination", "refSections": [{"refs": [{"id": "ref-for-parse-an-attribution-destination"}], "title": "12.3. Parsing source-registration JSON"}], "external": false};
window.dfnpanelData['parse-attribution-destinations'] = {"dfnID": "parse-attribution-destinations", "url": "#parse-attribution-destinations", "dfnText": "parse attribution destinations", "refSections": [{"refs": [{"id": "ref-for-parse-attribution-destinations"}], "title": "12.3. Parsing source-registration JSON"}], "external": false};
window.dfnpanelData['parse-a-duration'] = {"dfnID": "parse-a-duration", "url": "#parse-a-duration", "dfnText": "parse a duration", "refSections": [{"refs": [{"id": "ref-for-parse-a-duration"}, {"id": "ref-for-parse-a-duration\u2460"}, {"id": "ref-for-parse-a-duration\u2461"}], "title": "12.3. Parsing source-registration JSON"}], "external": false};
window.dfnpanelData['parse-aggregation-keys'] = {"dfnID": "parse-aggregation-keys", "url": "#parse-aggregation-keys", "dfnText": "parse aggregation keys", "refSections": [{"refs": [{"id": "ref-for-parse-aggregation-keys"}], "title": "12.3. Parsing source-registration JSON"}], "external": false};
window.dfnpanelData['obtain-default-effective-windows'] = {"dfnID": "obtain-default-effective-windows", "url": "#obtain-default-effective-windows", "dfnText": "obtain default effective windows", "refSections": [{"refs": [{"id": "ref-for-obtain-default-effective-windows"}], "title": "12.3. Parsing source-registration JSON"}], "external": false};
window.dfnpanelData['parse-report-windows'] = {"dfnID": "parse-report-windows", "url": "#parse-report-windows", "dfnText": "parse report windows", "refSections": [{"refs": [{"id": "ref-for-parse-report-windows"}], "title": "12.3. Parsing source-registration JSON"}], "external": false};
window.dfnpanelData['parse-source-registration-json'] = {"dfnID": "parse-source-registration-json", "url": "#parse-source-registration-json", "dfnText": "parse source-registration JSON", "refSections": [{"refs": [{"id": "ref-for-parse-source-registration-json"}, {"id": "ref-for-parse-source-registration-json\u2460"}], "title": "11.12. Making a background attributionsrc request"}], "external": false};
window.dfnpanelData['check-if-an-attribution-source-exceeds-the-time-based-destination-limits'] = {"dfnID": "check-if-an-attribution-source-exceeds-the-time-based-destination-limits", "url": "#check-if-an-attribution-source-exceeds-the-time-based-destination-limits", "dfnText": "check if an attribution source exceeds the time-based destination limits", "refSections": [{"refs": [{"id": "ref-for-check-if-an-attribution-source-exceeds-the-time-based-destination-limits"}], "title": "12.4. Processing an attribution source"}], "external": false};
window.dfnpanelData['check-if-an-attribution-source-exceeds-the-unexpired-destination-limit'] = {"dfnID": "check-if-an-attribution-source-exceeds-the-unexpired-destination-limit", "url": "#check-if-an-attribution-source-exceeds-the-unexpired-destination-limit", "dfnText": "check if an attribution source exceeds the unexpired destination limit", "refSections": [{"refs": [{"id": "ref-for-check-if-an-attribution-source-exceeds-the-unexpired-destination-limit"}], "title": "12.4. Processing an attribution source"}], "external": false};
window.dfnpanelData['obtain-a-fake-report'] = {"dfnID": "obtain-a-fake-report", "url": "#obtain-a-fake-report", "dfnText": "obtain a fake report", "refSections": [{"refs": [{"id": "ref-for-obtain-a-fake-report"}], "title": "12.4. Processing an attribution source"}], "external": false};
window.dfnpanelData['check-if-debug-reporting-is-allowed'] = {"dfnID": "check-if-debug-reporting-is-allowed", "url": "#check-if-debug-reporting-is-allowed", "dfnText": "check if debug reporting is allowed", "refSections": [{"refs": [{"id": "ref-for-check-if-debug-reporting-is-allowed"}], "title": "12.4. Processing an attribution source"}], "external": false};
window.dfnpanelData['obtain-and-deliver-a-debug-report-on-source-registration'] = {"dfnID": "obtain-and-deliver-a-debug-report-on-source-registration", "url": "#obtain-and-deliver-a-debug-report-on-source-registration", "dfnText": "obtain and deliver a debug report on source registration", "refSections": [{"refs": [{"id": "ref-for-obtain-and-deliver-a-debug-report-on-source-registration"}, {"id": "ref-for-obtain-and-deliver-a-debug-report-on-source-registration\u2460"}, {"id": "ref-for-obtain-and-deliver-a-debug-report-on-source-registration\u2461"}, {"id": "ref-for-obtain-and-deliver-a-debug-report-on-source-registration\u2462"}, {"id": "ref-for-obtain-and-deliver-a-debug-report-on-source-registration\u2463"}, {"id": "ref-for-obtain-and-deliver-a-debug-report-on-source-registration\u2464"}], "title": "12.4. Processing an attribution source"}], "external": false};
window.dfnpanelData['process-an-attribution-source'] = {"dfnID": "process-an-attribution-source", "url": "#process-an-attribution-source", "dfnText": "process an attribution source", "refSections": [{"refs": [{"id": "ref-for-process-an-attribution-source"}, {"id": "ref-for-process-an-attribution-source\u2460"}], "title": "11.12. Making a background attributionsrc request"}, {"refs": [{"id": "ref-for-process-an-attribution-source\u2461"}], "title": "13.17. Deferring trigger attribution"}], "external": false};
window.dfnpanelData['parse-event-triggers'] = {"dfnID": "parse-event-triggers", "url": "#parse-event-triggers", "dfnText": "parse event triggers", "refSections": [{"refs": [{"id": "ref-for-parse-event-triggers"}], "title": "13.1. Creating an attribution trigger"}], "external": false};
window.dfnpanelData['parse-aggregatable-trigger-data'] = {"dfnID": "parse-aggregatable-trigger-data", "url": "#parse-aggregatable-trigger-data", "dfnText": "parse aggregatable trigger data", "refSections": [{"refs": [{"id": "ref-for-parse-aggregatable-trigger-data"}], "title": "13.1. Creating an attribution trigger"}], "external": false};
window.dfnpanelData['parse-aggregatable-values'] = {"dfnID": "parse-aggregatable-values", "url": "#parse-aggregatable-values", "dfnText": "parse aggregatable values", "refSections": [{"refs": [{"id": "ref-for-parse-aggregatable-values"}], "title": "13.1. Creating an attribution trigger"}], "external": false};
window.dfnpanelData['parse-aggregatable-dedup-keys'] = {"dfnID": "parse-aggregatable-dedup-keys", "url": "#parse-aggregatable-dedup-keys", "dfnText": "parse aggregatable dedup keys", "refSections": [{"refs": [{"id": "ref-for-parse-aggregatable-dedup-keys"}], "title": "13.1. Creating an attribution trigger"}], "external": false};
window.dfnpanelData['create-an-attribution-trigger'] = {"dfnID": "create-an-attribution-trigger", "url": "#create-an-attribution-trigger", "dfnText": "create an attribution trigger", "refSections": [{"refs": [{"id": "ref-for-create-an-attribution-trigger"}], "title": "11.12. Making a background attributionsrc request"}], "external": false};
window.dfnpanelData['does-filter-data-match'] = {"dfnID": "does-filter-data-match", "url": "#does-filter-data-match", "dfnText": "13.2. Does filter data match", "refSections": [{"refs": [{"id": "ref-for-does-filter-data-match"}], "title": "13.2. Does filter data match"}], "external": false};
window.dfnpanelData['match-filter-values'] = {"dfnID": "match-filter-values", "url": "#match-filter-values", "dfnText": "match filter values", "refSections": [{"refs": [{"id": "ref-for-match-filter-values"}], "title": "13.2. Does filter data match"}], "external": false};
window.dfnpanelData['match-filter-values-with-negation'] = {"dfnID": "match-filter-values-with-negation", "url": "#match-filter-values-with-negation", "dfnText": "match filter values with negation", "refSections": [{"refs": [{"id": "ref-for-match-filter-values-with-negation"}], "title": "13.2. Does filter data match"}], "external": false};
window.dfnpanelData['match-an-attribution-sources-filter-data-against-a-filter-config'] = {"dfnID": "match-an-attribution-sources-filter-data-against-a-filter-config", "url": "#match-an-attribution-sources-filter-data-against-a-filter-config", "dfnText": "match an attribution source\u2019s filter data against a filter config", "refSections": [{"refs": [{"id": "ref-for-match-an-attribution-sources-filter-data-against-a-filter-config"}], "title": "13.2. Does filter data match"}], "external": false};
window.dfnpanelData['match-an-attribution-sources-filter-data-against-filters'] = {"dfnID": "match-an-attribution-sources-filter-data-against-filters", "url": "#match-an-attribution-sources-filter-data-against-filters", "dfnText": "match an attribution source\u2019s filter data against filters", "refSections": [{"refs": [{"id": "ref-for-match-an-attribution-sources-filter-data-against-filters"}, {"id": "ref-for-match-an-attribution-sources-filter-data-against-filters\u2460"}], "title": "13.2. Does filter data match"}], "external": false};
window.dfnpanelData['match-an-attribution-sources-filter-data-against-filters-isnegated'] = {"dfnID": "match-an-attribution-sources-filter-data-against-filters-isnegated", "url": "#match-an-attribution-sources-filter-data-against-filters-isnegated", "dfnText": "isNegated", "refSections": [{"refs": [{"id": "ref-for-match-an-attribution-sources-filter-data-against-filters-isnegated"}, {"id": "ref-for-match-an-attribution-sources-filter-data-against-filters-isnegated\u2460"}], "title": "13.2. Does filter data match"}], "external": false};
window.dfnpanelData['match-an-attribution-sources-filter-data-against-filters-and-negated-filters'] = {"dfnID": "match-an-attribution-sources-filter-data-against-filters-and-negated-filters", "url": "#match-an-attribution-sources-filter-data-against-filters-and-negated-filters", "dfnText": "match an attribution source\u2019s filter data against filters and negated filters", "refSections": [{"refs": [{"id": "ref-for-match-an-attribution-sources-filter-data-against-filters-and-negated-filters"}], "title": "13.6. Creating aggregatable contributions"}, {"refs": [{"id": "ref-for-match-an-attribution-sources-filter-data-against-filters-and-negated-filters\u2460"}], "title": "13.9. Triggering event-level attribution"}, {"refs": [{"id": "ref-for-match-an-attribution-sources-filter-data-against-filters-and-negated-filters\u2461"}], "title": "13.10. Triggering aggregatable attribution"}, {"refs": [{"id": "ref-for-match-an-attribution-sources-filter-data-against-filters-and-negated-filters\u2462"}], "title": "13.11. Triggering attribution"}], "external": false};
window.dfnpanelData['should-block-attribution-for-attribution-limit'] = {"dfnID": "should-block-attribution-for-attribution-limit", "url": "#should-block-attribution-for-attribution-limit", "dfnText": "13.3. Should attribution be blocked by attribution rate limit", "refSections": [{"refs": [{"id": "ref-for-should-block-attribution-for-attribution-limit"}], "title": "13.3. Should attribution be blocked by attribution rate limit"}, {"refs": [{"id": "ref-for-should-block-attribution-for-attribution-limit"}], "title": "13.5. Should attribution be blocked by rate limits"}], "external": false};
window.dfnpanelData['should-block-processing-for-reporting-origin-limit'] = {"dfnID": "should-block-processing-for-reporting-origin-limit", "url": "#should-block-processing-for-reporting-origin-limit", "dfnText": "13.4. Should processing be blocked by reporting-origin limit", "refSections": [{"refs": [{"id": "ref-for-should-block-processing-for-reporting-origin-limit"}], "title": "12.4. Processing an attribution source"}, {"refs": [{"id": "ref-for-should-block-processing-for-reporting-origin-limit"}], "title": "13.4. Should processing be blocked by reporting-origin limit"}, {"refs": [{"id": "ref-for-should-block-processing-for-reporting-origin-limit\u2460"}], "title": "13.5. Should attribution be blocked by rate limits"}], "external": false};
window.dfnpanelData['should-block-attribution-for-rate-limits'] = {"dfnID": "should-block-attribution-for-rate-limits", "url": "#should-block-attribution-for-rate-limits", "dfnText": "13.5. Should attribution be blocked by rate limits", "refSections": [{"refs": [{"id": "ref-for-should-block-attribution-for-rate-limits"}], "title": "13.5. Should attribution be blocked by rate limits"}, {"refs": [{"id": "ref-for-should-block-attribution-for-rate-limits"}], "title": "13.9. Triggering event-level attribution"}, {"refs": [{"id": "ref-for-should-block-attribution-for-rate-limits\u2460"}], "title": "13.10. Triggering aggregatable attribution"}], "external": false};
window.dfnpanelData['create-aggregatable-contributions'] = {"dfnID": "create-aggregatable-contributions", "url": "#create-aggregatable-contributions", "dfnText": "create aggregatable contributions", "refSections": [{"refs": [{"id": "ref-for-create-aggregatable-contributions"}], "title": "13.15. Obtaining an aggregatable report"}], "external": false};
window.dfnpanelData['check-if-an-attribution-source-can-create-aggregatable-contributions'] = {"dfnID": "check-if-an-attribution-source-can-create-aggregatable-contributions", "url": "#check-if-an-attribution-source-can-create-aggregatable-contributions", "dfnText": "check if an attribution source can create aggregatable contributions", "refSections": [{"refs": [{"id": "ref-for-check-if-an-attribution-source-can-create-aggregatable-contributions"}], "title": "13.10. Triggering aggregatable attribution"}], "external": false};
window.dfnpanelData['obtain-debug-data-body-on-trigger-registration'] = {"dfnID": "obtain-debug-data-body-on-trigger-registration", "url": "#obtain-debug-data-body-on-trigger-registration", "dfnText": "obtain debug data body on trigger registration", "refSections": [{"refs": [{"id": "ref-for-obtain-debug-data-body-on-trigger-registration"}], "title": "13.8. Obtaining debug data on trigger registration"}], "external": false};
window.dfnpanelData['obtain-debug-data-on-trigger-registration'] = {"dfnID": "obtain-debug-data-on-trigger-registration", "url": "#obtain-debug-data-on-trigger-registration", "dfnText": "obtain debug data on trigger registration", "refSections": [{"refs": [{"id": "ref-for-obtain-debug-data-on-trigger-registration"}, {"id": "ref-for-obtain-debug-data-on-trigger-registration\u2460"}], "title": "13.5. Should attribution be blocked by rate limits"}, {"refs": [{"id": "ref-for-obtain-debug-data-on-trigger-registration\u2461"}, {"id": "ref-for-obtain-debug-data-on-trigger-registration\u2462"}, {"id": "ref-for-obtain-debug-data-on-trigger-registration\u2463"}, {"id": "ref-for-obtain-debug-data-on-trigger-registration\u2464"}, {"id": "ref-for-obtain-debug-data-on-trigger-registration\u2465"}, {"id": "ref-for-obtain-debug-data-on-trigger-registration\u2466"}, {"id": "ref-for-obtain-debug-data-on-trigger-registration\u2467"}, {"id": "ref-for-obtain-debug-data-on-trigger-registration\u2468"}, {"id": "ref-for-obtain-debug-data-on-trigger-registration\u2460\u24ea"}, {"id": "ref-for-obtain-debug-data-on-trigger-registration\u2460\u2460"}], "title": "13.9. Triggering event-level attribution"}, {"refs": [{"id": "ref-for-obtain-debug-data-on-trigger-registration\u2460\u2461"}, {"id": "ref-for-obtain-debug-data-on-trigger-registration\u2460\u2462"}, {"id": "ref-for-obtain-debug-data-on-trigger-registration\u2460\u2463"}, {"id": "ref-for-obtain-debug-data-on-trigger-registration\u2460\u2464"}, {"id": "ref-for-obtain-debug-data-on-trigger-registration\u2460\u2465"}, {"id": "ref-for-obtain-debug-data-on-trigger-registration\u2460\u2466"}], "title": "13.10. Triggering aggregatable attribution"}, {"refs": [{"id": "ref-for-obtain-debug-data-on-trigger-registration\u2460\u2467"}], "title": "13.11. Triggering attribution"}], "external": false};
window.dfnpanelData['obtain-debug-data-on-trigger-registration-report'] = {"dfnID": "obtain-debug-data-on-trigger-registration-report", "url": "#obtain-debug-data-on-trigger-registration-report", "dfnText": "report", "refSections": [{"refs": [{"id": "ref-for-obtain-debug-data-on-trigger-registration-report"}, {"id": "ref-for-obtain-debug-data-on-trigger-registration-report\u2460"}], "title": "13.5. Should attribution be blocked by rate limits"}, {"refs": [{"id": "ref-for-obtain-debug-data-on-trigger-registration-report\u2461"}, {"id": "ref-for-obtain-debug-data-on-trigger-registration-report\u2462"}, {"id": "ref-for-obtain-debug-data-on-trigger-registration-report\u2463"}, {"id": "ref-for-obtain-debug-data-on-trigger-registration-report\u2464"}, {"id": "ref-for-obtain-debug-data-on-trigger-registration-report\u2465"}, {"id": "ref-for-obtain-debug-data-on-trigger-registration-report\u2466"}, {"id": "ref-for-obtain-debug-data-on-trigger-registration-report\u2467"}], "title": "13.9. Triggering event-level attribution"}, {"refs": [{"id": "ref-for-obtain-debug-data-on-trigger-registration-report\u2468"}, {"id": "ref-for-obtain-debug-data-on-trigger-registration-report\u2460\u24ea"}, {"id": "ref-for-obtain-debug-data-on-trigger-registration-report\u2460\u2460"}, {"id": "ref-for-obtain-debug-data-on-trigger-registration-report\u2460\u2461"}, {"id": "ref-for-obtain-debug-data-on-trigger-registration-report\u2460\u2462"}], "title": "13.10. Triggering aggregatable attribution"}, {"refs": [{"id": "ref-for-obtain-debug-data-on-trigger-registration-report\u2460\u2463"}], "title": "13.11. Triggering attribution"}], "external": false};
window.dfnpanelData['event-level-report-is-lower-priority-than'] = {"dfnID": "event-level-report-is-lower-priority-than", "url": "#event-level-report-is-lower-priority-than", "dfnText": "is lower-priority than", "refSections": [{"refs": [{"id": "ref-for-event-level-report-is-lower-priority-than"}, {"id": "ref-for-event-level-report-is-lower-priority-than\u2460"}, {"id": "ref-for-event-level-report-is-lower-priority-than\u2461"}, {"id": "ref-for-event-level-report-is-lower-priority-than\u2462"}], "title": "13.9. Triggering event-level attribution"}], "external": false};
window.dfnpanelData['event-level-report-replacement-result-add-new-report'] = {"dfnID": "event-level-report-replacement-result-add-new-report", "url": "#event-level-report-replacement-result-add-new-report", "dfnText": "add-new-report", "refSections": [{"refs": [{"id": "ref-for-event-level-report-replacement-result-add-new-report"}, {"id": "ref-for-event-level-report-replacement-result-add-new-report\u2460"}, {"id": "ref-for-event-level-report-replacement-result-add-new-report\u2461"}], "title": "13.9. Triggering event-level attribution"}], "external": false};
window.dfnpanelData['event-level-report-replacement-result-drop-new-report-none-to-replace'] = {"dfnID": "event-level-report-replacement-result-drop-new-report-none-to-replace", "url": "#event-level-report-replacement-result-drop-new-report-none-to-replace", "dfnText": "drop-new-report-none-to-replace", "refSections": [{"refs": [{"id": "ref-for-event-level-report-replacement-result-drop-new-report-none-to-replace"}, {"id": "ref-for-event-level-report-replacement-result-drop-new-report-none-to-replace\u2460"}], "title": "13.9. Triggering event-level attribution"}], "external": false};
window.dfnpanelData['event-level-report-replacement-result-drop-new-report-low-priority'] = {"dfnID": "event-level-report-replacement-result-drop-new-report-low-priority", "url": "#event-level-report-replacement-result-drop-new-report-low-priority", "dfnText": "drop-new-report-low-priority", "refSections": [{"refs": [{"id": "ref-for-event-level-report-replacement-result-drop-new-report-low-priority"}, {"id": "ref-for-event-level-report-replacement-result-drop-new-report-low-priority\u2460"}], "title": "13.9. Triggering event-level attribution"}], "external": false};
window.dfnpanelData['maybe-replace-event-level-report'] = {"dfnID": "maybe-replace-event-level-report", "url": "#maybe-replace-event-level-report", "dfnText": "maybe replace event-level report", "refSections": [{"refs": [{"id": "ref-for-maybe-replace-event-level-report"}], "title": "13.9. Triggering event-level attribution"}], "external": false};
window.dfnpanelData['trigger-event-level-attribution'] = {"dfnID": "trigger-event-level-attribution", "url": "#trigger-event-level-attribution", "dfnText": "trigger event-level attribution", "refSections": [{"refs": [{"id": "ref-for-trigger-event-level-attribution"}], "title": "7.25. Triggering result"}, {"refs": [{"id": "ref-for-trigger-event-level-attribution\u2460"}], "title": "13.11. Triggering attribution"}], "external": false};
window.dfnpanelData['trigger-aggregatable-attribution'] = {"dfnID": "trigger-aggregatable-attribution", "url": "#trigger-aggregatable-attribution", "dfnText": "trigger aggregatable attribution", "refSections": [{"refs": [{"id": "ref-for-trigger-aggregatable-attribution"}], "title": "13.11. Triggering attribution"}], "external": false};
window.dfnpanelData['obtain-and-deliver-a-debug-report-on-trigger-registration'] = {"dfnID": "obtain-and-deliver-a-debug-report-on-trigger-registration", "url": "#obtain-and-deliver-a-debug-report-on-trigger-registration", "dfnText": "obtain and deliver a debug report on trigger registration", "refSections": [{"refs": [{"id": "ref-for-obtain-and-deliver-a-debug-report-on-trigger-registration"}, {"id": "ref-for-obtain-and-deliver-a-debug-report-on-trigger-registration\u2460"}], "title": "13.11. Triggering attribution"}], "external": false};
window.dfnpanelData['obtain-and-deliver-a-debug-report-on-trigger-registration-sourcetoattribute'] = {"dfnID": "obtain-and-deliver-a-debug-report-on-trigger-registration-sourcetoattribute", "url": "#obtain-and-deliver-a-debug-report-on-trigger-registration-sourcetoattribute", "dfnText": "sourceToAttribute", "refSections": [{"refs": [{"id": "ref-for-obtain-and-deliver-a-debug-report-on-trigger-registration-sourcetoattribute"}], "title": "13.11. Triggering attribution"}], "external": false};
window.dfnpanelData['find-matching-sources'] = {"dfnID": "find-matching-sources", "url": "#find-matching-sources", "dfnText": "find matching sources", "refSections": [{"refs": [{"id": "ref-for-find-matching-sources"}], "title": "13.11. Triggering attribution"}], "external": false};
window.dfnpanelData['check-if-an-attribution-trigger-contains-aggregatable-data'] = {"dfnID": "check-if-an-attribution-trigger-contains-aggregatable-data", "url": "#check-if-an-attribution-trigger-contains-aggregatable-data", "dfnText": "check if an attribution trigger contains aggregatable data", "refSections": [{"refs": [{"id": "ref-for-check-if-an-attribution-trigger-contains-aggregatable-data"}], "title": "13.10. Triggering aggregatable attribution"}, {"refs": [{"id": "ref-for-check-if-an-attribution-trigger-contains-aggregatable-data\u2460"}], "title": "13.11. Triggering attribution"}], "external": false};
window.dfnpanelData['trigger-attribution'] = {"dfnID": "trigger-attribution", "url": "#trigger-attribution", "dfnText": "trigger attribution", "refSections": [{"refs": [{"id": "ref-for-trigger-attribution"}], "title": "13.17. Deferring trigger attribution"}, {"refs": [{"id": "ref-for-trigger-attribution\u2460"}], "title": "18.2. Opting in to the API"}, {"refs": [{"id": "ref-for-trigger-attribution\u2461"}], "title": "19.2.2. Aggregatable reports"}], "external": false};
window.dfnpanelData['check-whether-a-moment-falls-within-a-window'] = {"dfnID": "check-whether-a-moment-falls-within-a-window", "url": "#check-whether-a-moment-falls-within-a-window", "dfnText": "check whether a moment falls within a window", "refSections": [{"refs": [{"id": "ref-for-check-whether-a-moment-falls-within-a-window"}], "title": "13.9. Triggering event-level attribution"}, {"refs": [{"id": "ref-for-check-whether-a-moment-falls-within-a-window\u2460"}], "title": "13.10. Triggering aggregatable attribution"}, {"refs": [{"id": "ref-for-check-whether-a-moment-falls-within-a-window\u2461"}], "title": "13.12. Establishing report delivery time"}], "external": false};
window.dfnpanelData['obtain-a-report-time-from-a-window'] = {"dfnID": "obtain-a-report-time-from-a-window", "url": "#obtain-a-report-time-from-a-window", "dfnText": "obtain a report time from a window", "refSections": [{"refs": [{"id": "ref-for-obtain-a-report-time-from-a-window"}, {"id": "ref-for-obtain-a-report-time-from-a-window\u2460"}], "title": "13.12. Establishing report delivery time"}], "external": false};
window.dfnpanelData['obtain-the-report-time-at-a-window'] = {"dfnID": "obtain-the-report-time-at-a-window", "url": "#obtain-the-report-time-at-a-window", "dfnText": "obtain the report time at a window", "refSections": [{"refs": [{"id": "ref-for-obtain-the-report-time-at-a-window"}], "title": "12.4. Processing an attribution source"}], "external": false};
window.dfnpanelData['obtain-an-event-level-report-delivery-time'] = {"dfnID": "obtain-an-event-level-report-delivery-time", "url": "#obtain-an-event-level-report-delivery-time", "dfnText": "obtain an event-level report delivery time", "refSections": [{"refs": [{"id": "ref-for-obtain-an-event-level-report-delivery-time"}], "title": "13.13. Obtaining an event-level report"}], "external": false};
window.dfnpanelData['obtain-an-aggregatable-report-delivery-time'] = {"dfnID": "obtain-an-aggregatable-report-delivery-time", "url": "#obtain-an-aggregatable-report-delivery-time", "dfnText": "obtain an aggregatable report delivery time", "refSections": [{"refs": [{"id": "ref-for-obtain-an-aggregatable-report-delivery-time"}], "title": "13.15. Obtaining an aggregatable report"}, {"refs": [{"id": "ref-for-obtain-an-aggregatable-report-delivery-time\u2460"}], "title": "13.16. Generating randomized null reports"}], "external": false};
window.dfnpanelData['obtain-an-event-level-report'] = {"dfnID": "obtain-an-event-level-report", "url": "#obtain-an-event-level-report", "dfnText": "obtain an event-level report", "refSections": [{"refs": [{"id": "ref-for-obtain-an-event-level-report"}], "title": "12.4. Processing an attribution source"}, {"refs": [{"id": "ref-for-obtain-an-event-level-report\u2460"}], "title": "13.9. Triggering event-level attribution"}], "external": false};
window.dfnpanelData['aggregatable-report-required-aggregatable-budget'] = {"dfnID": "aggregatable-report-required-aggregatable-budget", "url": "#aggregatable-report-required-aggregatable-budget", "dfnText": "\nrequired aggregatable budget", "refSections": [{"refs": [{"id": "ref-for-aggregatable-report-required-aggregatable-budget"}], "title": "10. Vendor-Specific Values"}, {"refs": [{"id": "ref-for-aggregatable-report-required-aggregatable-budget\u2460"}], "title": "13.7. Can source create aggregatable contributions"}, {"refs": [{"id": "ref-for-aggregatable-report-required-aggregatable-budget\u2461"}], "title": "13.10. Triggering aggregatable attribution"}], "external": false};
window.dfnpanelData['obtain-an-aggregatable-report'] = {"dfnID": "obtain-an-aggregatable-report", "url": "#obtain-an-aggregatable-report", "dfnText": "obtain an aggregatable report", "refSections": [{"refs": [{"id": "ref-for-obtain-an-aggregatable-report"}], "title": "13.10. Triggering aggregatable attribution"}], "external": false};
window.dfnpanelData['obtain-a-null-report'] = {"dfnID": "obtain-a-null-report", "url": "#obtain-a-null-report", "dfnText": "obtain a null report", "refSections": [{"refs": [{"id": "ref-for-obtain-a-null-report"}, {"id": "ref-for-obtain-a-null-report\u2460"}], "title": "13.16. Generating randomized null reports"}], "external": false};
window.dfnpanelData['obtain-rounded-source-time'] = {"dfnID": "obtain-rounded-source-time", "url": "#obtain-rounded-source-time", "dfnText": "obtain rounded source time", "refSections": [{"refs": [{"id": "ref-for-obtain-rounded-source-time"}, {"id": "ref-for-obtain-rounded-source-time\u2460"}], "title": "13.16. Generating randomized null reports"}, {"refs": [{"id": "ref-for-obtain-rounded-source-time\u2461"}], "title": "14.3. Obtaining an aggregatable report\u2019s shared info"}], "external": false};
window.dfnpanelData['determine-if-a-randomized-null-report-is-generated'] = {"dfnID": "determine-if-a-randomized-null-report-is-generated", "url": "#determine-if-a-randomized-null-report-is-generated", "dfnText": "determine if a randomized null report is generated", "refSections": [{"refs": [{"id": "ref-for-determine-if-a-randomized-null-report-is-generated"}, {"id": "ref-for-determine-if-a-randomized-null-report-is-generated\u2460"}], "title": "13.16. Generating randomized null reports"}], "external": false};
window.dfnpanelData['generate-null-reports'] = {"dfnID": "generate-null-reports", "url": "#generate-null-reports", "dfnText": "generate null reports", "refSections": [{"refs": [{"id": "ref-for-generate-null-reports"}], "title": "13.16. Generating randomized null reports"}, {"refs": [{"id": "ref-for-generate-null-reports\u2460"}], "title": "19.2.2. Aggregatable reports"}], "external": false};
window.dfnpanelData['shuffle-a-list'] = {"dfnID": "shuffle-a-list", "url": "#shuffle-a-list", "dfnText": "shuffle a list", "refSections": [{"refs": [{"id": "ref-for-shuffle-a-list"}], "title": "3. Network monkeypatches"}, {"refs": [{"id": "ref-for-shuffle-a-list\u2460"}, {"id": "ref-for-shuffle-a-list\u2461"}], "title": "13.16. Generating randomized null reports"}], "external": false};
window.dfnpanelData['assign-private-state-tokens'] = {"dfnID": "assign-private-state-tokens", "url": "#assign-private-state-tokens", "dfnText": "assign private state tokens", "refSections": [{"refs": [{"id": "ref-for-assign-private-state-tokens"}], "title": "13.16. Generating randomized null reports"}], "external": false};
window.dfnpanelData['generate-null-reports-and-assign-private-state-tokens'] = {"dfnID": "generate-null-reports-and-assign-private-state-tokens", "url": "#generate-null-reports-and-assign-private-state-tokens", "dfnText": "generate null reports and assign private state tokens", "refSections": [{"refs": [{"id": "ref-for-generate-null-reports-and-assign-private-state-tokens"}], "title": "13.10. Triggering aggregatable attribution"}, {"refs": [{"id": "ref-for-generate-null-reports-and-assign-private-state-tokens\u2460"}, {"id": "ref-for-generate-null-reports-and-assign-private-state-tokens\u2461"}, {"id": "ref-for-generate-null-reports-and-assign-private-state-tokens\u2462"}], "title": "13.11. Triggering attribution"}], "external": false};
window.dfnpanelData['generate-null-reports-and-assign-private-state-tokens-report'] = {"dfnID": "generate-null-reports-and-assign-private-state-tokens-report", "url": "#generate-null-reports-and-assign-private-state-tokens-report", "dfnText": "report", "refSections": [{"refs": [{"id": "ref-for-generate-null-reports-and-assign-private-state-tokens-report"}, {"id": "ref-for-generate-null-reports-and-assign-private-state-tokens-report\u2460"}, {"id": "ref-for-generate-null-reports-and-assign-private-state-tokens-report\u2461"}], "title": "13.11. Triggering attribution"}], "external": false};
window.dfnpanelData['maybe-defer-and-then-complete-trigger-attribution'] = {"dfnID": "maybe-defer-and-then-complete-trigger-attribution", "url": "#maybe-defer-and-then-complete-trigger-attribution", "dfnText": "maybe defer and then complete trigger attribution", "refSections": [{"refs": [{"id": "ref-for-maybe-defer-and-then-complete-trigger-attribution"}], "title": "11.12. Making a background attributionsrc request"}], "external": false};
window.dfnpanelData['queue-a-report-for-delivery'] = {"dfnID": "queue-a-report-for-delivery", "url": "#queue-a-report-for-delivery", "dfnText": "queue a report for delivery", "refSections": [{"refs": [{"id": "ref-for-queue-a-report-for-delivery"}], "title": "14. Report delivery"}], "external": false};
window.dfnpanelData['encode-an-unsigned-k-bit-integer'] = {"dfnID": "encode-an-unsigned-k-bit-integer", "url": "#encode-an-unsigned-k-bit-integer", "dfnText": "encode an unsigned k-bit integer", "refSections": [{"refs": [{"id": "ref-for-encode-an-unsigned-k-bit-integer"}, {"id": "ref-for-encode-an-unsigned-k-bit-integer\u2460"}], "title": "14.4. Obtaining an aggregatable report\u2019s aggregation service payloads"}], "external": false};
window.dfnpanelData['aggregatable-report-debug-mode'] = {"dfnID": "aggregatable-report-debug-mode", "url": "#aggregatable-report-debug-mode", "dfnText": "debug mode", "refSections": [{"refs": [{"id": "ref-for-aggregatable-report-debug-mode"}], "title": "14.3. Obtaining an aggregatable report\u2019s shared info"}, {"refs": [{"id": "ref-for-aggregatable-report-debug-mode\u2460"}], "title": "14.4. Obtaining an aggregatable report\u2019s aggregation service payloads"}], "external": false};
window.dfnpanelData['aggregatable-report-shared-info'] = {"dfnID": "aggregatable-report-shared-info", "url": "#aggregatable-report-shared-info", "dfnText": "shared info", "refSections": [{"refs": [{"id": "ref-for-aggregatable-report-shared-info"}, {"id": "ref-for-aggregatable-report-shared-info\u2460"}], "title": "7.13. Aggregatable source registration time configuration"}, {"refs": [{"id": "ref-for-aggregatable-report-shared-info\u2461"}], "title": "14.4. Obtaining an aggregatable report\u2019s aggregation service payloads"}, {"refs": [{"id": "ref-for-aggregatable-report-shared-info\u2462"}], "title": "14.5. Serialize attribution report body"}], "external": false};
window.dfnpanelData['obtain-the-public-key-for-encryption'] = {"dfnID": "obtain-the-public-key-for-encryption", "url": "#obtain-the-public-key-for-encryption", "dfnText": "obtain the public key for encryption", "refSections": [{"refs": [{"id": "ref-for-obtain-the-public-key-for-encryption"}], "title": "14.4. Obtaining an aggregatable report\u2019s aggregation service payloads"}, {"refs": [{"id": "ref-for-obtain-the-public-key-for-encryption\u2460"}], "title": "19.2.2. Aggregatable reports"}], "external": false};
window.dfnpanelData['aggregatable-report-plaintext-payload'] = {"dfnID": "aggregatable-report-plaintext-payload", "url": "#aggregatable-report-plaintext-payload", "dfnText": "plaintext payload", "refSections": [{"refs": [{"id": "ref-for-aggregatable-report-plaintext-payload"}, {"id": "ref-for-aggregatable-report-plaintext-payload\u2460"}], "title": "14.4. Obtaining an aggregatable report\u2019s aggregation service payloads"}], "external": false};
window.dfnpanelData['obtain-the-encrypted-payload'] = {"dfnID": "obtain-the-encrypted-payload", "url": "#obtain-the-encrypted-payload", "dfnText": "obtain the encrypted payload", "refSections": [{"refs": [{"id": "ref-for-obtain-the-encrypted-payload"}], "title": "14.4. Obtaining an aggregatable report\u2019s aggregation service payloads"}], "external": false};
window.dfnpanelData['obtain-the-aggregation-service-payloads'] = {"dfnID": "obtain-the-aggregation-service-payloads", "url": "#obtain-the-aggregation-service-payloads", "dfnText": "obtain the aggregation service payloads", "refSections": [{"refs": [{"id": "ref-for-obtain-the-aggregation-service-payloads"}], "title": "14.5. Serialize attribution report body"}], "external": false};
window.dfnpanelData['obtain-an-event-level-report-body'] = {"dfnID": "obtain-an-event-level-report-body", "url": "#obtain-an-event-level-report-body", "dfnText": "obtain an event-level report body", "refSections": [{"refs": [{"id": "ref-for-obtain-an-event-level-report-body"}], "title": "13.8. Obtaining debug data on trigger registration"}, {"refs": [{"id": "ref-for-obtain-an-event-level-report-body\u2460"}], "title": "14.5. Serialize attribution report body"}], "external": false};
window.dfnpanelData['serialize-an-event-level-report'] = {"dfnID": "serialize-an-event-level-report", "url": "#serialize-an-event-level-report", "dfnText": "serialize an event-level report", "refSections": [{"refs": [{"id": "ref-for-serialize-an-event-level-report"}], "title": "14.5. Serialize attribution report body"}], "external": false};
window.dfnpanelData['serialize-an-aggregatable-report'] = {"dfnID": "serialize-an-aggregatable-report", "url": "#serialize-an-aggregatable-report", "dfnText": "serialize an aggregatable report ", "refSections": [{"refs": [{"id": "ref-for-serialize-an-aggregatable-report"}], "title": "14.5. Serialize attribution report body"}], "external": false};
window.dfnpanelData['serialize-an-attribution-report'] = {"dfnID": "serialize-an-attribution-report", "url": "#serialize-an-attribution-report", "dfnText": "serialize an attribution report", "refSections": [{"refs": [{"id": "ref-for-serialize-an-attribution-report"}], "title": "14.10. Issuing a report request"}, {"refs": [{"id": "ref-for-serialize-an-attribution-report\u2460"}], "title": "14.11. Issuing a debug report request"}], "external": false};
window.dfnpanelData['serialize-an-attribution-debug-report'] = {"dfnID": "serialize-an-attribution-debug-report", "url": "#serialize-an-attribution-debug-report", "dfnText": "serialize an attribution debug report", "refSections": [{"refs": [{"id": "ref-for-serialize-an-attribution-debug-report"}], "title": "14.12. Issuing a verbose debug request"}], "external": false};
window.dfnpanelData['generate-a-report-url'] = {"dfnID": "generate-a-report-url", "url": "#generate-a-report-url", "dfnText": "generate a report URL", "refSections": [{"refs": [{"id": "ref-for-generate-a-report-url"}, {"id": "ref-for-generate-a-report-url\u2460"}], "title": "14.7. Get report request URL"}], "external": false};
window.dfnpanelData['generate-an-attribution-report-url'] = {"dfnID": "generate-an-attribution-report-url", "url": "#generate-an-attribution-report-url", "dfnText": "generate an attribution report URL", "refSections": [{"refs": [{"id": "ref-for-generate-an-attribution-report-url"}], "title": "14.10. Issuing a report request"}, {"refs": [{"id": "ref-for-generate-an-attribution-report-url\u2460"}], "title": "14.11. Issuing a debug report request"}], "external": false};
window.dfnpanelData['generate-an-attribution-report-url-isdebugreport'] = {"dfnID": "generate-an-attribution-report-url-isdebugreport", "url": "#generate-an-attribution-report-url-isdebugreport", "dfnText": "isDebugReport", "refSections": [{"refs": [{"id": "ref-for-generate-an-attribution-report-url-isdebugreport"}], "title": "14.11. Issuing a debug report request"}, {"refs": [{"id": "ref-for-generate-an-attribution-report-url-isdebugreport\u2460"}], "title": "19.2.3. Debug reports"}], "external": false};
window.dfnpanelData['generate-an-attribution-debug-report-url'] = {"dfnID": "generate-an-attribution-debug-report-url", "url": "#generate-an-attribution-debug-report-url", "dfnText": "generate an attribution debug report URL", "refSections": [{"refs": [{"id": "ref-for-generate-an-attribution-debug-report-url"}], "title": "14.12. Issuing a verbose debug request"}], "external": false};
window.dfnpanelData['create-a-report-request'] = {"dfnID": "create-a-report-request", "url": "#create-a-report-request", "dfnText": "create a report request", "refSections": [{"refs": [{"id": "ref-for-create-a-report-request"}], "title": "14.10. Issuing a report request"}, {"refs": [{"id": "ref-for-create-a-report-request\u2460"}], "title": "14.11. Issuing a debug report request"}, {"refs": [{"id": "ref-for-create-a-report-request\u2461"}], "title": "14.12. Issuing a verbose debug request"}], "external": false};
window.dfnpanelData['generate-attribution-report-headers'] = {"dfnID": "generate-attribution-report-headers", "url": "#generate-attribution-report-headers", "dfnText": "generate attribution report headers", "refSections": [{"refs": [{"id": "ref-for-generate-attribution-report-headers"}], "title": "14.10. Issuing a report request"}, {"refs": [{"id": "ref-for-generate-attribution-report-headers\u2460"}], "title": "14.11. Issuing a debug report request"}, {"refs": [{"id": "ref-for-generate-attribution-report-headers\u2461"}], "title": "16. Report Verification Algorithms"}], "external": false};
window.dfnpanelData['remove-a-report-from-the-cache'] = {"dfnID": "remove-a-report-from-the-cache", "url": "#remove-a-report-from-the-cache", "dfnText": "remove a report from the cache", "refSections": [{"refs": [{"id": "ref-for-remove-a-report-from-the-cache"}, {"id": "ref-for-remove-a-report-from-the-cache\u2460"}], "title": "14.10. Issuing a report request"}], "external": false};
window.dfnpanelData['attempt-to-deliver-a-report'] = {"dfnID": "attempt-to-deliver-a-report", "url": "#attempt-to-deliver-a-report", "dfnText": "attempt to deliver a report", "refSections": [{"refs": [{"id": "ref-for-attempt-to-deliver-a-report"}], "title": "14. Report delivery"}], "external": false};
window.dfnpanelData['attempt-to-deliver-a-debug-report'] = {"dfnID": "attempt-to-deliver-a-debug-report", "url": "#attempt-to-deliver-a-debug-report", "dfnText": "attempt to deliver a debug report", "refSections": [{"refs": [{"id": "ref-for-attempt-to-deliver-a-debug-report"}], "title": "13.9. Triggering event-level attribution"}, {"refs": [{"id": "ref-for-attempt-to-deliver-a-debug-report\u2460"}], "title": "13.10. Triggering aggregatable attribution"}], "external": false};
window.dfnpanelData['attempt-to-deliver-a-verbose-debug-report'] = {"dfnID": "attempt-to-deliver-a-verbose-debug-report", "url": "#attempt-to-deliver-a-verbose-debug-report", "dfnText": "attempt to deliver a verbose debug report", "refSections": [{"refs": [{"id": "ref-for-attempt-to-deliver-a-verbose-debug-report"}], "title": "11.11. Obtaining and delivering an attribution debug report"}], "external": false};
window.dfnpanelData['os-registration'] = {"dfnID": "os-registration", "url": "#os-registration", "dfnText": "OS registration", "refSections": [{"refs": [{"id": "ref-for-os-registration"}, {"id": "ref-for-os-registration\u2460"}], "title": "15. Cross App and Web Algorithms"}, {"refs": [{"id": "ref-for-os-registration\u2461"}], "title": "16.2. Handle trigger verification"}], "external": false};
window.dfnpanelData['os-registration-url'] = {"dfnID": "os-registration-url", "url": "#os-registration-url", "dfnText": "URL", "refSections": [{"refs": [{"id": "ref-for-os-registration-url"}], "title": "15. Cross App and Web Algorithms"}, {"refs": [{"id": "ref-for-os-registration-url\u2460"}, {"id": "ref-for-os-registration-url\u2461"}], "title": "16.2. Handle trigger verification"}], "external": false};
window.dfnpanelData['os-registration-debug-reporting-enabled'] = {"dfnID": "os-registration-debug-reporting-enabled", "url": "#os-registration-debug-reporting-enabled", "dfnText": "debug reporting enabled", "refSections": [{"refs": [{"id": "ref-for-os-registration-debug-reporting-enabled"}], "title": "15. Cross App and Web Algorithms"}, {"refs": [{"id": "ref-for-os-registration-debug-reporting-enabled\u2460"}], "title": "16.2. Handle trigger verification"}], "external": false};
window.dfnpanelData['get-os-registrations-from-a-header-list'] = {"dfnID": "get-os-registrations-from-a-header-list", "url": "#get-os-registrations-from-a-header-list", "dfnText": "get OS registrations from a header list", "refSections": [{"refs": [{"id": "ref-for-get-os-registrations-from-a-header-list"}, {"id": "ref-for-get-os-registrations-from-a-header-list\u2460"}], "title": "11.12. Making a background attributionsrc request"}], "external": false};
window.dfnpanelData['get-supported-registrars'] = {"dfnID": "get-supported-registrars", "url": "#get-supported-registrars", "dfnText": "get supported registrars", "refSections": [{"refs": [{"id": "ref-for-get-supported-registrars"}], "title": "4. Fenced Frame monkeypatches"}, {"refs": [{"id": "ref-for-get-supported-registrars\u2460"}], "title": "11.12. Making a background attributionsrc request"}, {"refs": [{"id": "ref-for-get-supported-registrars\u2461"}], "title": "15. Cross App and Web Algorithms"}], "external": false};
window.dfnpanelData['attribution-reporting-support'] = {"dfnID": "attribution-reporting-support", "url": "#attribution-reporting-support", "dfnText": "Attribution-Reporting-Support", "refSections": [{"refs": [{"id": "ref-for-attribution-reporting-support"}], "title": "3. Network monkeypatches"}, {"refs": [{"id": "ref-for-attribution-reporting-support\u2460"}], "title": "15. Cross App and Web Algorithms"}], "external": false};
window.dfnpanelData['set-an-os-support-header'] = {"dfnID": "set-an-os-support-header", "url": "#set-an-os-support-header", "dfnText": "set an OS-support header", "refSections": [{"refs": [{"id": "ref-for-set-an-os-support-header"}], "title": "3. Network monkeypatches"}], "external": false};
window.dfnpanelData['sec-attribution-reporting-private-state-token'] = {"dfnID": "sec-attribution-reporting-private-state-token", "url": "#sec-attribution-reporting-private-state-token", "dfnText": "Sec-Attribution-Reporting-Private-State-Token", "refSections": [{"refs": [{"id": "ref-for-sec-attribution-reporting-private-state-token"}], "title": "16.1. Initiate trigger verification"}, {"refs": [{"id": "ref-for-sec-attribution-reporting-private-state-token\u2460"}, {"id": "ref-for-sec-attribution-reporting-private-state-token\u2461"}], "title": "16.2. Handle trigger verification"}], "external": false};
window.dfnpanelData['set-trigger-verification-request-headers'] = {"dfnID": "set-trigger-verification-request-headers", "url": "#set-trigger-verification-request-headers", "dfnText": "set trigger verification request headers", "refSections": [{"refs": [{"id": "ref-for-set-trigger-verification-request-headers"}], "title": "3. Network monkeypatches"}, {"refs": [{"id": "ref-for-set-trigger-verification-request-headers\u2460"}], "title": "10. Vendor-Specific Values"}, {"refs": [{"id": "ref-for-set-trigger-verification-request-headers\u2461"}], "title": "16. Report Verification Algorithms"}], "external": false};
window.dfnpanelData['receive-trigger-verification-tokens'] = {"dfnID": "receive-trigger-verification-tokens", "url": "#receive-trigger-verification-tokens", "dfnText": "receive trigger verification tokens", "refSections": [{"refs": [{"id": "ref-for-receive-trigger-verification-tokens"}], "title": "11.12. Making a background attributionsrc request"}, {"refs": [{"id": "ref-for-receive-trigger-verification-tokens\u2460"}], "title": "16. Report Verification Algorithms"}], "external": false};
window.dfnpanelData['obtain-and-deliver-debug-reports-on-os-registrations'] = {"dfnID": "obtain-and-deliver-debug-reports-on-os-registrations", "url": "#obtain-and-deliver-debug-reports-on-os-registrations", "dfnText": "obtain and deliver debug reports on OS registrations", "refSections": [{"refs": [{"id": "ref-for-obtain-and-deliver-debug-reports-on-os-registrations"}, {"id": "ref-for-obtain-and-deliver-debug-reports-on-os-registrations\u2460"}, {"id": "ref-for-obtain-and-deliver-debug-reports-on-os-registrations\u2461"}], "title": "11.12. Making a background attributionsrc request"}], "external": false};
window.dfnpanelData['automation-local-testing-mode'] = {"dfnID": "automation-local-testing-mode", "url": "#automation-local-testing-mode", "dfnText": "automation local testing mode", "refSections": [{"refs": [{"id": "ref-for-automation-local-testing-mode"}, {"id": "ref-for-automation-local-testing-mode\u2460"}, {"id": "ref-for-automation-local-testing-mode\u2461"}, {"id": "ref-for-automation-local-testing-mode\u2462"}], "title": "10. Vendor-Specific Values"}, {"refs": [{"id": "ref-for-automation-local-testing-mode\u2463"}], "title": "13.12. Establishing report delivery time"}, {"refs": [{"id": "ref-for-automation-local-testing-mode\u2464"}], "title": "17.1. Set local testing mode"}], "external": false};
</script>
<script>/* Boilerplate: script-dom-helper */
function query(sel) { return document.querySelector(sel); }

function queryAll(sel) { return [...document.querySelectorAll(sel)]; }

function iter(obj) {
	if(!obj) return [];
	var it = obj[Symbol.iterator];
	if(it) return it;
	return Object.entries(obj);
}

function mk(tagname, attrs, ...children) {
	const el = document.createElement(tagname);
	for(const [k,v] of iter(attrs)) {
		if(k.slice(0,3) == "_on") {
			const eventName = k.slice(3);
			el.addEventListener(eventName, v);
		} else if(k[0] == "_") {
			// property, not attribute
			el[k.slice(1)] = v;
		} else {
			if(v === false || v == null) {
        continue;
      } else if(v === true) {
        el.setAttribute(k, "");
        continue;
      } else {
  			el.setAttribute(k, v);
      }
		}
	}
	append(el, children);
	return el;
}

/* Create shortcuts for every known HTML element */
[
  "a",
  "abbr",
  "acronym",
  "address",
  "applet",
  "area",
  "article",
  "aside",
  "audio",
  "b",
  "base",
  "basefont",
  "bdo",
  "big",
  "blockquote",
  "body",
  "br",
  "button",
  "canvas",
  "caption",
  "center",
  "cite",
  "code",
  "col",
  "colgroup",
  "datalist",
  "dd",
  "del",
  "details",
  "dfn",
  "dialog",
  "div",
  "dl",
  "dt",
  "em",
  "embed",
  "fieldset",
  "figcaption",
  "figure",
  "font",
  "footer",
  "form",
  "frame",
  "frameset",
  "head",
  "header",
  "h1",
  "h2",
  "h3",
  "h4",
  "h5",
  "h6",
  "hr",
  "html",
  "i",
  "iframe",
  "img",
  "input",
  "ins",
  "kbd",
  "label",
  "legend",
  "li",
  "link",
  "main",
  "map",
  "mark",
  "meta",
  "meter",
  "nav",
  "nobr",
  "noscript",
  "object",
  "ol",
  "optgroup",
  "option",
  "output",
  "p",
  "param",
  "pre",
  "progress",
  "q",
  "s",
  "samp",
  "script",
  "section",
  "select",
  "small",
  "source",
  "span",
  "strike",
  "strong",
  "style",
  "sub",
  "summary",
  "sup",
  "table",
  "tbody",
  "td",
  "template",
  "textarea",
  "tfoot",
  "th",
  "thead",
  "time",
  "title",
  "tr",
  "u",
  "ul",
  "var",
  "video",
  "wbr",
  "xmp",
].forEach(tagname=>{
	mk[tagname] = (...args) => mk(tagname, ...args);
});

function* nodesFromChildList(children) {
	for(const child of children.flat(Infinity)) {
		if(child instanceof Node) {
			yield child;
		} else {
			yield new Text(child);
		}
	}
}
function append(el, ...children) {
	for(const child of nodesFromChildList(children)) {
		if(el instanceof Node) el.appendChild(child);
		else el.push(child);
	}
	return el;
}

function insertAfter(el, ...children) {
	for(const child of nodesFromChildList(children)) {
		el.parentNode.insertBefore(child, el.nextSibling);
	}
	return el;
}

function clearContents(el) {
	el.innerHTML = "";
	return el;
}

function parseHTML(markup) {
	if(markup.toLowerCase().trim().indexOf('<!doctype') === 0) {
		const doc = document.implementation.createHTMLDocument("");
		doc.documentElement.innerHTML = markup;
		return doc;
	} else {
		const el = mk.template({});
		el.innerHTML = markup;
		return el.content;
	}
}
</script>
<script>/* Boilerplate: script-var-click-highlighting */
/*
Color-choosing design:

Colors are ordered by goodness.
Each color has a usage count (initially zero).
Each variable has a last-used color.

* If the var has a last-used color, and that color's usage is 0,
    return that color.
* Otherwise, return the lowest-indexed color with the lowest usage.
    Increment the color's usage and set it as the last-used color
    for that var.
* On unclicking, decrement usage of the color.
*/
"use strict";
{
    document.addEventListener("click", e=>{
        if(e.target.nodeName == "VAR") {
            highlightSameAlgoVars(e.target);
        }
    });
    const indexCounts = new Map();
    const indexNames = new Map();
    function highlightSameAlgoVars(v) {
        // Find the algorithm container.
        let algoContainer = null;
        let searchEl = v;
        while(algoContainer == null && searchEl != document.body) {
            searchEl = searchEl.parentNode;
            if(searchEl.hasAttribute("data-algorithm")) {
                algoContainer = searchEl;
            }
        }

        // Not highlighting document-global vars,
        // too likely to be unrelated.
        if(algoContainer == null) return;

        const algoName = algoContainer.getAttribute("data-algorithm");
        const varName = getVarName(v);
        const addClass = !v.classList.contains("selected");
        let highlightClass = null;
        if(addClass) {
            const index = chooseHighlightIndex(algoName, varName);
            indexCounts.get(algoName)[index] += 1;
            indexNames.set(algoName+"///"+varName, index);
            highlightClass = nameFromIndex(index);
        } else {
            const index = previousHighlightIndex(algoName, varName);
            indexCounts.get(algoName)[index] -= 1;
            highlightClass = nameFromIndex(index);
        }

        // Find all same-name vars, and toggle their class appropriately.
        for(const el of algoContainer.querySelectorAll("var")) {
            if(getVarName(el) == varName) {
                el.classList.toggle("selected", addClass);
                el.classList.toggle(highlightClass, addClass);
            }
        }
    }
    function getVarName(el) {
        return el.textContent.replace(/(\s|\xa0)+/, " ").trim();
    }
    function chooseHighlightIndex(algoName, varName) {
        let indexes = null;
        if(indexCounts.has(algoName)) {
            indexes = indexCounts.get(algoName);
        } else {
            // 7 classes right now
            indexes = [0,0,0,0,0,0,0];
            indexCounts.set(algoName, indexes);
        }

        // If the element was recently unclicked,
        // *and* that color is still unclaimed,
        // give it back the same color.
        const lastIndex = previousHighlightIndex(algoName, varName);
        if(indexes[lastIndex] === 0) return lastIndex;

        // Find the earliest index with the lowest count.
        const minCount = Math.min.apply(null, indexes);
        let index = null;
        for(var i = 0; i < indexes.length; i++) {
            if(indexes[i] == minCount) {
                return i;
            }
        }
    }
    function previousHighlightIndex(algoName, varName) {
        return indexNames.get(algoName+"///"+varName);
    }
    function nameFromIndex(index) {
        return "selected" + index;
    }
}
</script>